System.register("chunks:///_virtual/EventListener.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,s,r,i,c;return{setters:[function(e){n=e.defineProperty,t=e.inheritsLoose,s=e.createClass},function(e){r=e.cclegacy,i=e._decorator,c=e.EventTarget}],execute:function(){var u,a,o;r._RF.push({},"1ca1cfU43pFM64dVb9njsy1","EventListener",void 0);var l=i.ccclass;i.property,e("EventListener",l("EventListener")((o=a=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),s(n,null,[{key:"Instance",get:function(){return null==this.instance&&(this.instance=new n),this.instance}}]),n}(c),n(a,"instance",null),u=o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventListener.ts","./Define.ts","./Player.ts"],(function(e){"use strict";var t,n,s,r,a,i,o,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,o=e.Component},function(e){c=e.EventListener},function(e){p=e.EventName},function(e){u=e.Player}],execute:function(){var l,g,f,d,y;a._RF.push({},"3cd59CPpDxPKbPdt/sN9kMq","GameMgr",void 0);var m=i.ccclass,v=i.property;e("GameMgr",(l=m("GameMgr"),g=v(u),l((y=t((d=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,s(r(t),"player",y,r(t)),t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;window.onmessage=function(t){e.processMsg(t.data)},document.addEventListener("message",(function(t){e.processMsg(t.data)}))},a.processMsg=function(e){switch("string"==typeof e&&(e=JSON.parse(e)),e.type){case"location":switch(e.name){case"heading":c.Instance.emit(p.OnHeading,e.response.heading);break;case"geolocation":break;case"gyroscope":c.Instance.emit(p.OnGyroscope,e.response)}}},a.sendMessage=function(e,t,n){var s={type:e,name:t,params:n},r=window;r.ReactNativeWebView&&r.ReactNativeWebView.postMessage(JSON.stringify(s)),console.log("Send App msg: ",s)},t}(o)).prototype,"player",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var t;e("EventName",void 0),n._RF.push({},"829df7KbwBMt7aGUDmngIF8","Define",void 0),function(e){e.OnHeading="onheading",e.OnGyroscope="ongyroscope"}(t||(t=e("EventName",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventListener.ts","./Define.ts"],(function(t){"use strict";var e,n,i,o,a,s,r,c,l,h,d,u,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.defineProperty},function(t){s=t.cclegacy,r=t._decorator,c=t.Animation,l=t.Vec3,h=t.math,d=t.Quat,u=t.Component},function(t){p=t.EventListener},function(t){f=t.EventName}],execute:function(){var g,k,y,v,w;s._RF.push({},"8b16bIAaHpIe48uk/A+x15Z","Player",void 0);var m,A=r.ccclass,W=r.property;!function(t){t[t.None=0]="None",t[t.Idle=1]="Idle",t[t.Walk=2]="Walk",t[t.WalkBackward=3]="WalkBackward"}(m||(m={}));t("Player",(g=A("Player"),k=W(c),g((w=e((v=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(o(e),"animation",w,o(e)),a(o(e),"state",m.None),a(o(e),"position",new l),a(o(e),"direction",new l),a(o(e),"nextPosition",void 0),a(o(e),"angle",0),a(o(e),"nextAngle",0),a(o(e),"gyroscope",0),e}n(e,t);var s=e.prototype;return s.start=function(){p.Instance.on(f.OnHeading,this.onHeading,this),p.Instance.on(f.OnGyroscope,this.onGyroscope,this),this.setState(m.Idle)},s.update=function(t){switch(this.angle=h.lerp(this.angle,this.nextAngle,5*t),this.setAngle(-this.angle),this.state){case m.WalkBackward:case m.Walk:this.direction.set(this.node.forward),this.direction.multiplyScalar(3*this.gyroscope*t),l.add(this.position,this.node.position,this.direction),this.node.position=this.position}},s.setState=function(t){if(this.state!=t)switch(this.state=t,t){case m.Idle:this.animation.crossFade("Idle",.3);break;case m.Walk:this.animation.crossFade("Walk",.3);break;case m.WalkBackward:this.animation.crossFade("Walk Backwards",.3)}},s.walk=function(t){void 0===t&&(t=!1),t?this.setState(m.WalkBackward):this.setState(m.Walk)},s.idle=function(){this.setState(m.Idle)},s.moveTo=function(t){this.nextPosition=t},s.setAngle=function(t){var e=new d;d.fromEuler(e,0,t,0),this.node.setRotation(e)},s.onHeading=function(t){this.nextAngle=this.ConvertAngleToAround(t,this.angle)},s.ConvertAngleToAround=function(t,e){for(t=t%360+360*Math.floor(e/360);t>e+180;)t-=360;for(;t<e-180;)t+=360;return t},s.onGyroscope=function(t){this.gyroscope=Math.abs((t.z+t.y)/2),this.gyroscope>.02?this.walk():this.idle()},e}(u)).prototype,"animation",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventListener.ts","./Define.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,u,s,c,p,f,b,y,g,h,m,d;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,u=e.Camera,s=e.Label,c=e.Node,p=e.Prefab,f=e.Vec3,b=e.randomRange,y=e.instantiate,g=e.geometry,h=e.Component},function(e){m=e.EventListener},function(e){d=e.EventName}],execute:function(){var v,w,z,R,C,P,S,H,T,j,L,M,_,D,I,N,O,V,E,F,G,B,J;a._RF.push({},"d1bc0bQoSBHHJIdOFK9j/mN","main",void 0);var k=l.ccclass,x=l.property;e("main",(v=k("main"),w=x(u),z=x(s),R=x(s),C=x(s),P=x(s),S=x(s),H=x(c),T=x(c),j=x(p),v((J=B=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,r(o(n),"camera",_,o(n)),r(o(n),"fps",D,o(n)),r(o(n),"objectCount",I,o(n)),r(o(n),"deviceMotion",N,o(n)),r(o(n),"gyroscope",O,o(n)),r(o(n),"gyroscopeRaw",V,o(n)),r(o(n),"container",E,o(n)),r(o(n),"player",F,o(n)),r(o(n),"playerPrefab",G,o(n)),t(o(n),"ray",new g.Ray),t(o(n),"frameCount",0),t(o(n),"deltaTime",0),t(o(n),"fpsValue",0),t(o(n),"updateRate",4),n}i(n,e);var a=n.prototype;return a.start=function(){n.instance=this,m.Instance.on(d.OnHeading,this.onHeading,this),m.Instance.on(d.OnGyroscope,this.onGyroscope,this)},a.update=function(e){this.frameCount++,this.deltaTime+=e,this.deltaTime>1/this.updateRate&&(this.fpsValue=this.frameCount/this.deltaTime,this.frameCount=0,this.deltaTime-=1/this.updateRate),this.fps.string=Math.round(this.fpsValue).toString()},a.genPlayer=function(){var e=new f(b(-4,4),0,b(-4,4)),t=y(this.playerPrefab);t.parent=this.container,t.position=e,this.objectCount.string=this.container.children.length.toString()},a.onHeading=function(e){this.deviceMotion.string=e.toString()},a.onGyroscope=function(e){var t=(e.z+e.y)/2;this.gyroscopeRaw.string=JSON.stringify(e),this.gyroscope.string=t.toString()},n}(h),t(B,"instance",null),_=n((M=J).prototype,"camera",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(M.prototype,"fps",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(M.prototype,"objectCount",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(M.prototype,"deviceMotion",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(M.prototype,"gyroscope",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(M.prototype,"gyroscopeRaw",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(M.prototype,"container",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(M.prototype,"player",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(M.prototype,"playerPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=M))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraFollow.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,r,i,n,a,s,l,c,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,l=t.Camera,c=t.Node,u=t.Vec3,p=t.Component}],execute:function(){var f,d,h,m,y,g,v;a._RF.push({},"d955ceGLBdBG6dzTqXkTwuu","CameraFollow",void 0);var b=s.ccclass,w=s.property;t("CameraFollow",(f=b("CameraFollow"),d=w(l),h=w(c),f((g=e((y=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,r(i(e),"camera",g,i(e)),r(i(e),"target",v,i(e)),n(i(e),"offset",void 0),n(i(e),"nextPos",void 0),e}o(e,t);var a=e.prototype;return a.start=function(){u.subtract(this.offset,this.target.position,this.node.position)},a.update=function(t){u.add(this.nextPos,this.offset,this.target.position),this.node.position=this.nextPos},e}(p)).prototype,"camera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"target",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Input.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,s,i,a,c,h,r;return{setters:[function(t){n=t.defineProperty,e=t.inheritsLoose,o=t.createClass,s=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.Node,h=t.Vec2,r=t.Component}],execute:function(){var u,p,l;i._RF.push({},"e1c6c5BxUBFlrIibwgDLx5h","Input",void 0);var d,T=a.ccclass;a.property;!function(t){t[t.None=0]="None",t[t.Down=1]="Down",t[t.Press=2]="Press",t[t.Up=3]="Up"}(d||(d={}));t("Input",T("Input")((l=p=function(t){function i(){for(var e,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(s(e),"state",d.None),n(s(e),"downPosition",new h),n(s(e),"position",new h),n(s(e),"delta",new h),e}e(i,t);var a=i.prototype;return a.onLoad=function(){i.instance=this,this.node.on(c.EventType.TOUCH_START,this.onTouchBegan,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnded,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchCancelled,this)},a.lateUpdate=function(){this.state==d.Down?this.state=d.Press:this.state==d.Up&&(this.state=d.None,this.delta.set(0,0))},a.onTouchBegan=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),this.downPosition=n[0].getUILocation(),h.subtract(this.delta,this.position,this.downPosition),this.state=d.Down,this.StopPropagation(t)},a.onTouchEnded=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),this.state=d.Up,this.StopPropagation(t)},a.onTouchCancelled=function(t){this.state=d.Up,this.StopPropagation(t)},a.onTouchMove=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),h.subtract(this.delta,this.position,this.downPosition),this.state=d.Press,this.StopPropagation(t)},a.reset=function(){this.state=d.None,this.delta.set(0,0)},a.StopPropagation=function(t){},i.Reset=function(){i.instance.reset()},o(i,null,[{key:"Instance",get:function(){return i.instance}},{key:"State",get:function(){return i.instance.state}},{key:"IsTouchDown",get:function(){return!!i.instance&&i.instance.state==d.Down}},{key:"IsTouchUp",get:function(){return i.instance.state==d.Up}},{key:"IsTouchMove",get:function(){return!!i.instance&&i.instance.state==d.Press}}]),i}(r),n(p,"instance",null),u=l))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./EventListener.ts","./Define.ts","./Player.ts","./GameMgr.ts","./main.ts","./CameraFollow.ts","./Input.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});