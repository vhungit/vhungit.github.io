System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var n,o,r,e;return{setters:[function(t){n=t.cclegacy,o=t.Quat,r=t.Vec3,e=t.math}],execute:function(){n._RF.push({},"10e5ec48SRIkIMCKunjzFih","Utils",void 0);t("Utils",function(){function t(){}return t.RotationAroundNode=function(t,n,i,u){var c=new o,s=new r,a=new r,d=t.worldPosition,l=e.toRadian(u);return o.fromAxisAngle(c,i,l),r.subtract(s,d,n),r.transformQuat(a,s,c),t.worldPosition=r.add(a,n,a),o.rotateAround(c,t.worldRotation,i,l),c},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/bodyPart.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var r,e,n,o,i,a,c,s;return{setters:[function(t){r=t.cclegacy,e=t._decorator,n=t.Node,o=t.Component},function(t){i=t.applyDecoratedDescriptor,a=t.inheritsLoose,c=t.initializerDefineProperty,s=t.assertThisInitialized}],execute:function(){var u,l,p,y,f;r._RF.push({},"69d49i6+EBPVqqp3f0EO0BL","bodyPart",void 0);var d=e.ccclass,b=e.property;t("BodyPart",(u=d("BodyPart"),l=b(n),u((f=i((y=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r=t.call.apply(t,[this].concat(n))||this,c(s(r),"bone",f,s(r)),r}return a(r,t),r.prototype.start=function(){},r}(o)).prototype,"bone",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/body.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var n,r,t,o,i,l,a,u;return{setters:[function(e){n=e.cclegacy,r=e._decorator,t=e.Node,o=e.Component},function(e){i=e.applyDecoratedDescriptor,l=e.inheritsLoose,a=e.initializerDefineProperty,u=e.assertThisInitialized}],execute:function(){var c,b,p,s,f,y,d,g,m,h,v,z,w;n._RF.push({},"8f5dcPLKbtEqbkxevbRct7V","body",void 0);var B=r.ccclass,L=r.property;e("Body",(c=B("Body"),b=L(t),p=L(t),s=L(t),f=L(t),y=L(t),c((m=i((g=function(e){function n(){for(var n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return n=e.call.apply(e,[this].concat(t))||this,a(u(n),"boneFace",m,u(n)),a(u(n),"boneTop",h,u(n)),a(u(n),"boneArm",v,u(n)),a(u(n),"boneBack",z,u(n)),a(u(n),"boneLeg",w,u(n)),n}return l(n,e),n.prototype.start=function(){},n}(o)).prototype,"boneFace",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=i(g.prototype,"boneTop",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(g.prototype,"boneArm",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(g.prototype,"boneBack",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(g.prototype,"boneLeg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/character.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./bodyPart.ts","./body.ts","./Define.ts","./Input.ts"],(function(e){"use strict";var t,o,n,i,r,s,a,u,l,c,h,p,d;return{setters:[function(e){t=e.cclegacy,o=e._decorator,n=e.Vec3,i=e.Component},function(e){r=e.applyDecoratedDescriptor,s=e.inheritsLoose,a=e.initializerDefineProperty,u=e.assertThisInitialized,l=e.defineProperty},function(e){c=e.BodyPart},function(e){h=e.Body},function(e){p=e.BodyPartType},function(e){d=e.Input}],execute:function(){var b,f,y,g,P,w,m,B,A,v,z,D,I,k,F;t._RF.push({},"9fe02FY1lJFmqhoENEht2sb","character",void 0);var T=o.ccclass,_=o.property;e("Character",(b=T("Character"),f=_(h),y=_(c),g=_(c),P=_(c),w=_(c),m=_(c),b((v=r((A=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,a(u(t),"body",v,u(t)),a(u(t),"face",z,u(t)),a(u(t),"top",D,u(t)),a(u(t),"arm",I,u(t)),a(u(t),"back",k,u(t)),a(u(t),"leg",F,u(t)),l(u(t),"temp",new n),l(u(t),"touchDownPosX",0),l(u(t),"eulerAngleSave",new n),l(u(t),"eulerAngle",new n),t}s(t,e);var o=t.prototype;return o.start=function(){},o.updateBonePos=function(e,t){t.node.worldPosition=this.body.node.worldPosition,n.subtract(this.temp,e.worldPosition,t.bone.worldPosition),n.add(this.temp,this.body.node.worldPosition,this.temp),t.node.worldPosition=this.temp},o.update=function(e){d.IsTouchDown?(this.touchDownPosX=d.Instance.downPosition.x,this.eulerAngleSave.set(this.node.eulerAngles)):d.IsTouchMove&&(this.eulerAngle.set(this.eulerAngleSave),this.eulerAngle.add3f(0,d.Instance.position.x-this.touchDownPosX,0),this.node.eulerAngles=this.eulerAngle)},o.updateBone=function(){this.updateBonePos(this.body.boneFace,this.face),this.updateBonePos(this.body.boneTop,this.top),this.updateBonePos(this.body.boneArm,this.arm),this.updateBonePos(this.body.boneBack,this.back),this.updateBonePos(this.body.boneLeg,this.leg)},o.setBody=function(e){this.body=e},o.setBodyPart=function(e,t){switch(e){case p.Arm:this.arm=t}},t}(i)).prototype,"body",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=r(A.prototype,"face",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(A.prototype,"top",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(A.prototype,"arm",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(A.prototype,"back",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(A.prototype,"leg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=A))||B));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./bodyPart.ts","./body.ts","./Define.ts","./character.ts"],(function(t){"use strict";var r,e,o,a,n,i,c,s,u,f,d,l,p,y,h,g;return{setters:[function(t){r=t.cclegacy,e=t._decorator,o=t.game,a=t.Quat,n=t.resources,i=t.instantiate,c=t.Component},function(t){s=t.applyDecoratedDescriptor,u=t.inheritsLoose,f=t.initializerDefineProperty,d=t.assertThisInitialized,l=t.defineProperty},function(t){p=t.BodyPart},function(t){y=t.Body},function(t){h=t.BodyPartType},function(t){g=t.Character}],execute:function(){var b,v,P,m,B;r._RF.push({},"ba7b0kbqfJLdYQzftkpTGSQ","GameMgr",void 0);var _=e.ccclass,G=e.property;o.config.showFPS=!0;t("GameMgr",(b=_("GameMgr"),v=G(g),b((B=s((m=function(t){function r(){for(var r,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return r=t.call.apply(t,[this].concat(o))||this,f(d(r),"character",B,d(r)),l(d(r),"rotation",new a),r}u(r,t);var e=r.prototype;return e.start=function(){this.rotation=this.node.rotation,this.load()},e.update=function(t){},e.load=function(){var t=this;n.load("prefabs/parts/22/22_Rig_Body",(function(r,e){var o=i(e);o.setParent(t.character.node),t.character.setBody(o.getComponent(y)),t.loadBodyPart()}))},e.loadBodyPart=function(){var t=this;Object.keys(h).forEach((function(r){var e=h[r];n.load("prefabs/parts/22/22_Rig_"+e,(function(r,o){if(o){var a=i(o);a.setParent(t.character.node),t.character.setBodyPart(e,a.getComponent(p))}else console.error("body part notfound: "+e)}))}))},r}(c)).prototype,"character",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=m))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraCtrl.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var r,e,i,o,n,a,s,l,u,c,h,p;return{setters:[function(t){r=t.cclegacy,e=t._decorator,i=t.Node,o=t.Quat,n=t.Vec3,a=t.math,s=t.Component},function(t){l=t.applyDecoratedDescriptor,u=t.inheritsLoose,c=t.initializerDefineProperty,h=t.assertThisInitialized,p=t.defineProperty}],execute:function(){var d,f,v,g,y;r._RF.push({},"cde180h0PZNpp22lh0ZnyJ1","CameraCtrl",void 0);var m=e.ccclass,w=e.property;t("CameraCtrl",(d=m("CameraCtrl"),f=w(i),d((y=l((g=function(t){function r(){for(var r,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i))||this,c(h(r),"target",y,h(r)),p(h(r),"angle",10),p(h(r),"_quat",new o),p(h(r),"v1",new n),p(h(r),"v2",new n),r}u(r,t);var e=r.prototype;return e.start=function(){},e.update=function(t){var r=a.toRadian(this.angle*t);o.fromAxisAngle(this._quat,n.UP,r),n.subtract(this.v1,this.node.worldPosition,this.target.worldPosition),n.transformQuat(this.v2,this.v1,this._quat),this.node.worldPosition=n.add(this.v2,this.target.worldPosition,this.v2),o.rotateAround(this._quat,this.node.worldRotation,n.UP,r),this.node.lookAt(this.target.position)},r}(s)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Input.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var n,o,e,s,i,c,a,h,u;return{setters:[function(t){n=t.cclegacy,o=t._decorator,e=t.Node,s=t.Vec2,i=t.Component},function(t){c=t.defineProperty,a=t.inheritsLoose,h=t.createClass,u=t.assertThisInitialized}],execute:function(){var r,p,T;n._RF.push({},"e1c6c5BxUBFlrIibwgDLx5h","Input",void 0);var l,d=o.ccclass;o.property;!function(t){t[t.None=0]="None",t[t.Down=1]="Down",t[t.Press=2]="Press",t[t.Up=3]="Up"}(l||(l={}));t("Input",d("Input")((T=p=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return n=t.call.apply(t,[this].concat(e))||this,c(u(n),"state",l.None),c(u(n),"isTouchDown",!1),c(u(n),"downPosition",new s),c(u(n),"position",new s),c(u(n),"delta",new s),n}a(n,t);var o=n.prototype;return o.onLoad=function(){n.instance=this,this.node.on(e.EventType.TOUCH_START,this.onTouchBegan,this),this.node.on(e.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(e.EventType.TOUCH_END,this.onTouchEnded,this),this.node.on(e.EventType.TOUCH_CANCEL,this.onTouchCancelled,this)},o.lateUpdate=function(){this.state==l.Down?this.state=l.Press:this.state==l.Up&&(this.state=l.None,this.delta.set(0,0))},o.onTouchBegan=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),this.downPosition=n[0].getUILocation(),s.subtract(this.delta,this.position,this.downPosition),this.isTouchDown=!0,this.state=l.Down,this.StopPropagation(t)},o.onTouchEnded=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),this.isTouchDown=!1,this.state=l.Up,this.StopPropagation(t)},o.onTouchCancelled=function(t){this.isTouchDown=!1,this.state=l.Up,this.StopPropagation(t)},o.onTouchMove=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),s.subtract(this.delta,this.position,this.downPosition),this.isTouchDown=!0,this.state=l.Press,this.StopPropagation(t)},o.reset=function(){this.state=l.None,this.delta.set(0,0)},o.StopPropagation=function(t){},n.Reset=function(){n.instance.reset()},h(n,null,[{key:"Instance",get:function(){return n.instance}},{key:"State",get:function(){return n.instance.state}},{key:"IsTouchDown",get:function(){return!!n.instance&&n.instance.state==l.Down}},{key:"IsTouchUp",get:function(){return n.instance.state==l.Up}},{key:"IsTouchMove",get:function(){return!!n.instance&&n.instance.state==l.Press}}]),n}(i),c(p,"instance",null),r=T))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Rotation.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,i,n,o,a,l,c,u,s;return{setters:[function(e){t=e.cclegacy,r=e._decorator,i=e.CCFloat,n=e.Vec3,o=e.Component},function(e){a=e.applyDecoratedDescriptor,l=e.inheritsLoose,c=e.initializerDefineProperty,u=e.assertThisInitialized,s=e.defineProperty}],execute:function(){var p,d,f,h,y,g,b;t._RF.push({},"eddd4lxbtdOHrEJO75AcVdI","Rotation",void 0);var v=r.ccclass,m=r.property;e("Rotation",(p=v("Rotation"),d=m(i),f=m(n),p((g=a((y=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,c(u(t),"speed",g,u(t)),c(u(t),"direction",b,u(t)),s(u(t),"eulerAngle",new n),t}l(t,e);var r=t.prototype;return r.start=function(){},r.update=function(e){this.eulerAngle.add(this.direction.normalize().multiplyScalar(this.speed*e)),this.node.eulerAngles=this.eulerAngle},t}(o)).prototype,"speed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),b=a(y.prototype,"direction",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n(0,0,1)}}),h=y))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){var t;e("BodyPartType",void 0),c._RF.push({},"fc421YGMexO8qJg9ZQMzcKC","Define",void 0),function(e){e.Body="Body",e.Face="Face",e.Tail="Tail",e.Top="Top",e.Leg="Leg",e.Back="Back",e.Arm="Arm"}(t||(t=e("BodyPartType",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Utils.ts","./bodyPart.ts","./body.ts","./Define.ts","./Input.ts","./character.ts","./GameMgr.ts","./CameraCtrl.ts","./Rotation.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});