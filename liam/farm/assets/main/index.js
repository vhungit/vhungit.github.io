System.register("chunks:///_virtual/AppearEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,a,c,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,c=t.Vec3,o=t.tween,r=t.Component}],execute:function(){var s;n._RF.push({},"45a23strzlPjp9u4RL2+/dF","AppearEffect",void 0);var i=a.ccclass;a.property,t("AppearEffect",i("AppearEffect")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.onLoad=function(){},a.onEnable=function(){this.playAppear()},a.playAppear=function(){this.node.setScale(c.ZERO),o(this.node).to(.5,{scale:c.ONE},{easing:"elasticOut"}).start()},a.playDisappear=function(){var t=this;this.node.setScale(c.ONE),o(this.node).to(.3,{scale:c.ZERO},{easing:"quintOut"}).call((function(){t.node.active=!1})).start()},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppleTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,l,p,u,c,h,d,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Node,l=e.Prefab,p=e.instantiate,u=e.randomRange,c=e.tween,h=e.Vec3,d=e.Component},function(e){f=e.gameEvent,v=e.EventName}],execute:function(){var m,T,g,w,b,y,R;o._RF.push({},"beeaehmtohLtaT784Rma+3K","AppleTree",void 0);var A=s.ccclass,P=s.property;e("AppleTree",(m=A("AppleTree"),T=P(a),g=P(l),m((y=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"applesRoot",y,r(t)),i(t,"appleDropPrefab",R,r(t)),t.dropIndex=0,t.tweenShake=null,t.isCanHarvest=!0,t.resetTimeout=null,t}n(t,e);var o=t.prototype;return o.checkHarvest=function(){return this.isCanHarvest},o.harvest=function(){var e=this;if(this.dropIndex>=this.applesRoot.children.length)this.isCanHarvest=!1;else{var t=this.applesRoot.children[this.dropIndex];t.active=!1,this.dropIndex++;var n=p(this.appleDropPrefab);this.node.addChild(n),n.setPosition(t.position),n.name="apple";var i=u(1.5,2);c(n).to(1*i/3,{position:new h(n.position.x,0,n.position.z)}).delay(2*i/3).to(.3,{scale:new h(2,2,2)},{easing:"elasticOut"}).call((function(){f.emit(v.TWEEN_APPLE_TO_INVENTORY,n,.8)})).start(),this.shake(),this.resetTimeout&&clearTimeout(this.resetTimeout),this.resetTimeout=setTimeout((function(){e.reset()}),1e4)}},o.shake=function(){var e=this;this.tweenShake||(this.tweenShake=c(this.node).to(.1,{eulerAngles:new h(0,0,2)}).to(.1,{eulerAngles:new h(0,0,0)}).to(.1,{eulerAngles:new h(0,0,-2)}).to(.1,{eulerAngles:new h(0,0,0)}).call((function(){e.tweenShake=null})).start())},o.start=function(){},o.reset=function(){this.dropIndex=0,this.isCanHarvest=!0,this.resetTimeout=null;for(var e=0;e<this.applesRoot.children.length;e++)this.applesRoot.children[e].active=!0},t}(d)).prototype,"applesRoot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(b.prototype,"appleDropPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(o){"use strict";var t,n,e,i,r,u,s,a,c,p,S;return{setters:[function(o){t=o.inheritsLoose,n=o.asyncToGenerator,e=o.regeneratorRuntime},function(o){i=o.cclegacy,r=o._decorator,u=o.AudioSource,s=o.log,a=o.Component,c=o.assetManager},function(o){p=o.gameEvent,S=o.EventName}],execute:function(){var d;o("SoundName",void 0),i._RF.push({},"888f6lrHl9PTqwExR3D52gi","AudioMgr",void 0);var l,h=r.ccclass;r.property;!function(o){o.LOADING="loading",o.CONFIRM="confirm",o.BACK="back",o.NEXT="next",o.FILTER="filter",o.INFO="info",o.SHARE="share",o.CHECKBOX="checkbox",o.BACKGROUND="background",o.ADD_ITEM_UPGRADE="add_item_upgrade",o.ADD_ITEM_UPGRADE_FAILED="pick_up_material_failed",o.CLICK_PROGRESS="click_progress",o.LEVEL_UP="level_up",o.PROGRESS_FULL="progress_full",o.SHAKE="shake",o.REWARD="reward",o.PICK_UP="pick_up_material",o.PICK_UP_FAILED="pick_up_material_failed",o.ADD_ITEM_INVENTORY="add_item_inventory",o.SELECT_LOCATION="swipe",o.CLICK_MY_LOCATION="action_sound",o.SWIPE="swipe",o.BADGE_UP="level_up",o.TOGGLE="filter",o.SHARE_UTIL="action_sound"}(l||(l=o("SoundName",{})));o("BG_MUSIC","bg_music"),o("AudioMgr",h("AudioMgr")(d=function(o){function i(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).audioClips=null,t.audioSourceSfx=null,t.audioSourceSfxLoop=null,t.audioSourceBg=null,t.cdnUrl="https://img.mservice.com.vn/app/img/Gamification/gameone/sounds/",t}t(i,o);var r=i.prototype;return r.onLoad=function(){p.on(S.PLAY_SOUND,this.onPlaySingleSound,this),p.on(S.PLAY_MUSIC,this.onPlayBgMusic,this),p.on(S.STOP_SOUND,this.onStop,this),p.on(S.PLAY_SINGLE_SOUND_LOOP,this.onPlaySingleSoundLoop,this),p.on(S.STOP_SINGLE_SOUND_LOOP,this.onStopSingleSoundLoop,this),p.on(S.STOP_MUSIC,this.onStopMusic,this),p.on(S.CONTINUE_MUSIC,this.onContinueMusic,this),this.init()},r.init=function(){this.audioClips=new Map,this.audioSourceSfx=this.node.addComponent(u),this.audioSourceSfxLoop=this.node.addComponent(u),this.audioSourceSfxLoop.loop=!0,this.audioSourceSfxLoop.playOnAwake=!1,this.audioSourceBg=this.node.addComponent(u),this.audioSourceBg.loop=!0,this.audioSourceBg.playOnAwake=!1},r.onDestroy=function(){p.off(S.PLAY_SOUND,this.onPlaySingleSound,this),p.off(S.PLAY_MUSIC,this.onPlayBgMusic,this),p.off(S.STOP_SOUND,this.onStop,this),p.off(S.PLAY_SINGLE_SOUND_LOOP,this.onPlaySingleSoundLoop,this),p.off(S.STOP_SINGLE_SOUND_LOOP,this.onStopSingleSoundLoop,this)},r.load=function(){var o=n(e().mark((function o(t){var n=this;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("[AudioMgr] load: ",t),o.abrupt("return",new Promise((function(o,e){c.loadRemote(n.cdnUrl+t+".mp3",(function(e,i){i&&n.audioClips.set(t,i),o(i)}))})));case 2:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}(),r.getSound=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(n=this.audioClips.get(t))){o.next=5;break}o.t0=n,o.next=8;break;case 5:return o.next=7,this.load(t);case 7:o.t0=o.sent;case 8:return o.abrupt("return",o.t0);case 9:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onPlayBgMusic=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(t);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceBg.stop(),this.audioSourceBg.clip=n,this.audioSourceBg.play();case 8:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onPlaySingleSound=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(t);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceSfx.playOneShot(n);case 6:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onPlaySingleSoundLoop=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(t);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceSfxLoop.stop(),this.audioSourceSfxLoop.clip=n,this.audioSourceSfxLoop.play();case 8:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onStop=function(){this.audioSourceSfx.stop(),this.audioSourceBg.stop(),this.audioSourceSfxLoop.stop(),s("[AudioMgr] onStop")},r.onContinueMusic=function(){this.audioSourceBg.play()},r.onStopMusic=function(){this.audioSourceBg.stop(),this.audioSourceSfxLoop.stop()},r.onStopSingleSoundLoop=function(){this.audioSourceSfxLoop.stop()},i}(a))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/BreathEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,i,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.tween,s=t.Vec3,c=t.Component}],execute:function(){var r;n._RF.push({},"1306bo0eZJPBZmIu6sojRG0","BreathEffect",void 0);var a=o.ccclass;o.property,t("BreathEffect",a("BreathEffect")(r=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).breathEffect=null,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this.init()},o.onEnable=function(){this.breathEffect=i(this.node).by(.12,{position:new s(0,-5,0)},{easing:"quadOut"}).by(.12,{position:new s(0,5,0)},{easing:"quadIn"}).delay(.1).union().repeat(2).delay(6).union().repeatForever(),this.play()},o.onDisable=function(){this.stop()},o.init=function(){},o.play=function(){var t=this;this.scheduleOnce((function(){t.breathEffect.start()}),3)},o.stop=function(){this.unscheduleAllCallbacks(),this.breathEffect.stop(),this.node.setScale(s.ONE),this.node.setPosition(new s(0,-570))},n}(c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/BusinessMan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts"],(function(e){"use strict";var t,n,r,i,s,o,c,u,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,c=e.Enum,u=e.Component},function(e){a=e.ShopType}],execute:function(){var p,l,y,f,h;s._RF.push({},"9cc57M4z9lNXZmwHQ9D/ls/","BusinessMan",void 0);var M=o.ccclass,g=o.property;c(a);e("BusinessMan",(p=M("BusinessMan"),l=g({type:a}),p((h=t((f=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,r(t,"type",h,i(t)),t}return n(t,e),t.prototype.getType=function(){return this.type},t}(u)).prototype,"type",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.TOMATO_CORN_APPLE}}),y=f))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,i,n,l,a,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Node,s=e.Vec3,c=e.Component}],execute:function(){var u,p,f,h,d,g,y;n._RF.push({},"b9686RX/fxPm5Y/3rgj053I","CameraController",void 0);var m=l.ccclass,C=l.property;e("CameraController",(u=m("CameraController"),p=C(a),f=C({type:s}),u((g=t((d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,o(t,"target",g,i(t)),o(t,"followOffset",y,i(t)),t}return r(t,e),t.prototype.update=function(e){if(null!=this.target){var t=this.target.position.clone().add(this.followOffset),r=new s(0,0,0);s.lerp(r,this.node.position,t,10*e),this.node.setPosition(r)}},t}(c)).prototype,"target",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(d.prototype,"followOffset",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0)}}),h=d))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/Chicken.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,s,c,u,h,d,g,m,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.SkeletalAnimationComponent,s=e.RigidBody,c=e.BoxCollider,u=e.Prefab,h=e.math,d=e.Vec3,g=e.misc,m=e.Component,p=e.instantiate},function(e){f=e.Layer}],execute:function(){var v,E,I,C,D,b,y,L,k,R,w;o._RF.push({},"d41abpOovlEV7FVwCrALrMI","Chicken",void 0);var A,S=a.ccclass,T=a.property;!function(e){e[e.WALK=0]="WALK",e[e.RUN=1]="RUN",e[e.IDLE=2]="IDLE",e[e.EAT=3]="EAT"}(A||(A={}));e("Chicken",(v=S("Chicken"),E=T(l),I=T(s),C=T(c),D=T(u),v((L=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"animation",L,r(t)),i(t,"rigidBody",k,r(t)),i(t,"boxCollider",R,r(t)),i(t,"eggDrop",w,r(t)),t.animationMap=(new Map).set(A.WALK,"ChickenWalk").set(A.RUN,"ChickenRun").set(A.IDLE,"ChickenIdle").set(A.EAT,"ChickenEat"),t.state=A.IDLE,t.direction=t.randomDirection(),t.runDirection=null,t.timeChangeDirection=0,t.walkSpeed=20,t.runSpeed=100,t.runTimeOut=null,t.idleInterval=null,t.walkInterval=null,t.eatInterval=null,t.currentEgg=3,t.maxEgg=3,t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;this.setState(A.IDLE),this.boxCollider.on("onCollisionEnter",this.onCollisionEnter,this),this.boxCollider.on("onCollisionExit",this.onCollisionExit,this),setInterval((function(){e.currentEgg<e.maxEgg&&e.currentEgg++}),1e4)},o.setState=function(e){var t=this;switch(this.state=e,this.animation.play(this.animationMap.get(e)),clearInterval(this.idleInterval),clearInterval(this.walkInterval),clearInterval(this.eatInterval),e){case A.WALK:this.walkInterval=setInterval((function(){h.randomRangeInt(0,100)>40&&t.setState(A.IDLE)}),3e3);break;case A.RUN:break;case A.IDLE:this.idleInterval=setInterval((function(){h.randomRangeInt(0,100)>70?t.setState(A.WALK):h.randomRangeInt(0,100)>40&&t.setState(A.EAT)}),3e3);break;case A.EAT:this.eatInterval=setInterval((function(){h.randomRangeInt(0,100)>70?t.setState(A.WALK):h.randomRangeInt(0,100)>40&&t.setState(A.IDLE)}),3e3)}},o.update=function(e){switch(this.state){case A.WALK:this.timeChangeDirection+=e,this.timeChangeDirection>=3&&(this.direction=this.randomDirection(),this.timeChangeDirection=0),this.move(this.walkSpeed,this.direction,e);break;case A.RUN:this.move(this.runSpeed,this.runDirection,e);break;case A.IDLE:case A.EAT:this.rigidBody.clearVelocity()}},o.move=function(e,t,n){this.rigidBody.setLinearVelocity(new d(-t.z,0,t.x).multiplyScalar(n*e));var i=g.radiansToDegrees(Math.atan2(-t.z,t.x));this.node.eulerAngles=new d(0,i,0)},o.randomDirection=function(){var e=h.randomRange(-1,1),t=h.randomRange(-1,1);return new d(e,0,t)},o.onCollisionEnter=function(e){var t=this;e.otherCollider.node.layer==f.PLAYER&&(this.runDirection=e.otherCollider.node.position.clone().subtract(this.node.position).normalize(),this.setState(A.RUN),null!=this.runTimeOut&&clearTimeout(this.runTimeOut),this.runTimeOut=setTimeout((function(){t.setState(A.IDLE)}),3e3),this.dropEgg())},o.onCollisionExit=function(e){},o.dropEgg=function(){for(var e=this,t=function(t){var n=p(e.eggDrop);n.setParent(e.node.parent),n.setPosition(e.node.position.clone().add(new d(h.randomRange(-.2,.2),0,h.randomRange(-.2,.2)))),setTimeout((function(){n.destroy()}),1e3)},n=0;n<this.currentEgg;n++)t();this.currentEgg=0},t}(m)).prototype,"animation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(y.prototype,"rigidBody",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(y.prototype,"boxCollider",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(y.prototype,"eggDrop",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/Convert2DTo3D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,n,s,r,c,i;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,s=o.find,r=o.Camera,c=o.Vec3,i=o.Component}],execute:function(){var a;e._RF.push({},"98eadZc6KpF8J3JqcSQGm+H","Convert2DTo3D",void 0);var p=n.ccclass;n.property,o("getUIPosFrom3D",p("getUIPosFrom3D")(a=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(t=o.call.apply(o,[this].concat(n))||this).pos=new c,t.distance=10,t}return t(e,o),e.prototype.set=function(o,t){s("3D-Camera").getComponent(r).convertToUINode(o,this.node.parent,this.pos),t&&this.pos.add(t),console.log(this.pos),this.node.setPosition(this.pos)},e}(i))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){"use strict";var O;return{setters:[function(e){O=e.cclegacy}],execute:function(){e({HouseType:void 0,ShopType:void 0,TreeType:void 0,WorkerType:void 0}),O._RF.push({},"f0d2e8KMEpHrKUuhfixibGq","Define",void 0);var E,R,i,n,o=e("Layer",(function(){}));o.GROUND=1,o.PLAYER=2,o.PORT=4,o.SHOP=8,o.BORDER=16,o.FIELD=32,o.BUSINESS_MAN=64,o.APPLE_TREE=128,o.WORKER_HOUSE=256,o.CHICKEN=512,function(e){e[e.NONE=0]="NONE",e[e.APPLE=1]="APPLE"}(E||(E=e("TreeType",{}))),function(e){e[e.EGG_MILK=0]="EGG_MILK",e[e.TOMATO_CORN_APPLE=1]="TOMATO_CORN_APPLE"}(R||(R=e("ShopType",{}))),function(e){e[e.HOUSE_WORKER=0]="HOUSE_WORKER"}(i||(i=e("HouseType",{}))),function(e){e[e.WORKER_CORN=0]="WORKER_CORN",e[e.WORKER_TOMATO=1]="WORKER_TOMATO"}(n||(n=e("WorkerType",{}))),O._RF.pop()}}}));

System.register("chunks:///_virtual/Field.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(t){"use strict";var i,n,e,r,l,o,a,s,u,c,h,f,p,C,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,a=t.Node,s=t.Prefab,u=t.instantiate,c=t.Vec3,h=t.randomRange,f=t.tween,p=t.Component},function(t){C=t.gameEvent,m=t.EventName}],execute:function(){var v,g,d,b,y,P,z,w,S,F,D,M,W,k,E,H,T,_,R,N,A,I,x;t("FieldType",void 0),l._RF.push({},"ed4fedB1QRFiouHJ3aoGu3k","Field",void 0);var B,G=o.ccclass,L=o.property;!function(t){t.corn="corn",t.tomato="tomato"}(B||(B=t("FieldType",{})));t("Field",(v=G("Field"),g=L(a),d=L(s),b=L(a),y=L(s),P=L(s),z=L(s),w=L(a),S=L(s),F=L(s),D=L(s),v((k=i((W=function(t){function i(){for(var i,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l))||this,e(i,"fieldCellContainer",k,r(i)),e(i,"fieldCell",E,r(i)),i.fieldCellSize=.5,i.size=0,e(i,"cornContainer",H,r(i)),e(i,"cornPlantS",T,r(i)),e(i,"cornPlantM",_,r(i)),e(i,"cornDrop",R,r(i)),e(i,"tomatoContainer",N,r(i)),e(i,"tomatoPlantS",A,r(i)),e(i,"tomatoPlantM",I,r(i)),e(i,"tomatoDrop",x,r(i)),i.isPlanting=!1,i.isCanWatering=!1,i.isCanHarvest=!1,i.type=null,i}n(i,t);var l=i.prototype;return l.setInfo=function(t,i){void 0===i&&(i=5),this.type=t,this.size=i,this.initField()},l.initField=function(){for(var t=0;t<this.size;t++)for(var i=0;i<this.size;i++){var n=u(this.fieldCell);n.parent=this.fieldCellContainer,n.setPosition(t*this.fieldCellSize,0,i*this.fieldCellSize)}this.isPlanting=!1,this.isCanWatering=!1,this.isCanHarvest=!1},l.checkPlant=function(){return this.isPlanting},l.checkWater=function(){return this.isCanWatering},l.checkHarvest=function(){return this.isCanHarvest},l.getType=function(){return this.type},l.plant=function(){null!=this.type&&(console.log("plant: "+B[this.type]),this.isPlanting=!0,this.genPlantS())},l.watering=function(){null!=this.type&&(console.log("watering: "+B[this.type]),this.isCanWatering=!0,this.genPlantM())},l.genPlantS=function(){var t=null,i=null;switch(this.type){case B.corn:t=this.cornPlantS,i=this.cornContainer;break;case B.tomato:t=this.tomatoPlantS,i=this.tomatoContainer}if(null!=t&&null!=i){i.active=!0,i.removeAllChildren();for(var n=0;n<this.size;n++)for(var e=0;e<this.size;e++){var r=u(t);r.parent=i,r.setPosition(n*this.fieldCellSize,0,e*this.fieldCellSize)}this.isCanWatering=!0}},l.genPlantM=function(){var t=null,i=null;switch(this.type){case B.corn:t=this.cornPlantM,i=this.cornContainer;break;case B.tomato:t=this.tomatoPlantM,i=this.tomatoContainer}if(null!=t&&null!=i){i.removeAllChildren();for(var n=0;n<this.size;n++)for(var e=0;e<this.size;e++){var r=u(t);r.parent=i,r.setPosition(n*this.fieldCellSize,0,e*this.fieldCellSize)}this.isCanWatering=!1,this.isCanHarvest=!0}},l.harvest=function(){if(null!=this.type&&(console.log("harvest: "+B[this.type]),this.isPlanting)){this.isPlanting=!1,this.isCanWatering=!1,this.isCanHarvest=!1;var t=null,i=null;switch(this.type){case B.corn:t=this.cornDrop,i=this.cornContainer;break;case B.tomato:t=this.tomatoDrop,i=this.tomatoContainer}if(null==t||null==i)return;var n=[];i.children.forEach((function(t){n.push(t.position.clone())})),i.removeAllChildren(),n.forEach((function(n){var e=u(t);e.parent=i;var r=new c(n.x,.5,n.z);e.setPosition(r),e.name=e.name.replace("Drop","");var l=h(1.5,2);f(e).to(1*l/3,{position:n}).delay(2*l/3).call((function(){C.emit(m.TWEEN_FRUIT_TO_INVENTORY,e,l)})).start()}))}},i}(p)).prototype,"fieldCellContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(W.prototype,"fieldCell",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(W.prototype,"cornContainer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(W.prototype,"cornPlantS",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(W.prototype,"cornPlantM",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(W.prototype,"cornDrop",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(W.prototype,"tomatoContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(W.prototype,"tomatoPlantS",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(W.prototype,"tomatoPlantM",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(W.prototype,"tomatoDrop",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=W))||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/FlowEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,o,f,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,f=t.UITransform,r=t.tween,s=t.Component}],execute:function(){var c;i._RF.push({},"fc524hSodlC64yiQjPQ3Cd9","FlowEffect",void 0);var e=o.ccclass;o.property,t("FlowEffect",e("FlowEffect")(c=function(t){function i(){for(var n,i=arguments.length,o=new Array(i),f=0;f<i;f++)o[f]=arguments[f];return(n=t.call.apply(t,[this].concat(o))||this).myUITransform=null,n.fillEffect=null,n.onGoing=null,n.maxWidth=null,n}n(i,t);var o=i.prototype;return o.onLoad=function(){this.init()},o.onEnable=function(){this.myUITransform.width=0},o.init=function(){this.onGoing=!1,this.myUITransform=this.getComponent(f),this.maxWidth=this.myUITransform.width},o.play=function(){var t=this;this.onGoing||(this.onGoing=!0,this.fillEffect=r({width:0}).to(.7,{width:this.maxWidth},{onUpdate:function(n,i){t.myUITransform.width=n.width}}).call((function(){t.onGoing=!1})),this.fillEffect.start())},o.stop=function(){this.fillEffect.stop()},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/Fluxay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,a,o,s,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.CCFloat,l=e.Sprite,u=e.tween,c=e.Component}],execute:function(){var p,h,m,y,f,d,v;a._RF.push({},"819518WMadLLqdAR3Hj9//0","Fluxay",void 0);var b=o.ccclass,g=o.property;e("Fluxay",(p=b("Fluxay"),h=g(s),m=g(Number),p((d=t((f=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"speed",d,n(t)),r(t,"interval",v,n(t)),t.material=null,t.time=0,t.shine=null,t}i(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;this.material=this.getComponent(l).customMaterial,this.shine=u({time:-.9}).set({time:-.9}).to(5/this.speed,{time:2.5},{onUpdate:function(t,i){e.material.setProperty("time",t.time)},easing:"linear"}).delay(this.interval).union().repeatForever()},a.onEnable=function(){this.shine.start()},a.onDisable=function(){this.shine.stop(),this.material.setProperty("time",0)},t}(c)).prototype,"speed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),v=t(f.prototype,"interval",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(_){"use strict";var e,t;return{setters:[function(_){e=_.cclegacy,t=_.EventTarget}],execute:function(){_("EventName",void 0),e._RF.push({},"c0730SfM49GIq6TMLTVzLWh","GameEvent",void 0);var n;_("gameEvent",new t);!function(_){_.PLAY_MUSIC="play_music",_.STOP_MUSIC="stop_music",_.PLAY_SOUND="play_sound",_.STOP_SOUND="stop_sound",_.CONTINUE_MUSIC="continue_music",_.PLAY_SINGLE_SOUND_LOOP="play_single_sound_loop",_.STOP_SINGLE_SOUND_LOOP="stop_single_sound_loop",_.USER_PROFILE_UPDATE="user_profile_update",_.PLAYER_ON_FIELD="player_on_field",_.PLAYER_NEAR_TREE="player_near_tree",_.SHOW_SEED_BTN="show_seed_btn",_.SHOW_WATERING_BTN="show_watering_btn",_.SHOW_HARVEST_BTN="show_harvest_btn",_.HIDE_ACTION_BTN="hide_action_btn",_.TWEEN_UI_OBJECT="tween_ui_object",_.TWEEN_FRUIT_TO_INVENTORY="tween_fruit_to_inventory",_.TWEEN_APPLE_TO_INVENTORY="tween_apple_to_inventory",_.TWEEN_LAND_TO_INVENTORY="tween_land_to_inventory",_.UPDATE_COIN="update_coin",_.UPDATE_DIAMONS="update_diamons",_.UPDATE_LAND="update_land",_.UPDATE_FRUIT="update_fruit",_.GAIN_NEW_LEVEL="gain_new_level",_.HIRE_WORKER="hire_worker"}(n||(n=_("EventName",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalDefine.ts",["cc","./Define.ts"],(function(e){"use strict";var i,n,o;return{setters:[function(e){i=e.cclegacy,n=e._decorator},function(e){o=e.ShopType}],execute:function(){var c;i._RF.push({},"3fc3cllGMBIBJvDgH0WWV5S","GlobalDefine",void 0);var t=n.ccclass,r=(n.property,(new Map).set(o.TOMATO_CORN_APPLE,[{id:"corn",name:"corn",icon:"corn",price:1},{id:"tomato",name:"tomato",icon:"tomato",price:2}]).set(o.EGG_MILK,[{id:"egg",name:"egg",icon:"egg",price:1},{id:"milk",name:"milk",icon:"milk",price:2}])),a=e("GlobalDefine",t("GlobalDefine")(c=function(){this.shopConfig=r})||c);e("globalDefine",new a);i._RF.pop()}}}));

System.register("chunks:///_virtual/HouseWorkerPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./WorkerSlot.ts","./UIController.ts"],(function(r){"use strict";var e,o,t,n,i,c,u,a,l,s,p,f,k;return{setters:[function(r){e=r.applyDecoratedDescriptor,o=r.inheritsLoose,t=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){i=r.cclegacy,c=r._decorator,u=r.Node,a=r.Prefab,l=r.instantiate,s=r.Component},function(r){p=r.WorkerType},function(r){f=r.WorkerSlot},function(r){k=r.UIName}],execute:function(){var h,w,P,b,d,y,C;i._RF.push({},"35023NgtXNFkbwJr2XAuEc6","HouseWorkerPopup",void 0);var W=c.ccclass,S=c.property;r("HouseWorkerPopup",(h=W("HouseWorkerPopup"),w=S(u),P=S(a),h((y=e((d=function(r){function e(){for(var e,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=r.call.apply(r,[this].concat(i))||this,t(e,"workerSlotContainer",y,n(e)),t(e,"workerSlotPrefab",C,n(e)),e.workerPrice=100,e}o(e,r);var i=e.prototype;return i.start=function(){var r=this;[p.WORKER_CORN,p.WORKER_TOMATO].forEach((function(e){var o=l(r.workerSlotPrefab);o.getComponent(f).setInfo(e,r.workerPrice),r.workerSlotContainer.addChild(o)}))},i.checkInfo=function(){this.workerSlotContainer.children.forEach((function(r){r.getComponent(f).checkWorker()}))},i.close=function(){uiController.hide(k.HouseWorkerPopup)},e}(s)).prototype,"workerSlotContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(d.prototype,"workerSlotPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/Input.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,s,i,c,a;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){e=t.cclegacy,s=t._decorator,i=t.Vec2,c=t.Node,a=t.Component}],execute:function(){var h,u;t("TouchState",void 0),e._RF.push({},"c6076d9xaJIE69QP200khrJ","Input",void 0);var r,p=s.ccclass;s.property;!function(t){t[t.None=0]="None",t[t.Down=1]="Down",t[t.Press=2]="Press",t[t.Up=3]="Up"}(r||(r=t("TouchState",{})));t("Input",p("Input")(((u=function(t){function e(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).state=r.None,n.isTouchDown=!1,n.downPosition=new i,n.position=new i,n.delta=new i,n}n(e,t);var s=e.prototype;return s.onLoad=function(){e.instance=this,this.node.on(c.EventType.TOUCH_START,this.onTouchBegan,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnded,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchCancelled,this)},s.lateUpdate=function(){this.state==r.Down?this.state=r.Press:this.state==r.Up&&(this.state=r.None,this.delta.set(0,0))},s.onTouchBegan=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),this.downPosition=n[0].getUILocation(),i.subtract(this.delta,this.position,this.downPosition),this.isTouchDown=!0,this.state=r.Down,this.StopPropagation(t)},s.onTouchEnded=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),this.isTouchDown=!1,this.state=r.Up,this.StopPropagation(t)},s.onTouchCancelled=function(t){this.isTouchDown=!1,this.state=r.Up,this.StopPropagation(t)},s.onTouchMove=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),i.subtract(this.delta,this.position,this.downPosition),this.isTouchDown=!0,this.state=r.Press,this.StopPropagation(t)},s.reset=function(){this.state=r.None,this.delta.set(0,0)},s.StopPropagation=function(t){},e.Reset=function(){e.instance.reset()},o(e,null,[{key:"Instance",get:function(){return e.instance}},{key:"State",get:function(){return e.instance.state}},{key:"IsTouchDown",get:function(){return e.instance.state==r.Down}},{key:"IsTouchUp",get:function(){return e.instance.state==r.Up}},{key:"IsTouchMove",get:function(){return e.instance.state==r.Press}},{key:"IsTouchNone",get:function(){return e.instance.state==r.None}}]),e}(a)).instance=null,h=u))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemManager.ts",["cc"],(function(e){"use strict";var r,t,c,a;return{setters:[function(e){r=e.cclegacy,t=e._decorator,c=e.resources,a=e.SpriteFrame}],execute:function(){var n;r._RF.push({},"dcb04y+kUpNApUFcI/I+8O4","ItemManager",void 0);var i=t.ccclass,o=(t.property,e("ItemManager",i("ItemManager")(n=function(){var e=this;this.fruitImgMap=new Map,c.loadDir("fruits",a,(function(r,t){r?console.error(r):t.forEach((function(r){e.fruitImgMap.set(r.name.replace("icon_",""),r)}))}))})||n));e("itemMgr",new o);r._RF.pop()}}}));

System.register("chunks:///_virtual/LedArrowEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,n,i,c,a,f,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,a=t.Sprite,f=t.tween,s=t.color,u=t.Component}],execute:function(){var p,l,h,d,E;i._RF.push({},"413eeCchcpMYpeUUUIpriS7","LedArrowEffect",void 0);var w=c.ccclass,y=c.property;t("LedArrowEffect",(p=w("LedArrowEffect"),l=y(a),p((E=e((d=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,o(e,"arrows",E,n(e)),e.fadeEffects=[],e}r(e,t);var i=e.prototype;return i.onLoad=function(){this.init()},i.init=function(){var t=this;this.arrows.forEach((function(e){t.fadeEffects.push(f({alpha:255}).set({alpha:255}).to(1,{alpha:0},{onUpdate:function(t,r){e.color=s(255,255,255,t.alpha)}}).union().repeatForever())}))},i.onEnable=function(){this.play()},i.onDisable=function(){this.stop()},i.play=function(){var t=this,e=0;this.fadeEffects.forEach((function(r){t.scheduleOnce((function(){r.start()}),e),e+=.3}))},i.stop=function(){this.fadeEffects.forEach((function(t){t.stop()})),this.arrows.forEach((function(t){t.color=s(255,255,255,0)}))},e}(u)).prototype,"arrows",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelUpEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Fluxay.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,c,u,s,f,p,b,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Sprite,c=t.Node,u=t.Label,s=t.tween,f=t.color,p=t.Vec3,b=t.UITransform,h=t.Component},function(t){g=t.Fluxay}],execute:function(){var d,y,v,w,m,I,E,B,O,z,C,L,x,U,q,T,G,N,S,k,F;r._RF.push({},"1aa2e9soGNOpbnV+wilZMYq","LevelUpEffect",void 0);var P=a.ccclass,R=a.property;t("LevelUpEffect",(d=P("LevelUpEffect"),y=R(l),v=R(c),w=R(c),m=R(c),I=R(u),E=R(l),B=R(c),O=R(c),z=R(c),d((x=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"background",x,o(e)),i(e,"titleBorder",U,o(e)),i(e,"titleIcon",q,o(e)),i(e,"aura",T,o(e)),i(e,"congratText",G,o(e)),i(e,"info",N,o(e)),i(e,"closeBtn",S,o(e)),i(e,"btnGroup",k,o(e)),i(e,"foreground",F,o(e)),e.botCoor=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.firstInit()},r.onEnable=function(){var t=this;this.enableInit(),s({alpha:0}).to(.5,{alpha:191},{easing:"quadOut",onUpdate:function(e,n){t.background.color=f(0,0,0,e.alpha)}}).delay(.3).call((function(){t.playEffect()})).start()},r.firstInit=function(){var t=this.foreground.position.y;this.botCoor=new p(0,-this.node.parent.getComponent(b).height-this.titleIcon.getComponent(b).height/2-t)},r.enableInit=function(){this.titleIcon.setScale(new p(1.1,1.1,1.1)),this.titleBorder.setScale(p.ZERO),this.aura.setScale(p.ZERO),this.titleIcon.setPosition(this.botCoor),this.info.node.setPosition(new p(0,this.info.node.position.y-20)),this.closeBtn.active=!1,this.btnGroup.active=!1,this.titleBorder.getComponent(g).enabled=!1,this.titleIcon.getComponent(g).enabled=!1,this.aura.active=!1,this.info.color=f(255,255,255,0),this.congratText.color=f(255,255,255,0)},r.playEffect=function(){var t=this;s(this.titleIcon).to(.5,{position:new p(0,-500)},{easing:"quintOut"}).call((function(){s(t.titleBorder).set({scale:new p(6,6,6)}).to(.2,{scale:new p(1.1,1.1,1.1)},{easing:"quadIn"}).call((function(){s(t.titleIcon).to(.2,{scale:p.ONE},{easing:"quartOut"}).start(),s(t.titleBorder).to(.2,{scale:p.ONE},{easing:"quartOut"}).start()})).delay(.5).call((function(){t.titleBorder.getComponent(g).enabled=!0,t.titleIcon.getComponent(g).enabled=!0,s(t.aura).set({active:!0}).to(1,{scale:p.ONE}).call((function(){t.playInfoEffect(),t.btnGroup.active=!0,t.closeBtn.active=!0})).start()})).start()})).start()},r.playInfoEffect=function(){var t=this;s(this.info.node).by(.5,{position:new p(0,20)},{easing:"sineOut"}).start(),s({alpha:0}).to(.5,{alpha:255},{easing:"sineOut",onUpdate:function(e,n){t.info.color=f(255,255,255,e.alpha),t.congratText.color=f(255,255,255,e.alpha)}}).start()},e}(h)).prototype,"background",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(L.prototype,"titleBorder",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(L.prototype,"titleIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(L.prototype,"aura",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(L.prototype,"congratText",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(L.prototype,"info",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(L.prototype,"closeBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(L.prototype,"btnGroup",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(L.prototype,"foreground",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=L))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/LightEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,a,o,i,c,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.Sprite,i=t.tween,c=t.color,s=t.Vec3,r=t.Component}],execute:function(){var l;n._RF.push({},"39ac9jpR8tIw48ND5G0BA/4","LightEffect",void 0);var f=a.ccclass;a.property,t("LightEffect",f("LightEffect")(l=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).mySprite=null,e.fadeEffect=null,e.scaleEffect=null,e}e(n,t);var a=n.prototype;return a.onLoad=function(){this.init()},a.onEnable=function(){this.play()},a.onDisable=function(){this.stop()},a.init=function(){var t=this;this.mySprite=this.getComponent(o),this.fadeEffect=i({alpha:0}).delay(3).to(6,{alpha:255},{easing:"quadOut",onUpdate:function(e,n){t.mySprite.color=c(255,255,255,e.alpha)}}).delay(12).to(4,{alpha:0},{easing:"quadIn",onUpdate:function(e,n){t.mySprite.color=c(255,255,255,e.alpha)}}).delay(5).union().repeatForever(),this.scaleEffect=i(this.node).delay(3).to(6,{scale:s.ONE},{easing:"quadOut"}).delay(12).to(4,{scale:s.ZERO},{easing:"quadIn"}).delay(5).union().repeatForever()},a.play=function(){this.mySprite.color=c(255,255,255,0),this.node.setScale(s.ZERO),this.fadeEffect.start(),this.scaleEffect.start()},a.stop=function(){this.fadeEffect.stop(),this.scaleEffect.stop()},n}(r))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/LongList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,i,r,a,c,s;return{setters:[function(t){n=t.inheritsLoose,o=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,i=t._decorator,r=t.ScrollView,a=t.UITransform,c=t.Layout,s=t.Component}],execute:function(){var u;e._RF.push({},"b6e6fCGMsVDqqEpWWq1bViy","LongList",void 0);var l=i.ccclass;i.property,t("LongList",l("LongList")(u=function(t){function e(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).min=0,n.max=0,n}n(e,t),e.updateLayout=function(t){var n=t.getComponent(c);n._childrenChanged(),n.updateLayout(!0),n.enabled=!1};var i=e.prototype;return i.set=function(t,n){this.min=t,this.max=n;var o=this.getComponent(r);e.updateLayout(o.content),this.onScroll(o,4)},i.onScroll=function(t,n){if(4==n){var e=t.content.children,i=t.getComponent(a).getBoundingBox(),r=t.content.position.clone();r.add(t.node.position);for(var c,s=o(e);!(c=s()).done;){var u=c.value,l=u.getSiblingIndex();if(!(l<this.min||l>this.max)){var p=u.getComponent(a).getBoundingBox();p.x+=r.x,p.y+=r.y,u.active=p.intersects(i)}}}},e}(s))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LedArrowEffect.ts","./TitleFlyUpEffect.ts","./UpArrowEffect.ts","./AppearEffect.ts","./BreathEffect.ts","./FlowEffect.ts","./LightEffect.ts","./SealEffect.ts","./LevelUpEffect.ts","./Fluxay.ts","./AudioMgr.ts","./Convert2DTo3D.ts","./Define.ts","./Field.ts","./GameEvent.ts","./GlobalDefine.ts","./Port.ts","./Profile.ts","./UIController.ts","./Utils.ts","./LongList.ts","./MyButton.ts","./SnapList.ts","./Storage.ts","./MapData.ts","./AppleTree.ts","./BusinessMan.ts","./CameraController.ts","./Chicken.ts","./Input.ts","./PlayerController.ts","./TweenManager.ts","./UI2DFollow3D.ts","./Worker.ts","./WorkerHouse.ts","./ItemManager.ts","./MapGenerator.ts","./MapManager.ts","./WorkerSlot.ts","./HouseWorkerPopup.ts","./MainScreen.ts","./ShopItem.ts","./ShopPopup.ts","./StartScreen.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemManager.ts","./GameEvent.ts","./Profile.ts"],(function(t){"use strict";var n,e,i,r,o,a,c,u,l,s,p,h,m,f,d,g,b,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,u=t.Node,l=t.Sprite,s=t.Prefab,p=t.SpriteFrame,h=t.Button,m=t.instantiate,f=t.Component},function(t){d=t.itemMgr},function(t){g=t.gameEvent,b=t.EventName},function(t){C=t.profile}],execute:function(){var F,y,P,v,A,B,N,S,E,_,I,T,D,w,k,L,z,M,R,O,U;o._RF.push({},"256e7gBDc9Hp6X+3VV7K3Sj","MainScreen",void 0);var H=a.ccclass,W=a.property;t("MainScreen",(F=H("MainScreen"),y=W(c),P=W(u),v=W(u),A=W(l),B=W(s),N=W(s),S=W(s),E=W(p),_=W(p),F((D=n((T=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"diamondNum",D,r(n)),i(n,"leftCorner",w,r(n)),i(n,"rightCorner",k,r(n)),i(n,"actionBtn",L,r(n)),i(n,"fruitItemPrefab",z,r(n)),i(n,"corn",M,r(n)),i(n,"tomato",R,r(n)),i(n,"harvestSpriteFrame",O,r(n)),i(n,"wateringSpriteFrame",U,r(n)),n.onActionClickFnc=null,n}e(n,t);var o=n.prototype;return o.onLoad=function(){console.log(this.rightCorner.getWorldPosition()),g.on(b.USER_PROFILE_UPDATE,this.updateUI,this),g.on(b.PLAYER_ON_FIELD,this.onPlayerOnField,this),g.on(b.HIDE_ACTION_BTN,this.onHideActionBtn,this),g.on(b.UPDATE_DIAMONS,this.updateDiamond,this),g.on(b.UPDATE_FRUIT,this.updateFruits,this),g.on(b.PLAYER_NEAR_TREE,this.onPlayerNearTree,this),this.actionBtn.node.getParent().on(h.EventType.CLICK,this.onActionClick,this)},o.start=function(){this.updateUI()},o.updateCoin=function(){g.emit(b.UPDATE_COIN)},o.updateDiamond=function(){this.diamondNum.string=C.data.diamons.toString(),this.diamondNum.node.getParent().active=C.data.diamons>0},o.updateLand=function(){g.emit(b.UPDATE_LAND)},o.updateFruits=function(){var t=this;C.data.fruits.forEach((function(n){var e=t.rightCorner.getChildByName(n.id);n.amount>0?e?(e.active=!0,e.getChildByName("Num").getComponent(c).string=n.amount.toString()):((e=m(t.fruitItemPrefab)).getChildByName("Icon").getComponent(l).spriteFrame=d.fruitImgMap.get(n.id),e.getChildByName("Num").getComponent(c).string=n.amount.toString(),e.name=n.id,t.rightCorner.addChild(e)):e&&(e.active=!1)}))},o.updateUI=function(){this.updateCoin(),this.updateDiamond(),this.updateLand(),this.updateFruits()},o.onPlayerOnField=function(t,n){switch(t){case b.SHOW_SEED_BTN:this.actionBtn.spriteFrame=d.fruitImgMap.get(n.getType()),this.actionBtn.node.getParent().active=!0,this.onActionClickFnc=function(){n.plant()};break;case b.SHOW_WATERING_BTN:this.actionBtn.spriteFrame=this.wateringSpriteFrame,this.actionBtn.node.getParent().active=!0,this.onActionClickFnc=function(){n.watering()};break;case b.SHOW_HARVEST_BTN:this.actionBtn.spriteFrame=this.harvestSpriteFrame,this.actionBtn.node.getParent().active=!0,this.onActionClickFnc=function(){n.harvest()}}},o.onPlayerNearTree=function(t){this.actionBtn.spriteFrame=d.fruitImgMap.get("apple"),this.actionBtn.node.getParent().active=!0,this.onActionClickFnc=function(){t.harvest()}},o.onHideActionBtn=function(){this.actionBtn.node.getParent().active=!1},o.onActionClick=function(){this.onActionClickFnc&&this.onActionClickFnc()},n}(f)).prototype,"diamondNum",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(T.prototype,"leftCorner",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(T.prototype,"rightCorner",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(T.prototype,"actionBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(T.prototype,"fruitItemPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(T.prototype,"corn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(T.prototype,"tomato",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(T.prototype,"harvestSpriteFrame",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(T.prototype,"wateringSpriteFrame",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/MapData.ts",["cc","./Define.ts","./Field.ts"],(function(e){"use strict";var o,i,n,t,s,p;return{setters:[function(e){o=e.cclegacy,i=e.Vec3},function(e){n=e.TreeType,t=e.ShopType,s=e.HouseType},function(e){p=e.FieldType}],execute:function(){o._RF.push({},"5a00cfQu1VDEJr0R5APBRXQ","MapData",void 0);var r=e("MapData",(function(){}));r.mapLv1={position:i.ZERO,tiles:[[0,0,0,0,2,2,2,0],[2,1,1,1,1,1,1,0],[2,1,1,1,1,1,1,0],[2,1,1,1,1,1,1,0],[2,1,1,1,1,1,1,2],[2,1,1,1,1,1,1,2],[2,1,1,1,1,1,1,2],[0,0,0,0,0,0,0,0]],ports:[{position:new i(7,0,2),rotation:new i(0,0,0),level:2,coin:20,requireLevel:1},{position:new i(7,0,5),rotation:new i(0,0,0),level:3,coin:30,requireLevel:2},{position:new i(0,0,2),rotation:new i(0,-180,0),level:11,coin:100,requireLevel:3},{position:new i(2,0,7),rotation:new i(0,-90,0),level:12,coin:100,requireLevel:11}],fields:[{position:new i(4,0,4),rotation:new i(0,0,0),type:p.corn}],trees:[{position:new i(3,0,1),rotation:new i(0,0,0),type:n.APPLE}],flowers:[{position:new i(2.7,0,2),rotation:new i(0,0,0)}]},r.mapLv2={position:new i(6,0,0),tiles:[[0,0,0,0,0],[2,1,1,1,0],[2,1,1,1,0],[2,1,1,1,0],[0,2,2,0,0]],ports:[{position:new i(2,0,4),rotation:new i(0,-90,0),level:3,coin:30,requireLevel:2},{position:new i(4,0,4),rotation:new i(0,0,0),level:5,coin:50,requireLevel:4}],shops:[{position:new i(2,0,2),rotation:new i(0,90,0),type:t.TOMATO_CORN_APPLE}]},r.mapLv3={position:new i(6,0,3),tiles:[[0,0,0,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,2,0]],ports:[{position:new i(2,0,4),rotation:new i(0,-90,0),level:4,coin:40,requireLevel:3}]},r.mapLv4={position:new i(6,0,6),tiles:[[0,2,2,2,0],[0,1,1,1,2],[0,1,1,1,2],[0,1,1,1,2],[0,2,2,2,0]],trees:[{position:new i(2,0,2),rotation:new i(0,0,0),type:n.APPLE}]},r.mapLv5={position:new i(9,0,3),ports:[{position:new i(4,0,1),rotation:new i(0,0,0),level:6,coin:60,requireLevel:5}],bridges:[{position:new i(2,0,1),rotation:new i(0,90,0)}]},r.mapLv6={position:new i(12,0,2.5),tiles:[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],ports:[{position:new i(1.5,0,0),rotation:new i(0,90,0),level:7,coin:70,requireLevel:6},{position:new i(3,0,1.5),rotation:new i(0,0,0),level:8,land:18,requireLevel:6},{position:new i(1.5,0,3),rotation:new i(0,-90,0),level:9,land:18,requireLevel:6}]},r.mapLv7={position:new i(12,0,.5),tiles:[[0,2,2,0],[2,1,1,0],[2,1,1,0],[0,0,0,0]],ports:[{position:new i(3,0,1.5),rotation:new i(0,0,0),level:10,coin:100,requireLevel:7}]},r.mapLv10={position:new i(14,0,.5),tiles:[[0,0,0,0],[2,1,1,2],[2,1,1,2],[0,2,2,0]],ports:[],houses:[{position:new i(1.5,0,1.5),rotation:new i(0,90,0),type:s.HOUSE_WORKER}]},r.mapLv11={position:new i(-3,0,0),tiles:[[0,2,2,2,0],[2,1,1,1,2],[2,1,1,1,2],[2,1,1,1,2],[0,0,0,0,0]],fields:[{position:new i(1,0,1),rotation:new i(0,0,0),type:p.tomato}]},r.mapLv12={position:new i(0,0,6),tiles:[[0,2,2,2,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,2,2,2,0]],ports:[{position:new i(2,0,4),rotation:new i(0,-90,0),level:13,coin:130,requireLevel:12}]},r.mapLv13={position:new i(0,0,9),ports:[{position:new i(2,0,4),rotation:new i(0,-90,0),level:14,coin:140,requireLevel:13}],bridges:[{position:new i(2,0,2),rotation:new i(0,180,0)}]},r.mapLv14={position:new i(0,0,12),tiles:[[0,0,0,0,0],[0,1,1,1,2],[0,1,1,1,2],[0,1,1,1,2],[0,0,0,0,0]],ports:[{position:new i(4,0,2),rotation:new i(0,0,0),level:15,coin:150,requireLevel:14},{position:new i(0,0,2),rotation:new i(0,180,0),level:16,coin:160,requireLevel:14}],chickens:[{position:new i(2,0,2),rotation:new i(0,0,0)}]},r.mapLv15={position:new i(3,0,12),tiles:[[0,0,0,0,0],[2,1,1,1,2],[2,1,1,1,2],[2,1,1,1,2],[0,2,2,2,0]],shops:[{position:new i(2,0,2),rotation:new i(0,90,0),type:t.EGG_MILK}]},r.mapLv16={position:new i(-3,0,12),tiles:[[0,2,2,2,0],[2,1,1,1,2],[2,1,1,1,2],[2,1,1,1,2],[0,0,0,0,0]],fields:[{position:new i(1,0,1),rotation:new i(0,0,0),type:p.tomato}]},r.MapData=(new Map).set(1,r.mapLv1).set(2,r.mapLv2).set(3,r.mapLv3).set(4,r.mapLv4).set(5,r.mapLv5).set(6,r.mapLv6).set(7,r.mapLv7).set(10,r.mapLv10).set(11,r.mapLv11).set(12,r.mapLv12).set(13,r.mapLv13).set(14,r.mapLv14).set(15,r.mapLv15).set(16,r.mapLv16),o._RF.pop()}}}));

System.register("chunks:///_virtual/MapGenerator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MapData.ts","./Field.ts","./Port.ts"],(function(e){"use strict";var r,t,i,n,o,a,s,l,u,f,c,h,d,p,b;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Prefab,l=e.NodePool,u=e.instantiate,f=e.Node,c=e.Vec3,h=e.Component},function(e){d=e.MapData},function(e){p=e.Field},function(e){b=e.Port}],execute:function(){var g,P,v,w,y,m,C,F,z,G,M,k,A,D,E,R,B,I,H,L,_,S,T;o._RF.push({},"552d5todW5Ifpgd2odQvkeV","MapGenerator",void 0);var x=a.ccclass,N=a.property,V=a.executeInEditMode;e("MapGenerator",(g=x("MapGenerator"),P=N(s),v=N(s),w=N(s),y=N(s),m=N(s),C=N(s),F=N(s),z=N(s),G=N(s),M=N(s),g(k=V((D=r((A=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"grassPrefab",D,n(r)),i(r,"borderGrassPrefab",E,n(r)),r.grassPool=new l,i(r,"portPrefab",R,n(r)),i(r,"fieldPrefab",B,n(r)),i(r,"treePrefabs",I,n(r)),i(r,"flowerPrefab",H,n(r)),i(r,"shopPrefabs",L,n(r)),i(r,"bridgePrefab",_,n(r)),i(r,"housePrefab",S,n(r)),i(r,"chickenPrefab",T,n(r)),r.fields=new Map,r}t(r,e);var o=r.prototype;return o.onLoad=function(){this.node.removeAllChildren();for(var e=0;e<100;e++)this.grassPool.put(u(this.grassPrefab))},o.onEnable=function(){},o.createMap=function(e,r){void 0===r&&(r=!1);var t=d.MapData.get(e),i=new f;i.name="map"+e,this.node.addChild(i),i.setPosition(t.position);for(var n=t.tiles?t.tiles:[],o=0;o<n.length;o++)for(var a=0;a<n[o].length;a++){if(1==n[o][a]){var s=this.createGrass();s.setPosition(new c(o,0,a)),i.addChild(s)}if(2==n[o][a]){var l=this.createBorderGrass();l.setPosition(new c(o,0,a)),i.addChild(l),0==o&&l.setRotationFromEuler(new c(0,90,0)),a==n[o].length-1&&l.setRotationFromEuler(new c(0,180,0)),o==n.length-1&&l.setRotationFromEuler(new c(0,-90,0)),0==a&&l.setRotationFromEuler(new c(0,0,0))}}for(var u=t.ports?t.ports:[],h=0;h<u.length;h++){var g=this.createPort(),P=u[h];g.setPosition(P.position),g.eulerAngles=P.rotation,i.addChild(g),g.getComponent(b).setInfo(P.level,P.coin,P.land,P.requireLevel,r)}for(var v=t.fields?t.fields:[],w=0;w<v.length;w++){var y=v[w],m=this.createField();m.setPosition(y.position),m.eulerAngles=y.rotation,i.addChild(m);var C=m.getComponent(p);C.setInfo(y.type),this.fields.set(y.type,C)}for(var F=t.trees?t.trees:[],z=0;z<F.length;z++){var G=this.createTree(F[z].type);G.setPosition(F[z].position),G.eulerAngles=F[z].rotation,i.addChild(G)}for(var M=t.flowers?t.flowers:[],k=0;k<M.length;k++){var A=this.createFlower();A.setPosition(M[k].position),A.eulerAngles=M[k].rotation,i.addChild(A)}for(var D=t.shops?t.shops:[],E=0;E<D.length;E++){var R=D[E],B=this.createShop(R.type);B.setPosition(R.position),B.eulerAngles=R.rotation,i.addChild(B)}for(var I=t.bridges?t.bridges:[],H=0;H<I.length;H++){var L=this.createBridge();L.setPosition(I[H].position),L.eulerAngles=I[H].rotation,i.addChild(L)}for(var _=t.houses?t.houses:[],S=0;S<_.length;S++){var T=_[S],x=this.createHouse(T.type);x.setPosition(T.position),x.eulerAngles=T.rotation,i.addChild(x)}for(var N=t.chickens?t.chickens:[],V=0;V<N.length;V++){var j=this.createChicken();j.setPosition(N[V].position),j.eulerAngles=N[V].rotation,i.addChild(j)}},o.createPort=function(){return u(this.portPrefab)},o.createGrass=function(){return this.grassPool.size()>0?this.grassPool.get():u(this.grassPrefab)},o.createBorderGrass=function(){return u(this.borderGrassPrefab)},o.createField=function(){return u(this.fieldPrefab)},o.createTree=function(e){return u(this.treePrefabs[e])},o.createFlower=function(){return u(this.flowerPrefab)},o.createShop=function(e){return u(this.shopPrefabs[e])},o.createBridge=function(){return u(this.bridgePrefab)},o.createHouse=function(e){return u(this.housePrefab[e])},o.createChicken=function(){return u(this.chickenPrefab)},o.getField=function(e){return this.fields.get(e)},o.checkHasField=function(e){return this.fields.has(e)},r}(h)).prototype,"grassPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(A.prototype,"borderGrassPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(A.prototype,"portPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=r(A.prototype,"fieldPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(A.prototype,"treePrefabs",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=r(A.prototype,"flowerPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(A.prototype,"shopPrefabs",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=r(A.prototype,"bridgePrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(A.prototype,"housePrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=r(A.prototype,"chickenPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=A))||k)||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/MapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Field.ts","./GameEvent.ts","./MapGenerator.ts"],(function(e){"use strict";var t,n,r,a,i,o,c,s,l,u,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,c=e.Component},function(e){s=e.WorkerType},function(e){l=e.FieldType},function(e){u=e.gameEvent,p=e.EventName},function(e){h=e.MapGenerator}],execute:function(){var d,f,v,g,G,m;i._RF.push({},"05ddbQ1ToRJKohgiz8rsa1h","MapManager",void 0);var M=o.ccclass,y=o.property;e("MapManager",(d=M("MapManager"),f=y(h),d(((m=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"mapGenerator",G,a(t)),t.levelGaineds=[],t}n(t,e);var i=t.prototype;return i.start=function(){t.Instance=this,this.gainNewLevel(1)},i.gainNewLevel=function(e){return!(e<1)&&(-1==this.levelGaineds.indexOf(e)&&(this.levelGaineds.push(e),this.mapGenerator.createMap(e),u.emit(p.GAIN_NEW_LEVEL,e),!0))},i.checkLevelGained=function(e){return-1!=this.levelGaineds.indexOf(e)},i.getField=function(e){return this.mapGenerator.getField(e)},i.checkHasField=function(e){switch(console.log("checkHasField",e),e){case s.WORKER_CORN:return this.mapGenerator.checkHasField(l.corn);case s.WORKER_TOMATO:return this.mapGenerator.checkHasField(l.tomato)}},t}(c)).Instance=null,G=t((g=m).prototype,"mapGenerator",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/MyButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,c,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,c=t.Vec3,r=t.tween,s=t.Button}],execute:function(){var u;e._RF.push({},"fcc4bPxkp9Fmp1myyVfWiGJ","MyButton",void 0);var i=o.ccclass;o.property,t("MyButton",i("MyButton")(u=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){var t=this;this.node.on("click",(function(){t.node.setScale(new c(.5,.5,.5)),r(t.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start()}))},e}(s))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Field.ts","./GameEvent.ts","./Port.ts","./UIController.ts","./UI2DFollow3D.ts","./Input.ts","./Profile.ts","./AppleTree.ts","./BusinessMan.ts","./ShopPopup.ts","./HouseWorkerPopup.ts"],(function(e){"use strict";var o,i,t,n,r,l,a,s,h,d,c,u,p,m,C,f,g,y,E,S,v,P,T,_,A,I,H,b;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.animation,s=e.RigidBody,h=e.BoxCollider,d=e.find,c=e.Camera,u=e.Vec3,p=e.math,m=e.misc,C=e.Component},function(e){f=e.Layer},function(e){g=e.Field},function(e){y=e.gameEvent,E=e.EventName},function(e){S=e.Port},function(e){v=e.UIName},function(e){P=e.UI2DFollow3D},function(e){T=e.Input},function(e){_=e.profile},function(e){A=e.AppleTree},function(e){I=e.BusinessMan},function(e){H=e.ShopPopup},function(e){b=e.HouseWorkerPopup}],execute:function(){var B,R,D,N,x,L,O,w,k;r._RF.push({},"beebfdGdkhMEp2H5VRBovmZ","PlayerController",void 0);var F=l.ccclass,M=l.property;e("PlayerController",(B=F("PlayerController"),R=M(a.AnimationController),D=M(s),N=M(h),B((O=o((L=function(e){function o(){for(var o,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return o=e.call.apply(e,[this].concat(r))||this,t(o,"animationController",O,n(o)),t(o,"rigidBody",w,n(o)),t(o,"boxCollider",k,n(o)),o.moveSpeed=0,o.normalSpeed=1,o.fastSpeed=2,o.harverstSpeed=.75,o.mainCam=null,o.isHarvesting=!1,o}i(o,e);var r=o.prototype;return r.start=function(){this.boxCollider.on("onCollisionEnter",this.onCollisionEnter,this),this.boxCollider.on("onCollisionStay",this.onCollisionStay,this),this.boxCollider.on("onCollisionExit",this.onCollisionExit,this),this.boxCollider.on("onTriggerEnter",this.onTriggerEnter,this),this.boxCollider.on("onTriggerExit",this.onTriggerExit,this),this.boxCollider.on("onTriggerStay",this.onTriggerStay,this),this.mainCam=d("3D-Camera").getComponent(c)},r.update=function(e){if(T.IsTouchMove){var o=T.Instance.delta.clone().normalize(),i=new u(o.y,0,o.x);this.isHarvesting?this.moveSpeed=this.harverstSpeed:(this.moveSpeed+=.25*e,this.moveSpeed=p.clamp(this.moveSpeed,this.normalSpeed,this.fastSpeed)),this.move(i,this.moveSpeed,e)}T.IsTouchUp&&(this.moveSpeed=0,this.rigidBody.clearVelocity(),this.setIdleAnimation())},r.move=function(e,o,i){this.rigidBody.setLinearVelocity(e.clone().multiplyScalar(o*i*75));var t=m.radiansToDegrees(Math.atan2(-e.z,e.x));this.node.eulerAngles=new u(0,t,0),this.setSpeedAnimation(o)},r.setAnimationParam=function(e,o){this.animationController.setValue(e,o)},r.setSpeedAnimation=function(e){this.isHarvesting||this.setAnimationParam("MoveSpeed",e)},r.setIdleAnimation=function(){this.isHarvesting||this.setAnimationParam("MoveSpeed",0)},r.setHarvestAnimation=function(){this.isHarvesting=!0,this.setAnimationParam("MoveSpeed",6)},r.onCollisionEnter=function(e){if(e.otherCollider.node.layer==f.PORT){var o=e.otherCollider.node.getComponent(S);o.unlockable&&o.playerGain()}if(e.otherCollider.node.layer==f.WORKER_HOUSE){this.rigidBody.clearVelocity();e.otherCollider.node;uiController.show(v.HouseWorkerPopup).then((function(e){e.getComponent(b).checkInfo()}))}},r.onCollisionStay=function(e){e.otherCollider.node.layer==f.WORKER_HOUSE&&this.rigidBody.clearVelocity()},r.onCollisionExit=function(e){e.otherCollider.node.layer!=f.BORDER&&e.otherCollider.node.layer!=f.CHICKEN||this.rigidBody.clearVelocity()},r.onTriggerEnter=function(e){var o=this;if(e.otherCollider.node.layer==f.BUSINESS_MAN){var i=e.otherCollider.node.getComponent(I).getType();if(_.canSell(i))_.sell(i);else{var t=e.otherCollider.node;uiController.show(v.ShopPopup).then((function(e){e.getComponent(P).set(t,o.mainCam,new u(0,300,0)),e.getComponent(H).show(i)}))}}},r.onTriggerExit=function(e){switch(e.otherCollider.node.layer){case f.BUSINESS_MAN:uiController.hide(v.ShopPopup);break;case f.FIELD:this.isHarvesting=!1;default:y.emit(E.HIDE_ACTION_BTN)}},r.onTriggerStay=function(e){if(e.otherCollider.node.layer==f.FIELD){var o=e.otherCollider.node.getComponent(g);o.checkPlant()?o.checkWater()?y.emit(E.PLAYER_ON_FIELD,E.SHOW_WATERING_BTN,o):o.checkHarvest()&&y.emit(E.PLAYER_ON_FIELD,E.SHOW_HARVEST_BTN,o):y.emit(E.PLAYER_ON_FIELD,E.SHOW_SEED_BTN,o)}if(e.otherCollider.node.layer==f.APPLE_TREE){var i=e.otherCollider.node.getComponent(A);i.checkHarvest()?y.emit(E.PLAYER_NEAR_TREE,i):y.emit(E.HIDE_ACTION_BTN)}},o}(C)).prototype,"animationController",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=o(L.prototype,"rigidBody",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=o(L.prototype,"boxCollider",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=L))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/Port.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MapManager.ts","./GameEvent.ts","./Profile.ts"],(function(e){"use strict";var n,i,t,r,o,a,l,c,s,u,p,b,f,h,v,d,L;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,c=e.Node,s=e.Label,u=e.Prefab,p=e.instantiate,b=e.Collider,f=e.Component},function(e){h=e.MapManager},function(e){v=e.gameEvent,d=e.EventName},function(e){L=e.profile}],execute:function(){var g,E,y,G,m,N,P,w,_,z,D,I,k,C,M,q,A;a._RF.push({},"34f3cnK8S9LzKifP918l8es","Port",void 0);var S=l.ccclass,T=l.property;e("Port",(g=S("Port"),E=T(c),y=T(c),G=T(c),m=T(s),N=T(s),P=T(u),w=T(u),g((D=n((z=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,t(n,"container",D,r(n)),t(n,"coinGroup",I,r(n)),t(n,"landGroup",k,r(n)),t(n,"coinLabel",C,r(n)),t(n,"landLabel",M,r(n)),t(n,"coinDropPrefab",q,r(n)),t(n,"landDropPrefab",A,r(n)),n.level=0,n.coin=0,n.land=0,n.requireLevel=-1,n.isEnable=!0,n}i(n,e);var a=n.prototype;return a.start=function(){v.on(d.GAIN_NEW_LEVEL,this.onGainNewLevel,this)},a.setInfo=function(e,n,i,t,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=!1),this.level=e,this.requireLevel=t,0!=n&&(this.coin=n,this.coinLabel.string=this.coin.toString(),this.coinGroup.active=!0),0!=i&&(this.land=i,this.landLabel.string=this.land.toString(),this.landGroup.active=!0),this.isEnable=r||h.Instance.checkLevelGained(this.requireLevel),this.container.active=this.isEnable},a.playerGain=function(){if(this.isEnable&&0==this.land){h.Instance.gainNewLevel(this.level),L.coin-=this.coin;var e=p(this.landDropPrefab);e.parent=this.node,this.node.getComponent(b).enabled=!1,v.emit(d.TWEEN_LAND_TO_INVENTORY,e)}},a.onGainNewLevel=function(e){console.log("onGainNewLevel: "+e),this.isEnable=h.Instance.checkLevelGained(this.requireLevel),this.container.active=this.isEnable,e==this.level&&(this.node.getComponent(b).enabled=!1,this.container.active=!1,v.off(d.GAIN_NEW_LEVEL,this.onGainNewLevel,this))},o(n,[{key:"unlockable",get:function(){return L.coin>=this.coin&&L.land>=this.land}}]),n}(f)).prototype,"container",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(z.prototype,"coinGroup",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(z.prototype,"landGroup",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(z.prototype,"coinLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(z.prototype,"landLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(z.prototype,"coinDropPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(z.prototype,"landDropPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=z))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/Profile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Storage.ts","./GameEvent.ts","./GlobalDefine.ts"],(function(t){"use strict";var i,n,a,o,e,s,r;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy,a=t._decorator},function(t){o=t.storage},function(t){e=t.gameEvent,s=t.EventName},function(t){r=t.globalDefine}],execute:function(){var u;n._RF.push({},"d7747VkZ5FJyobaBxTjL0aq","Profile",void 0);var c=a.ccclass,f=(a.property,{version:2,landscapeUnlocked:0,coin:20,diamons:0,land:0,fruits:[{id:"corn",name:"corn",icon:"icon_corn",price:1,amount:0},{id:"tomato",name:"tomato",icon:"icon_tomato",price:2,amount:0},{id:"apple",name:"apple",icon:"icon_apple",price:3,amount:0}]}),d=t("Profile",c("Profile")(u=function(){function t(){this.info=["coin","diamons","land","fruits"],this.data=void 0}var n=t.prototype;return n.load=function(){this.data=o.load("profile"),this.data?this.data.version!==f.version&&(this.data=Object.assign({},f),o.save("profile",this.data)):(this.data=Object.assign({},f),o.save("profile",this.data)),e.emit(s.USER_PROFILE_UPDATE)},n.save=function(){o.save("profile",this.data)},n.getFruit=function(t){return this.data.fruits.find((function(i){return i.id===t}))},n.setFruit=function(t,i,n){var a=this;void 0===n&&(n=!0);var o=this.getFruit(t);n?o.amount+=i:o.amount=i,this.data.fruits.forEach((function(i,n){i.id===t&&(a.data.fruits[n]=i)})),this.save(),e.emit(s.UPDATE_FRUIT)},n.isHaveFruit=function(t){return this.data.fruits.find((function(i){return i.id===t})).amount>0},n.canSell=function(t){var i=r.shopConfig.get(t),n=!1;return this.data.fruits.find((function(t){i.find((function(i){t.id===i.id&&t.amount>0&&(n=!0)}))})),n},n.sell=function(t){var i=this,n=r.shopConfig.get(t);this.data.fruits.forEach((function(t){n.forEach((function(n){t.id===n.id&&t.amount>0&&(i.coin+=t.amount*n.price,i.setFruit(t.id,0,!1))}))}))},i(t,[{key:"coin",get:function(){return this.data.coin},set:function(t){!t||t<0||(this.data.coin=t,this.save(),e.emit(s.UPDATE_COIN))}},{key:"diamons",get:function(){return this.data.diamons},set:function(t){!t||t<0||(this.data.diamons=t,this.save(),e.emit(s.UPDATE_DIAMONS))}},{key:"fruits",get:function(){return this.data.fruits},set:function(t){t&&(this.data.fruits=t,this.save())}},{key:"land",get:function(){return this.data.land},set:function(t){!t||t<0||(this.data.land=t,this.save(),e.emit(s.UPDATE_LAND))}}]),t}())||u);t("profile",new d);n._RF.pop()}}}));

System.register("chunks:///_virtual/SealEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,c,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.tween,c=t.Vec3,s=t.Component}],execute:function(){var a;e._RF.push({},"37b5a1BZQ9MYLS0z4aVik8c","SealEffect",void 0);var l=o.ccclass;o.property,t("SealEffect",l("SealEffect")(a=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).scaleEffect=null,n.onGoing=null,n}n(e,t);var o=e.prototype;return o.onLoad=function(){this.init()},o.init=function(){var t=this;this.onGoing=!1,this.scaleEffect=i(this.node).parallel(i(this.node).by(.4,{position:new c(0,25,0)},{easing:"quadOut"}),i(this.node).to(.4,{scale:new c(1.2,1.2,1.2)},{easing:"quadOut"})).delay(.2).parallel(i(this.node).by(.1,{position:new c(0,-25,0)}),i(this.node).to(.1,{scale:new c(1,1,1)})).call((function(){t.onGoing=!1}))},o.play=function(){this.onGoing||(this.onGoing=!0,this.scaleEffect.start())},o.stop=function(){this.scaleEffect.stop()},e}(s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/ShopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemManager.ts"],(function(e){"use strict";var t,r,i,n,o,c,a,p,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Sprite,p=e.Label,u=e.Component},function(e){l=e.itemMgr}],execute:function(){var s,f,h,m,g,b,y;o._RF.push({},"04bb2ryFFpKda26MbmCxGJB","ShopItem",void 0);var I=c.ccclass,S=c.property;e("ShopItem",(s=I("ShopItem"),f=S(a),h=S(p),s((b=t((g=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"icon",b,n(t)),i(t,"price",y,n(t)),t}return r(t,e),t.prototype.set=function(e,t){this.icon.spriteFrame=l.fruitImgMap.get(e),this.price.string=t.toString()},t}(u)).prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(g.prototype,"price",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalDefine.ts","./ShopItem.ts"],(function(e){"use strict";var t,o,n,r,i,p,s,a,h,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){p=e.cclegacy,s=e._decorator,a=e.Prefab,h=e.instantiate,c=e.Component},function(e){l=e.globalDefine},function(e){u=e.ShopItem}],execute:function(){var f,m,y,P,d;p._RF.push({},"41628oHg7NFJpYOvrwysGa4","ShopPopup",void 0);var g=s.ccclass,v=s.property;e("ShopPopup",(f=g("ShopPopup"),m=v(a),f((d=t((P=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),p=0;p<o;p++)i[p]=arguments[p];return t=e.call.apply(e,[this].concat(i))||this,n(t,"shopItemPrefab",d,r(t)),t.shopItemPool=[],t.shopType=null,t}return o(t,e),t.prototype.show=function(e){var t=this;this.shopType!=e&&(this.shopType=e,this.node.removeAllChildren(),l.shopConfig.get(e).forEach((function(e){var o=t.shopItem;o.getComponent(u).set(e.icon,e.price),t.node.addChild(o)})))},i(t,[{key:"shopItem",get:function(){var e=this.shopItemPool.find((function(e){return!e.parent}));return e||(e=h(this.shopItemPrefab),this.shopItemPool.push(e)),e}}]),t}(c)).prototype,"shopItemPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=P))||y));p._RF.pop()}}}));

System.register("chunks:///_virtual/SnapList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,o,r,s,a,c,h,d,u,l,p,f,v,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,c=t.Node,h=t.Layout,d=t.Vec3,u=t.Vec2,l=t.UITransform,p=t.view,f=t.math,v=t.tween,g=t.Component}],execute:function(){var m,T,w,N,C,y,x;s._RF.push({},"f629dTp7JZNXJcCcecsGBkW","SnapList",void 0);var M=a.ccclass,P=a.property;t("SnapList",(m=M("SnapList"),T=P(c),w=P(h),m((y=n((C=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,e(n,"container",y,o(n)),e(n,"layout",x,o(n)),n.listNode=[],n.currentNode=null,n.centerPos=null,n.temp=new d,n.delta=new u,n.isTouchDown=!1,n.width=0,n.isMove=!1,n.uiTransform=null,n.isTweenMainCard=!1,n}i(n,t);var s=n.prototype;return s.removeAllChildren=function(){this.container.removeAllChildren()},s.onLoad=function(){this.uiTransform=this.getComponent(l)},s.start=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.centerPos=this.node.worldPosition.clone().add3f(this.uiTransform.width/2,0,0),this.width=p.getVisibleSizeInPixel().width,this.layout.enabled=!1,this.snap()},s.update=function(t){},s.onTouchStart=function(t){this.isTouchDown=!0,this.isMove=!1,this.delta=u.ZERO},s.onTouchMove=function(t){if(this.isTouchDown){this.isMove||(this.isMove=!0,this.node.emit("onMoveBegin")),this.delta=t.touch.getDelta(),this.container.position=this.container.position.add3f(this.delta.x,0,0);var n=t.touch.getLocationX();(n<-10||n>=this.width+10)&&(this.isTouchDown=!1,this.isMove=!1,this.snap(null,!0))}},s.onTouchEnd=function(t){if(this.currentNode){this.isMove=!1;var n=this.currentNode.getSiblingIndex(),i=n,e=this.currentNode,o=t.touch.getStartLocation().x-t.touch.getLocationX();Math.abs(o)>50&&(i=o>0?n+1:n-1,i=f.clamp(i,0,this.container.children.length-1),e=this.container.children[i]),this.snap(e,!0,!1,!0)}},s.getSnapItem=function(){var t=this,n=Number.MAX_VALUE,i=null;return this.container.children.forEach((function(e){var o=d.distance(t.centerPos,e.worldPosition);o<n&&(n=o,i=e)})),i},s.snap=function(t,n,i,e){var o=this;if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.centerPos&&(t||(t=this.getSnapItem()),t)){var r=this.getNextPos(t),s=!1;s=!(!this.currentNode||this.currentNode.name==t.name),this.currentNode=t;var a=function(){o.container.getPosition().x=o.getNextPos(t).x;var i=o.currentNode.getSiblingIndex(),e=o.container.children[i-1],r=o.container.children[i+1];s&&(null==e||e.setPosition(e.getPosition().x,0,0),null==r||r.setPosition(r.getPosition().x,0,0),o.tweenMainCard(t)),o.container.children.forEach((function(t,n){t.active=n>=i-1&&n<=i+1})),n&&o.node.emit("onSnapItem",o.currentNode,e,r)};i?a():v(this.container).to(.2,{position:new d(r.x,0,0)}).call((function(){a()})).start()}},s.snapFirstNode=function(t){void 0===t&&(t=!1),this.container.children.length>0&&this.snap(this.container.children[0],t)},s.snapNode=function(t,n,i,e){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===e&&(e=!1);var o=this.findChild(t);return this.currentNode&&o&&o.name==this.currentNode.name||(o?this.snap(o,n,i,e):this.snapFirstNode(!0)),o},s.addChild=function(t){if(this.container.addChild(t),this.container.children.length<=1)return t.active=!0,this.currentNode=t,void(t.position=new d(this.layout.paddingLeft+t.getComponent(l).width/2,0,0));var n=this.container.children[t.getSiblingIndex()-1],i=n.position.clone();if(i.add3f(this.layout.spacingX+(n.getComponent(l).width+t.getComponent(l).width)/2,0,0),t.position=i,this.currentNode){var e=this.currentNode.getSiblingIndex();t.getSiblingIndex()-e>1&&(t.active=!1)}},s.removeChild=function(t){this.container.children.forEach((function(n){n.name==t&&n.removeFromParent()})),this.snap()},s.findChild=function(t){return this.container.children.find((function(n){return n.name==t}))},s.clearCurrentNode=function(){this.currentNode=null},s.getNextPos=function(t){var n=t.position.clone();return n.x=-n.x+this.uiTransform.width/2,n},s.tweenMainCard=function(t){var n=this;this.isTweenMainCard||(this.isTweenMainCard=!0,v(t).to(.2,{position:new d(t.getPosition().x,25,0)},{easing:"elasticOut"}).call((function(){n.isTweenMainCard=!1})).start())},r(n,[{key:"children",get:function(){return this.container.children}}]),n}(g)).prototype,"container",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(C.prototype,"layout",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=C))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/StartScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIController.ts"],(function(t){"use strict";var e,r,n,o,i,c,a,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,a=t.Button,u=t.Component},function(t){l=t.UIName}],execute:function(){var s,p,S,f,y;i._RF.push({},"d3f261cEu9DU5GO8MLqerDx","StartScreen",void 0);var d=c.ccclass,h=c.property;t("StartScreen",(s=d("StartScreen"),p=h(a),s((y=e((f=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(e,"btnStart",y,o(e)),e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.btnStart.node.on(a.EventType.CLICK,(function(){uiController.show(l.MainScreen),t.node.destroy(),uiController.removeScreenStack(l.StartScreen)}))},e}(u)).prototype,"btnStart",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=f))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/Storage.ts",["cc"],(function(t){"use strict";var e,r,o;return{setters:[function(t){e=t.cclegacy,r=t.sys,o=t.log}],execute:function(){e._RF.push({},"ada23ApMppHiZ4hsGyKYdkz","Storage",void 0);var a=t("Storage",function(){function t(){}var e=t.prototype;return e.save=function(t,e){r.localStorage.setItem(t,JSON.stringify(e))},e.load=function(t){var e=r.localStorage.getItem(t);if(o("[StorageMgr] load key:",t,"value:",e),e)return JSON.parse(e)},t}());t("storage",new a);e._RF.pop()}}}));

System.register("chunks:///_virtual/TitleFlyUpEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,o,s,f,c;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,o=t.UITransform,s=t.tween,f=t.Vec3,c=t.Component}],execute:function(){var l;i._RF.push({},"366feAUn/JLFLBNyVoDOLRW","TitleFlyUpEffect",void 0);var r=e.ccclass;e.property,t("TitleFlyUpEffect",r("TitleFlyUpEffect")(l=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).hidingY=null,n.flyUpEffect=null,n.floatingEffect=null,n}n(i,t);var e=i.prototype;return e.onLoad=function(){this.init()},e.init=function(){this.hidingY=-this.getComponent(o).height-4-120},e.onEnable=function(){var t=this;this.flyUpEffect=s(this.node).set({position:new f(0,this.hidingY)}).delay(.5).to(4,{position:new f(0,-100)},{easing:"backOut"}).call((function(){t.floatingEffect.start()})),this.floatingEffect=s(this.node).by(1.5,{position:new f(0,20)},{easing:"sineOut"}).by(1.5,{position:new f(0,-20)},{easing:"sineInOut"}).union().repeatForever(),this.play()},e.onDisable=function(){this.stop()},e.play=function(){this.flyUpEffect.start()},e.stop=function(){this.flyUpEffect.stop(),this.floatingEffect.stop()},i}(c))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/TweenManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./Profile.ts"],(function(e){"use strict";var n,t,o,i,a,r,s,l,u,c,d,p,m,w,h,g,T,f,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Label,l=e.Node,u=e.find,c=e.Camera,d=e.Vec3,p=e.tween,m=e.UITransform,w=e.math,h=e.easing,g=e.Component},function(e){T=e.gameEvent,f=e.EventName},function(e){C=e.profile}],execute:function(){var N,y,v,b,I,L,O,E,S,U,_;a._RF.push({},"fa5bd3q11FNhpgkJ5E70w/1","TweenManager",void 0);var A=r.ccclass,F=r.property;e("TweenManager",(N=A("TweenManager"),y=F(s),v=F(s),b=F(s),I=F(l),N((E=n((O=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).mainCam=null,n.uiCam=null,o(n,"coinNum",E,i(n)),o(n,"landNum",S,i(n)),o(n,"diamondNum",U,i(n)),o(n,"rightCorner",_,i(n)),n.tweenCoinNum=null,n.tweenCoinScale=null,n.tweenLandNum=null,n.tweenLandScale=null,n}t(n,e);var a=n.prototype;return a.onLoad=function(){this.mainCam=u("3D-Camera").getComponent(c),this.uiCam=u("Canvas/Camera").getComponent(c),T.on(f.TWEEN_FRUIT_TO_INVENTORY,this.onTweenFruitToInventory,this),T.on(f.TWEEN_APPLE_TO_INVENTORY,this.onTweenAppleToInventory,this),T.on(f.UPDATE_COIN,this.onTweenCoinUpdate,this),T.on(f.UPDATE_LAND,this.onTweenLandUpdate,this),T.on(f.TWEEN_LAND_TO_INVENTORY,this.onTweenLandToInventory,this)},a.onTweenFruitToInventory=function(e,n,t){void 0===t&&(t=null);var o=!1;(t=t||this.rightCorner.getChildByName(e.name))||(C.setFruit(e.name,1),o=!0,t=this.rightCorner);var i=this.uiCam.worldToScreen(t.worldPosition),a=this.mainCam.screenToWorld(new d(i.x,i.y-10,.5));p(e).to(1,{position:e.getComponent(m).convertToNodeSpaceAR(a),scale:new d(20,20,20)},{easing:"sineIn"}).call((function(){!o&&C.setFruit(e.name,1),p(t).to(.4,{scale:new d(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.15,{scale:new d(1,1,1)},{easing:"circOut"}).start(),e.destroy()})).start()},a.onTweenAppleToInventory=function(e,n,t){void 0===t&&(t=null);var o=!1;(t=t||this.rightCorner.getChildByName(e.name))||(C.setFruit(e.name,1),o=!0,t=this.rightCorner);var i=this.uiCam.worldToScreen(t.worldPosition),a=this.mainCam.screenToWorld(new d(i.x,i.y-20,.5));p(e).to(1,{position:e.getComponent(m).convertToNodeSpaceAR(a),scale:new d(20,20,20)},{easing:"sineIn"}).call((function(){!o&&C.setFruit(e.name,1),p(t).to(.4,{scale:new d(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.15,{scale:new d(1,1,1)},{easing:"circOut"}).start(),e.destroy()})).union().start()},a.onTweenCoinUpdate=function(){this.tweenLabelUpdate(this.coinNum,C.coin,this.tweenCoinNum,this.tweenCoinScale)},a.onTweenLandUpdate=function(){this.tweenLabelUpdate(this.landNum,C.land,this.tweenLandNum,this.tweenLandScale)},a.tweenLabelUpdate=function(e,n,t,o){if(e&&n){t&&t.stop(),o&&o.stop();var i=parseInt(e.string),a=.2,r=w.clamp(.5,1.2,.05*(n-i));t=p({num:i}).to(r,{num:n},{easing:"sineOut",onUpdate:function(n){e.string=Math.round(n.num).toString()}}).start(),this.tweenCoinScale&&this.tweenCoinScale.stop(),o=p({scale:1}).to(.1,{scale:1.2},{easing:"elasticOut",onUpdate:function(n){e.node.setScale(n.scale,n.scale)}}).delay(r-a).to(.1,{scale:1},{easing:"elasticOut",onUpdate:function(n){e.node.setScale(n.scale,n.scale)}}).start()}else console.log("tweenLabelUpdate error")},a.onTweenLandToInventory=function(e){var n=this.landNum.node.parent,t=this.uiCam.worldToScreen(n.worldPosition),o=this.mainCam.screenToWorld(new d(t.x,t.y+20,.5));p(e).by(.1,{position:new d(0,.4,.2)},{easing:h.quadOut}).by(.2,{position:new d(0,-.4,.2)},{easing:h.quadIn}).by(.3,{position:new d(0,.3,.2)},{easing:h.quadOut}).by(.3,{position:new d(0,-.3,.2)},{easing:h.quadIn}).delay(.5).to(1,{position:e.getComponent(m).convertToNodeSpaceAR(o)},{easing:"sineIn"}).call((function(){C.land++,p(n).to(.4,{scale:new d(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.15,{scale:new d(1,1,1)},{easing:"circOut"}).start(),e.parent.destroy()})).start()},n}(g)).prototype,"coinNum",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(O.prototype,"landNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(O.prototype,"diamondNum",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(O.prototype,"rightCorner",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=O))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/UI2DFollow3D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,s,n,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,n=t.Vec3,r=t.Component}],execute:function(){var i;e._RF.push({},"20314mGMAVDd7zaO0K1jaCO","UI2DFollow3D",void 0);var a=s.ccclass;s.property,t("UI2DFollow3D",a("UI2DFollow3D")(i=function(t){function e(){for(var o,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(o=t.call.apply(t,[this].concat(s))||this).target=null,o.camera=null,o.offset=new n(0,0,0),o.pos=new n,o}o(e,t);var s=e.prototype;return s.set=function(t,o,e){this.target=t,this.camera=o,this.offset=e},s.update=function(){var t=this.target.worldPosition;this.camera.convertToUINode(t,this.node.parent,this.pos),this.pos.add(this.offset),this.node.setPosition(this.pos)},e}(r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./GameEvent.ts","./Profile.ts"],(function(e){"use strict";var t,n,r,i,s,a,o,c,u,h,l,p,f,d,v;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,o=e.resources,c=e.Prefab,u=e.Component,h=e.find,l=e.instantiate},function(e){p=e.SoundName},function(e){f=e.gameEvent,d=e.EventName},function(e){v=e.profile}],execute:function(){var k;e("UIName",void 0),s._RF.push({},"ec17bSIBSFAPZG34QuGKdIZ","UIController",void 0);var b,m=a.ccclass;a.property;!function(e){e[e.StartScreen=0]="StartScreen",e[e.MainScreen=1]="MainScreen",e[e.ExitPopup=2]="ExitPopup",e[e.ShopPopup=3]="ShopPopup",e[e.HouseWorkerPopup=4]="HouseWorkerPopup"}(b||(b=e("UIName",{})));e("UIController",m("UIController")(k=function(e){function s(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).screen=null,t.loadRequest=new Map,t.prefabs=new Map,t.stack=[],t.uiNodeContainer=new Map,t}t(s,e);var a=s.prototype;return a.start=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.uiController=this,v.load(),this.screen=h("Screen",this.node),e.next=5,this.show(b.MainScreen);case 5:this.setListenDeviceBackBtn(),this.loadAll();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadAll=function(){var e=r(i().mark((function e(){var t,r,s,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.keys(b).filter((function(e){return isNaN(Number(e))})),r=n(t);case 2:if((s=r()).done){e.next=12;break}if((a=s.value)!=b[b.StartScreen]&&a!=b[b.MainScreen]){e.next=6;break}return e.abrupt("continue",10);case 6:return e.next=8,this.loadPrefab(a);case 8:(o=e.sent)&&this.prefabs.set(a,o);case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadPrefab=function(e){var t=this;return new Promise((function(n,r){o.load("ui/"+e,c,(function(r,i){i&&t.prefabs.set(e,i),n(i)}))}))},a.loadRes=function(){var e=r(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loadRequest.has(t)){e.next=2;break}return e.abrupt("return");case 2:return this.loadRequest.set(t,!0),e.next=5,this.loadPrefab(t);case 5:return n=e.sent,this.loadRequest.delete(t),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.requestLoad=function(){var e=r(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.prefabs.get(t),this.prefabs.delete(t),n){e.next=6;break}return e.next=5,this.loadRes(t);case 5:n=e.sent;case 6:if(n){e.next=8;break}return e.abrupt("return");case 8:return n.data.active=!1,r=l(n),t.includes("Popup")?this.node.addChild(r):this.screen.addChild(r),r.name=t,r.active=!1,e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.getUiNode=function(e){return e.includes("Popup")?this.node.children.find((function(t){return t.name==e})):this.screen.children.find((function(t){return t.name==e}))},a.show=function(){var e=r(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b[t],!(r=this.getUiNode(n))||!r.active){e.next=4;break}return e.abrupt("return",r);case 4:if(r){e.next=10;break}return e.next=7,this.requestLoad(n);case 7:if(r=e.sent){e.next=10;break}return e.abrupt("return");case 10:return r.active=!0,this.sortUI(n),t==b.MainScreen&&(this.stack=[]),this.stack.push(r),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.hide=function(e,t){var n=b[e],r=this.getUiNode(n);r&&(r.active=!1,n.includes("Popup")&&(this.stack=this.stack.filter((function(e){return e!=r}))))},a.hideAll=function(){for(var e,t=n(this.node.children);!(e=t()).done;){e.value.active=!1}},a.back=function(){console.log("[UIController] back",this.stack),this.stack.length<=1||(this.stack.pop().active=!1,this.stack[this.stack.length-1].active=!0,f.emit(d.PLAY_SOUND,p.BACK))},a.setListenDeviceBackBtn=function(e){void 0===e&&(e=!0),1==e?window.addEventListener("message",this.onBackDevicePress.bind(this)):window.removeEventListener("message",this.onBackDevicePress)},a.onBackDevicePress=function(e){e&&"onBackPress"==e.data&&(this.stack.length<=1?uiController.show(b.ExitPopup):this.back())},a.sortUI=function(e){for(var t,r=e.includes("Popup")?this.node:this.screen,i=0,s=n(r.children);!(t=s()).done;){var a=t.value;a.name==e?a.setSiblingIndex(r.children.length-1):a.setSiblingIndex(i++)}},a.removeScreenStack=function(e){var t=b[e];this.stack=this.stack.filter((function(e){return e.name!=t}))},s}(u))||k);s._RF.pop()}}}));

System.register("chunks:///_virtual/UpArrowEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,i,e,r,s,c,p;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.Sprite,r=t.tween,s=t.Vec3,c=t.color,p=t.Component}],execute:function(){var a;n._RF.push({},"80b5bAgEOdCdYmL+uwkZQpp","UpArrowEffect",void 0);var f=i.ccclass;i.property,t("UpArrowEffect",f("UpArrowEffect")(a=function(t){function n(){for(var o,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(o=t.call.apply(t,[this].concat(i))||this).mySprite=null,o.originalPos=null,o.upEffect=null,o.fadeEffect=null,o}o(n,t);var i=n.prototype;return i.onLoad=function(){this.init()},i.init=function(){this.mySprite=this.getComponent(e),this.originalPos=this.mySprite.node.position.clone()},i.onEnable=function(){var t=this;this.upEffect=r(this.node).by(2,{position:new s(0,200,0)}).set({position:this.originalPos}).union().repeatForever(),this.fadeEffect=r({alpha:0}).to(1,{alpha:255},{easing:"cubicIn",onUpdate:function(o,n){t.mySprite.color=c(255,255,255,o.alpha)}}).to(1,{alpha:0},{easing:"cubicIn",onUpdate:function(o,n){t.mySprite.color=c(255,255,255,o.alpha)}}).union().repeatForever(),this.play()},i.onDisable=function(){this.stop(),this.node.setPosition(this.originalPos)},i.play=function(){this.upEffect.start(),this.fadeEffect.start()},i.stop=function(){this.upEffect.stop(),this.fadeEffect.stop()},n}(p))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var s,c;return{setters:[function(t){s=t.cclegacy,c=t._decorator}],execute:function(){var e;s._RF.push({},"e44adsok7xOHIM/6znNiSyF","Utils",void 0);var i=c.ccclass,r=(c.property,t("Utils",i("Utils")(e=function(){})||e));t("utils",new r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Worker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Field.ts","./MapManager.ts"],(function(t){"use strict";var e,o,r,s,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,s=t.Component},function(t){n=t.WorkerType},function(t){a=t.FieldType},function(t){i=t.MapManager}],execute:function(){var c;o._RF.push({},"69cdbPdK1ZPyYfDQR3TD8zN","Worker",void 0);var u,l=r.ccclass;r.property;!function(t){t[t.None=0]="None",t[t.Move=1]="Move",t[t.Plant=2]="Plant",t[t.Water=3]="Water",t[t.Harvest=4]="Harvest",t[t.Back=5]="Back"}(u||(u={}));t("Worker",l("Worker")(c=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).workerType=null,e.state=u.None,e.target=null,e.originPos=null,e.workerHouse=null,e}e(o,t);var r=o.prototype;return r.setInfo=function(t,e){switch(this.workerType=t,this.workerType){case n.WORKER_CORN:this.target=i.Instance.getField(a.corn);break;case n.WORKER_TOMATO:this.target=i.Instance.getField(a.tomato)}this.workerHouse=e,this.originPos=this.node.worldPosition.clone(),this.setState(u.None)},r.setState=function(t){var e=this;switch(this.state=t,this.state){case u.None:setTimeout((function(){e.workerHouse.checkFullCapacity(e.workerType)||e.setState(u.Move)}),2e3);break;case u.Move:this.node.setWorldPosition(this.target.node.worldPosition),setTimeout((function(){e.setState(u.Plant)}),2e3);break;case u.Plant:this.target.plant(),setTimeout((function(){e.setState(u.Water)}),2e3);break;case u.Water:this.target.watering(),setTimeout((function(){e.setState(u.Harvest)}),2e3);break;case u.Harvest:this.target.harvest(),setTimeout((function(){e.setState(u.Back)}),2e3);break;case u.Back:this.node.setWorldPosition(this.originPos.clone()),this.workerHouse.fillBarn(this.workerType,30),setTimeout((function(){e.setState(u.None)}),2e3)}},o}(s))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/WorkerHouse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./GameEvent.ts","./MapManager.ts","./Worker.ts"],(function(r){"use strict";var e,t,n,a,o,i,s,c,u,l,p,f,h,g,m;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,n=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){o=r.cclegacy,i=r._decorator,s=r.Node,c=r.Prefab,u=r.instantiate,l=r.Component},function(r){p=r.WorkerType},function(r){f=r.gameEvent,h=r.EventName},function(r){g=r.MapManager},function(r){m=r.Worker}],execute:function(){var w,k,b,v,C,R,y,F,W;o._RF.push({},"78088B+KBdMGraaNyaUdVfP","WorkerHouse",void 0);var d=i.ccclass,B=i.property;r("WorkerHouse",(w=d("WorkerHouse"),k=B(s),b=B(c),v=B(s),w((y=e((R=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=r.call.apply(r,[this].concat(o))||this,n(e,"bagFarmContainer",y,a(e)),n(e,"workerPrefab",F,a(e)),n(e,"workerPositions",W,a(e)),e.workersRespawn=[],e.maxBagFarm=16,e.currentBagFarm=0,e.barnCapacity=(new Map).set(p.WORKER_CORN,100).set(p.WORKER_TOMATO,100),e.barnCurrentAmount=(new Map).set(p.WORKER_CORN,0).set(p.WORKER_TOMATO,0),e}t(e,r);var o=e.prototype;return o.getCurrentAmount=function(r){return this.barnCurrentAmount.get(r)},o.getCapacity=function(r){return this.barnCapacity.get(r)},o.fillBagFarm=function(r){var e=this;void 0===r&&(r=1),this.currentBagFarm+=r,this.currentBagFarm>this.maxBagFarm&&(this.currentBagFarm=this.maxBagFarm),this.bagFarmContainer.children.forEach((function(r,t){t<e.currentBagFarm?r.active=!0:r.active=!1}))},o.fillBarn=function(r,e){var t=this.getCapacity(r),n=this.getCurrentAmount(r);(n+=e)>t&&(n=t),this.barnCurrentAmount.set(r,n);var a=Math.floor(e/25);this.fillBagFarm(a)},o.checkFullCapacity=function(r){var e=this.getCapacity(r);return this.getCurrentAmount(r)>=e},o.spawnWorker=function(r){console.log("Spawn worker "+this.workerPositions);var e=this.workerPositions[r];if(e&&(console.log("Spawn worker "+p[r]),!this.checkWorkerRespawn(r)&&(console.log("Spawn worker "+p[r]),g.Instance.checkHasField(r)))){console.log("Spawn worker "+p[r]),this.workersRespawn.push(r);var t=e.worldPosition.clone(),n=u(this.workerPrefab);n.parent=this.node.parent,n.setWorldPosition(t),n.getComponent(m).setInfo(r,this)}},o.checkWorkerRespawn=function(r){return-1!=this.workersRespawn.indexOf(r)},o.reset=function(){this.currentBagFarm=0,this.bagFarmContainer.children.forEach((function(r,e){r.active=!1}))},o.start=function(){f.on(h.HIRE_WORKER,this.spawnWorker,this)},e}(l)).prototype,"bagFarmContainer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(R.prototype,"workerPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(R.prototype,"workerPositions",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=R))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorkerSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./GameEvent.ts","./Profile.ts","./UIController.ts","./ItemManager.ts","./MapManager.ts"],(function(e){"use strict";var t,i,r,n,o,a,c,u,l,s,p,h,f,m,b,d,g,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Button,u=e.Sprite,l=e.Node,s=e.SpriteFrame,p=e.Component},function(e){h=e.WorkerType},function(e){f=e.gameEvent,m=e.EventName},function(e){b=e.profile},function(e){d=e.UIName},function(e){g=e.itemMgr},function(e){B=e.MapManager}],execute:function(){var k,y,v,F,R,w,W,S,M,D,I,T,z;o._RF.push({},"bf7c9g6RnBDJZFReaOQmxPe","WorkerSlot",void 0);var E=a.ccclass,H=a.property;e("WorkerSlot",(k=E("WorkerSlot"),y=H(c),v=H(u),F=H(l),R=H(s),w=H(s),k((M=t((S=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"hireButton",M,n(t)),r(t,"icon",D,n(t)),r(t,"needField",I,n(t)),r(t,"hireButtonSpriteFrame",T,n(t)),r(t,"hireButtonDisable",z,n(t)),t.isHire=!1,t.workerType=null,t.price=0,t}i(t,e);var o=t.prototype;return o.start=function(){var e=this;this.hireButton.node.on("click",(function(){b.coin-=e.price,e.hireButton.node.active=!1,e.isHire=!0,f.emit(m.HIRE_WORKER,e.workerType),uiController.hide(d.HouseWorkerPopup)}))},o.setInfo=function(e,t){this.workerType=e,this.price=t;var i="";switch(e){case h.WORKER_CORN:i="corn";break;case h.WORKER_TOMATO:i="tomato"}this.icon.spriteFrame=g.fruitImgMap.get(i),this.checkWorker()},o.checkWorker=function(){this.isHire||(B.Instance.checkHasField(this.workerType)?(this.hireButton.node.active=!0,this.needField.active=!1,b.coin>=this.price?(this.hireButton.interactable=!0,this.hireButton.getComponent(u).spriteFrame=this.hireButtonSpriteFrame):(this.hireButton.interactable=!1,this.hireButton.getComponent(u).spriteFrame=this.hireButtonDisable)):(this.needField.active=!0,this.hireButton.node.active=!1))},t}(p)).prototype,"hireButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(S.prototype,"needField",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(S.prototype,"hireButtonSpriteFrame",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"hireButtonDisable",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=S))||W));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});