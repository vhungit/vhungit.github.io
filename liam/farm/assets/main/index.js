System.register("chunks:///_virtual/AppearEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,a,c,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,c=t.Vec3,o=t.tween,r=t.Component}],execute:function(){var s;n._RF.push({},"45a23strzlPjp9u4RL2+/dF","AppearEffect",void 0);var i=a.ccclass;a.property,t("AppearEffect",i("AppearEffect")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.onLoad=function(){},a.onEnable=function(){this.playAppear()},a.playAppear=function(){this.node.setScale(c.ZERO),o(this.node).to(.5,{scale:c.ONE},{easing:"elasticOut"}).start()},a.playDisappear=function(){var t=this;this.node.setScale(c.ONE),o(this.node).to(.3,{scale:c.ZERO},{easing:"quintOut"}).call((function(){t.node.active=!1})).start()},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppleTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,l,p,u,c,h,d,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Node,l=e.Prefab,p=e.instantiate,u=e.randomRange,c=e.tween,h=e.Vec3,d=e.Component},function(e){f=e.gameEvent,v=e.EventName}],execute:function(){var m,T,g,w,b,y,R;o._RF.push({},"beeaehmtohLtaT784Rma+3K","AppleTree",void 0);var A=s.ccclass,P=s.property;e("AppleTree",(m=A("AppleTree"),T=P(a),g=P(l),m((y=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"applesRoot",y,r(t)),i(t,"appleDropPrefab",R,r(t)),t.dropIndex=0,t.tweenShake=null,t.isCanHarvest=!0,t.resetTimeout=null,t}n(t,e);var o=t.prototype;return o.checkHarvest=function(){return this.isCanHarvest},o.harvest=function(){var e=this;if(this.dropIndex>=this.applesRoot.children.length)this.isCanHarvest=!1;else{var t=this.applesRoot.children[this.dropIndex];t.active=!1,this.dropIndex++;var n=p(this.appleDropPrefab);this.node.addChild(n),n.setPosition(t.position),n.name="apple";var i=u(1.5,2);c(n).to(1*i/3,{position:new h(n.position.x,0,n.position.z)}).delay(2*i/3).to(.3,{scale:new h(2,2,2)},{easing:"elasticOut"}).call((function(){f.emit(v.TWEEN_APPLE_TO_INVENTORY,n,.8)})).start(),this.shake(),this.resetTimeout&&clearTimeout(this.resetTimeout),this.resetTimeout=setTimeout((function(){e.reset()}),1e4)}},o.shake=function(){var e=this;this.tweenShake||(this.tweenShake=c(this.node).to(.1,{eulerAngles:new h(0,0,2)}).to(.1,{eulerAngles:new h(0,0,0)}).to(.1,{eulerAngles:new h(0,0,-2)}).to(.1,{eulerAngles:new h(0,0,0)}).call((function(){e.tweenShake=null})).start())},o.start=function(){},o.reset=function(){this.dropIndex=0,this.isCanHarvest=!0,this.resetTimeout=null;for(var e=0;e<this.applesRoot.children.length;e++)this.applesRoot.children[e].active=!0},t}(d)).prototype,"applesRoot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(b.prototype,"appleDropPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(o){"use strict";var n,t,i,e,u,r,s,a,c,S,p;return{setters:[function(o){n=o.inheritsLoose,t=o.asyncToGenerator,i=o.regeneratorRuntime},function(o){e=o.cclegacy,u=o._decorator,r=o.AudioSource,s=o.log,a=o.Component,c=o.resources},function(o){S=o.gameEvent,p=o.EventName}],execute:function(){var h;o("SoundName",void 0),e._RF.push({},"888f6lrHl9PTqwExR3D52gi","AudioMgr",void 0);var d,f=u.ccclass;u.property;!function(o){o.BACKGROUND="BackGround",o.COLLECT_COIN="CollectCoin",o.COW="Cow",o.CHICKEN="Chicken",o.DOG="Dog",o.WALKING="WalkingOnGrass",o.FAST_RUN="FastRun",o.SHOP_BELL="ShopBell"}(d||(d=o("SoundName",{})));o("BG_MUSIC","bg_music"),o("AudioMgr",f("AudioMgr")(h=function(o){function e(){for(var n,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(n=o.call.apply(o,[this].concat(i))||this).audioClips=null,n.audioSourceSfx=null,n.audioSourceSfxLoop=null,n.audioSourceBg=null,n.cdnUrl="https://img.mservice.com.vn/app/img/Gamification/gameone/sounds/",n}n(e,o);var u=e.prototype;return u.onLoad=function(){S.on(p.PLAY_SOUND,this.onPlaySingleSound,this),S.on(p.PLAY_MUSIC,this.onPlayBgMusic,this),S.on(p.STOP_SOUND,this.onStop,this),S.on(p.PLAY_SINGLE_SOUND_LOOP,this.onPlaySingleSoundLoop,this),S.on(p.STOP_SINGLE_SOUND_LOOP,this.onStopSingleSoundLoop,this),S.on(p.STOP_MUSIC,this.onStopMusic,this),S.on(p.CONTINUE_MUSIC,this.onContinueMusic,this),this.init()},u.init=function(){this.audioClips=new Map,this.audioSourceSfx=this.node.addComponent(r),this.audioSourceSfxLoop=this.node.addComponent(r),this.audioSourceSfxLoop.loop=!0,this.audioSourceSfxLoop.playOnAwake=!1,this.audioSourceBg=this.node.addComponent(r),this.audioSourceBg.loop=!0,this.audioSourceBg.playOnAwake=!1},u.onDestroy=function(){S.off(p.PLAY_SOUND,this.onPlaySingleSound,this),S.off(p.PLAY_MUSIC,this.onPlayBgMusic,this),S.off(p.STOP_SOUND,this.onStop,this),S.off(p.PLAY_SINGLE_SOUND_LOOP,this.onPlaySingleSoundLoop,this),S.off(p.STOP_SINGLE_SOUND_LOOP,this.onStopSingleSoundLoop,this)},u.load=function(){var o=t(i().mark((function o(n){var t=this;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("[AudioMgr] load: ",n),o.abrupt("return",new Promise((function(o,i){c.load("sounds/"+n,(function(i,e){e&&t.audioClips.set(n,e),o(e)}))})));case 2:case"end":return o.stop()}}),o)})));return function(n){return o.apply(this,arguments)}}(),u.getSound=function(){var o=t(i().mark((function o(n){var t;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(t=this.audioClips.get(n))){o.next=5;break}o.t0=t,o.next=8;break;case 5:return o.next=7,this.load(n);case 7:o.t0=o.sent;case 8:return o.abrupt("return",o.t0);case 9:case"end":return o.stop()}}),o,this)})));return function(n){return o.apply(this,arguments)}}(),u.onPlayBgMusic=function(){var o=t(i().mark((function o(n){var t;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(n);case 2:if(t=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceBg.stop(),this.audioSourceBg.clip=t,this.audioSourceBg.play();case 8:case"end":return o.stop()}}),o,this)})));return function(n){return o.apply(this,arguments)}}(),u.onPlaySingleSound=function(){var o=t(i().mark((function o(n){var t;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(n);case 2:if(t=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceSfx.playOneShot(t);case 6:case"end":return o.stop()}}),o,this)})));return function(n){return o.apply(this,arguments)}}(),u.onPlaySingleSoundLoop=function(){var o=t(i().mark((function o(n){var t;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(n);case 2:if(t=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceSfxLoop.stop(),this.audioSourceSfxLoop.clip=t,this.audioSourceSfxLoop.play();case 8:case"end":return o.stop()}}),o,this)})));return function(n){return o.apply(this,arguments)}}(),u.onStop=function(){this.audioSourceSfx.stop(),this.audioSourceBg.stop(),this.audioSourceSfxLoop.stop(),s("[AudioMgr] onStop")},u.onContinueMusic=function(){this.audioSourceBg.play()},u.onStopMusic=function(){this.audioSourceBg.stop(),this.audioSourceSfxLoop.stop()},u.onStopSingleSoundLoop=function(){this.audioSourceSfxLoop.stop()},e}(a))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/BarnInfoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemManager.ts","./GameEvent.ts","./GlobalDefine.ts"],(function(e){"use strict";var t,r,i,n,o,a,s,c,u,l,p,f,g,m,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.Sprite,u=e.ProgressBar,l=e.Label,p=e.Node,f=e.Component},function(e){g=e.itemMgr},function(e){m=e.gameEvent,h=e.EventName},function(e){y=e.globalDefine}],execute:function(){var b,d,I,v,k,W,w,z,B,D,H;a._RF.push({},"f444a+YLK1GZKW0kD+gd9Sm","BarnInfoItem",void 0);var x=s.ccclass,E=s.property;e("BarnInfoItem",(b=x("BarnInfoItem"),d=E(c),I=E(u),v=E(l),k=E(p),b((z=t((w=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"icon",z,n(t)),i(t,"progress",B,n(t)),i(t,"progressText",D,n(t)),i(t,"noWorker",H,n(t)),t.ishired=!1,t.itemName=null,t}r(t,e);var a=t.prototype;return a.onLoad=function(){m.on(h.HIRE_WORKER,this.onHireWorker,this)},a.setInfo=function(e){this.icon.spriteFrame=g.fruitImgMap.get(e.name),this.progress.progress=e.amount/e.capacity,this.progressText.string=e.amount+"/"+e.capacity,this.itemName=e.name},a.updateInfo=function(e){this.progress.progress=e.amount/e.capacity,this.progressText.string=e.amount+"/"+e.capacity},a.onHireWorker=function(e){this.itemName==y.workerFruit.get(e)&&(this.isHired=!0)},o(t,[{key:"isHired",get:function(){return this.ishired},set:function(e){this.ishired=e,this.noWorker.active=!e,this.progress.node.active=e}}]),t}(f)).prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(w.prototype,"progress",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"progressText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(w.prototype,"noWorker",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=w))||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/BarnInfoPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalDefine.ts","./Profile.ts","./BarnInfoItem.ts"],(function(n){"use strict";var t,e,r,o,i,a,f,u,s,l,c,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,r=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,f=n.Prefab,u=n.instantiate,s=n.Component},function(n){l=n.globalDefine},function(n){c=n.profile},function(n){p=n.BarnInfoItem}],execute:function(){var I,h,d,m,g;i._RF.push({},"ddc505N7IxIOpQl0ArOI66+","BarnInfoPopup",void 0);var v=a.ccclass,y=a.property;n("BarnInfoPopup",(I=v("BarnInfoPopup"),h=y(f),I((g=t((m=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).barnInfo=null,r(t,"fruitItem",g,o(t)),t}e(t,n);var i=t.prototype;return i.setInfo=function(n){var t=this;this.node.removeAllChildren(),this.barnInfo=n,this.barnInfo.fruits.forEach((function(n){var e=u(t.fruitItem);e.parent=t.node,e.name=n.name,e.getComponent(p).setInfo(n)})),c.getAllWorkersFromHouse(n.type).forEach((function(n){var e=l.workerFruit.get(n.type);t.node.getChildByName(e).getComponent(p).isHired=n.isHired}))},i.updateInfo=function(n){var t=this;this.barnInfo=n,this.barnInfo.fruits.forEach((function(n){var e;null==(e=t.node.getChildByName(n.name))||e.getComponent(p).updateInfo(n)}))},t}(s)).prototype,"fruitItem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/BreathEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,i,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.tween,s=t.Vec3,c=t.Component}],execute:function(){var r;n._RF.push({},"1306bo0eZJPBZmIu6sojRG0","BreathEffect",void 0);var a=o.ccclass;o.property,t("BreathEffect",a("BreathEffect")(r=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).breathEffect=null,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this.init()},o.onEnable=function(){this.breathEffect=i(this.node).by(.12,{position:new s(0,-5,0)},{easing:"quadOut"}).by(.12,{position:new s(0,5,0)},{easing:"quadIn"}).delay(.1).union().repeat(2).delay(6).union().repeatForever(),this.play()},o.onDisable=function(){this.stop()},o.init=function(){},o.play=function(){var t=this;this.scheduleOnce((function(){t.breathEffect.start()}),3)},o.stop=function(){this.unscheduleAllCallbacks(),this.breathEffect.stop(),this.node.setScale(s.ONE),this.node.setPosition(new s(0,-570))},n}(c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/BusinessMan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts"],(function(e){"use strict";var t,n,r,i,s,o,c,u,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,c=e.Enum,u=e.Component},function(e){a=e.ShopType}],execute:function(){var p,l,y,f,h;s._RF.push({},"9cc57M4z9lNXZmwHQ9D/ls/","BusinessMan",void 0);var M=o.ccclass,g=o.property;c(a);e("BusinessMan",(p=M("BusinessMan"),l=g({type:a}),p((h=t((f=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,r(t,"type",h,i(t)),t}return n(t,e),t.prototype.getType=function(){return this.type},t}(u)).prototype,"type",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.TOMATO_CORN_APPLE}}),y=f))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,n,i,a,l,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,l=t.Vec3,s=t.Component}],execute:function(){var c,u,f,p,d;i._RF.push({},"b9686RX/fxPm5Y/3rgj053I","CameraController",void 0);var h=a.ccclass,g=a.property;t("CameraController",(c=h("CameraController"),u=g({type:l}),c((d=e((p=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"followOffset",d,n(e)),e.target=void 0,e}r(e,t);var i=e.prototype;return i.setTarget=function(t){this.target=t},i.update=function(t){if(null!=this.target){var e=this.target.worldPosition.clone().add(this.followOffset),r=new l(0,0,0);l.lerp(r,this.node.worldPosition,e,10*t),this.node.setPosition(r)}},e}(s)).prototype,"followOffset",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0)}}),f=p))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/Chicken.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./Define.ts","./GameEvent.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,s,c,u,h,d,g,m,p,E,v,f,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.SkeletalAnimationComponent,s=e.RigidBody,c=e.BoxCollider,u=e.Prefab,h=e.math,d=e.Vec3,g=e.misc,m=e.instantiate,p=e.Component},function(e){E=e.SoundName},function(e){v=e.Layer},function(e){f=e.gameEvent,I=e.EventName}],execute:function(){var C,D,b,L,y,k,R,A,w,S,T;a._RF.push({},"d41abpOovlEV7FVwCrALrMI","Chicken",void 0);var x,N=o.ccclass,z=o.property;!function(e){e[e.WALK=0]="WALK",e[e.RUN=1]="RUN",e[e.IDLE=2]="IDLE",e[e.EAT=3]="EAT"}(x||(x={}));e("Chicken",(C=N("Chicken"),D=z(l),b=z(s),L=z(c),y=z(u),C((A=t((R=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"animation",A,r(t)),i(t,"rigidBody",w,r(t)),i(t,"boxCollider",S,r(t)),i(t,"eggDrop",T,r(t)),t.animationMap=(new Map).set(x.WALK,"ChickenWalk").set(x.RUN,"ChickenRun").set(x.IDLE,"ChickenIdle").set(x.EAT,"ChickenEat"),t.state=x.IDLE,t.direction=t.randomDirection(),t.runDirection=null,t.timeChangeDirection=0,t.walkSpeed=20,t.runSpeed=100,t.runTimeOut=null,t.idleInterval=null,t.walkInterval=null,t.eatInterval=null,t.currentEgg=3,t.maxEgg=3,t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;this.setState(x.IDLE),this.boxCollider.on("onCollisionEnter",this.onCollisionEnter,this),this.boxCollider.on("onCollisionExit",this.onCollisionExit,this),setInterval((function(){e.currentEgg<e.maxEgg&&e.currentEgg++}),1e4)},a.setState=function(e){var t=this;switch(this.state=e,this.animation.play(this.animationMap.get(e)),clearInterval(this.idleInterval),clearInterval(this.walkInterval),clearInterval(this.eatInterval),e){case x.WALK:this.walkInterval=setInterval((function(){h.randomRangeInt(0,100)>40&&t.setState(x.IDLE)}),3e3);break;case x.RUN:break;case x.IDLE:this.idleInterval=setInterval((function(){h.randomRangeInt(0,100)>70?t.setState(x.WALK):h.randomRangeInt(0,100)>40&&t.setState(x.EAT)}),3e3);break;case x.EAT:this.eatInterval=setInterval((function(){h.randomRangeInt(0,100)>70?t.setState(x.WALK):h.randomRangeInt(0,100)>40&&t.setState(x.IDLE)}),3e3)}},a.update=function(e){switch(this.state){case x.WALK:this.timeChangeDirection+=e,this.timeChangeDirection>=3&&(this.direction=this.randomDirection(),this.timeChangeDirection=0),this.move(this.walkSpeed,this.direction,e);break;case x.RUN:this.move(this.runSpeed,this.runDirection,e);break;case x.IDLE:case x.EAT:this.rigidBody.clearVelocity()}},a.move=function(e,t,n){this.rigidBody.setLinearVelocity(new d(-t.z,0,t.x).multiplyScalar(n*e));var i=g.radiansToDegrees(Math.atan2(-t.z,t.x));this.node.eulerAngles=new d(0,i,0)},a.randomDirection=function(){var e=h.randomRange(-1,1),t=h.randomRange(-1,1);return new d(e,0,t)},a.onCollisionEnter=function(e){var t=this;e.otherCollider.node.layer==v.PLAYER&&(this.runDirection=e.otherCollider.node.position.clone().subtract(this.node.position).normalize(),this.setState(x.RUN),null!=this.runTimeOut&&clearTimeout(this.runTimeOut),this.runTimeOut=setTimeout((function(){t.setState(x.IDLE)}),3e3),this.dropEgg(),f.emit(I.PLAY_SOUND,E.CHICKEN))},a.onCollisionExit=function(e){},a.dropEgg=function(){for(var e=0;e<this.currentEgg;e++){var t=m(this.eggDrop);t.setParent(this.node.parent),t.setPosition(this.node.position.clone().add(new d(h.randomRange(-.2,.2),0,h.randomRange(-.2,.2)))),t.name=t.name.replace("Drop",""),f.emit(I.TWEEN_EGG_TO_INVENTORY,t)}this.currentEgg=0},t}(p)).prototype,"animation",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(R.prototype,"rigidBody",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(R.prototype,"boxCollider",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(R.prototype,"eggDrop",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=R))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/Convert2DTo3D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,n,s,r,c,i;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,s=o.find,r=o.Camera,c=o.Vec3,i=o.Component}],execute:function(){var a;e._RF.push({},"98eadZc6KpF8J3JqcSQGm+H","Convert2DTo3D",void 0);var p=n.ccclass;n.property,o("getUIPosFrom3D",p("getUIPosFrom3D")(a=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(t=o.call.apply(o,[this].concat(n))||this).pos=new c,t.distance=10,t}return t(e,o),e.prototype.set=function(o,t){s("3D-Camera").getComponent(r).convertToUINode(o,this.node.parent,this.pos),t&&this.pos.add(t),console.log(this.pos),this.node.setPosition(this.pos)},e}(i))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/Cow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./Define.ts","./GameEvent.ts"],(function(t){"use strict";var e,i,n,r,a,o,l,s,c,u,h,d,m,f,p,v,I,g,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.SkeletalAnimationComponent,s=t.RigidBody,c=t.BoxCollider,u=t.Prefab,h=t.math,d=t.Vec3,m=t.misc,f=t.instantiate,p=t.Component},function(t){v=t.SoundName},function(t){I=t.Layer},function(t){g=t.gameEvent,E=t.EventName}],execute:function(){var C,b,k,D,w,L,y,R,A,S,T;a._RF.push({},"01d3axtaaBNaoYojZkGxLah","Cow",void 0);var x,M=o.ccclass,N=o.property;!function(t){t[t.WALK=0]="WALK",t[t.RUN=1]="RUN",t[t.IDLE=2]="IDLE",t[t.EAT=3]="EAT"}(x||(x={}));t("Cow",(C=M("Cow"),b=N(l),k=N(s),D=N(c),w=N(u),C((R=e((y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"animation",R,r(e)),n(e,"rigidBody",A,r(e)),n(e,"boxCollider",S,r(e)),n(e,"milkPrefab",T,r(e)),e.animationMap=(new Map).set(x.WALK,"CowWalk").set(x.RUN,"CowRun").set(x.IDLE,"CowIdle").set(x.EAT,"CowEat"),e.state=x.IDLE,e.direction=e.randomDirection(),e.runDirection=null,e.timeChangeDirection=0,e.walkSpeed=20,e.runSpeed=100,e.runTimeOut=null,e.idleInterval=null,e.walkInterval=null,e.eatInterval=null,e.currentMilk=3,e.maxMilk=3,e}i(e,t);var a=e.prototype;return a.checkHarvest=function(){return this.currentMilk>0},a.start=function(){var t=this;this.setState(x.IDLE),this.boxCollider.on("onCollisionEnter",this.onCollisionEnter,this),this.boxCollider.on("onCollisionExit",this.onCollisionExit,this),setInterval((function(){t.currentMilk<t.maxMilk&&t.currentMilk++}),2e4)},a.setState=function(t){var e=this;switch(this.state=t,this.animation.play(this.animationMap.get(t)),clearInterval(this.idleInterval),clearInterval(this.walkInterval),clearInterval(this.eatInterval),t){case x.WALK:this.walkInterval=setInterval((function(){h.randomRangeInt(0,100)>40&&e.setState(x.IDLE)}),3e3);break;case x.RUN:break;case x.IDLE:this.idleInterval=setInterval((function(){h.randomRangeInt(0,100)>70?e.setState(x.WALK):h.randomRangeInt(0,100)>40&&e.setState(x.EAT)}),3e3);break;case x.EAT:this.eatInterval=setInterval((function(){h.randomRangeInt(0,100)>70?e.setState(x.WALK):h.randomRangeInt(0,100)>40&&e.setState(x.IDLE)}),3e3)}},a.update=function(t){switch(this.state){case x.WALK:this.timeChangeDirection+=t,this.timeChangeDirection>=3&&(this.direction=this.randomDirection(),this.timeChangeDirection=0),this.move(this.walkSpeed,this.direction,t);break;case x.RUN:this.move(this.runSpeed,this.runDirection,t);break;case x.IDLE:case x.EAT:this.rigidBody.clearVelocity()}},a.move=function(t,e,i){this.rigidBody.setLinearVelocity(new d(-e.z,0,e.x).multiplyScalar(i*t));var n=m.radiansToDegrees(Math.atan2(-e.z,e.x));this.node.eulerAngles=new d(0,n,0)},a.randomDirection=function(){var t=h.randomRange(-1,1),e=h.randomRange(-1,1);return new d(t,0,e)},a.onCollisionEnter=function(t){var e=this;t.otherCollider.node.layer==I.PLAYER&&(this.runDirection=t.otherCollider.node.position.clone().subtract(this.node.position).normalize(),this.setState(x.RUN),null!=this.runTimeOut&&clearTimeout(this.runTimeOut),this.runTimeOut=setTimeout((function(){e.setState(x.IDLE)}),3e3),g.emit(E.PLAY_SOUND,v.COW))},a.onCollisionExit=function(t){},a.harvest=function(){if(this.checkHarvest()){this.currentMilk--;var t=f(this.milkPrefab);t.setParent(this.node.parent),t.setPosition(this.node.position.clone().add(new d(h.randomRange(-.2,.2),0,h.randomRange(-.2,.2)))),t.name="milk",g.emit(E.TWEEN_MILK_TO_INVENTORY,t)}},e}(p)).prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(y.prototype,"rigidBody",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(y.prototype,"boxCollider",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(y.prototype,"milkPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=y))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){"use strict";var R;return{setters:[function(e){R=e.cclegacy}],execute:function(){e({BridgeType:void 0,HouseType:void 0,PetType:void 0,ShopType:void 0,TreeType:void 0,WorkerType:void 0}),R._RF.push({},"f0d2e8KMEpHrKUuhfixibGq","Define",void 0);var E,O,T,i,o,n,t=e("Layer",(function(){}));t.GROUND=1,t.PLAYER=2,t.PORT=4,t.SHOP=8,t.BORDER=16,t.FIELD=32,t.BUSINESS_MAN=64,t.APPLE_TREE=128,t.WORKER_HOUSE=256,t.DROP=1024,t.CHICKEN=512,t.COW=2048,t.DOG=4096,t.PLANE=8192,function(e){e[e.NONE=0]="NONE",e[e.APPLE=1]="APPLE",e[e.LARGE=2]="LARGE"}(E||(E=e("TreeType",{}))),function(e){e[e.EGG_MILK=0]="EGG_MILK",e[e.TOMATO_CORN_APPLE=1]="TOMATO_CORN_APPLE"}(O||(O=e("ShopType",{}))),function(e){e[e.HOUSE_WORKER=0]="HOUSE_WORKER"}(T||(T=e("HouseType",{}))),function(e){e[e.WORKER_CORN=0]="WORKER_CORN",e[e.WORKER_TOMATO=1]="WORKER_TOMATO",e[e.WORKER_SUNFLOWER=2]="WORKER_SUNFLOWER"}(i||(i=e("WorkerType",{}))),function(e){e[e.CURVE=0]="CURVE",e[e.STRAIGHT=1]="STRAIGHT"}(o||(o=e("BridgeType",{}))),function(e){e.DOG="dog"}(n||(n=e("PetType",{}))),R._RF.pop()}}}));

System.register("chunks:///_virtual/Dog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./Define.ts","./GameEvent.ts","./Profile.ts"],(function(t){"use strict";var e,i,n,o,a,r,s,l,c,h,u,d,g,L,p,m,D,f,v,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.SkeletalAnimationComponent,c=t.RigidBody,h=t.BoxCollider,u=t.math,d=t.Vec3,g=t.misc,L=t.Component},function(t){p=t.SoundName},function(t){m=t.PetType,D=t.Layer},function(t){f=t.gameEvent,v=t.EventName},function(t){I=t.profile}],execute:function(){var y,O,w,E,S,b,C,A,R;r._RF.push({},"05717MhLlVFlqpjC/CwgJ6P","Dog",void 0);var P,W=s.ccclass,T=s.property;!function(t){t[t.WALK=0]="WALK",t[t.FOLLOW=1]="FOLLOW",t[t.IDLE=2]="IDLE",t[t.EAT=3]="EAT"}(P||(P={}));t("Dog",(y=W("Dog"),O=T(l),w=T(c),E=T(h),y((C=e((b=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"animation",C,o(e)),n(e,"rigidBody",A,o(e)),n(e,"boxCollider",R,o(e)),e.animationMap=(new Map).set(P.WALK,"DogWalk").set(P.FOLLOW,"DogRun").set(P.IDLE,"DogIdle").set(P.EAT,"DogEat"),e.state=P.IDLE,e.direction=e.randomDirection(),e.runDirection=null,e.timeChangeDirection=0,e.walkSpeed=20,e.runSpeed=100,e.runTimeOut=null,e.idleInterval=null,e.walkInterval=null,e.eatInterval=null,e.target=null,e.allowRange=1.5,e.outRange=4,e.petType=m.DOG,e}i(e,t);var r=e.prototype;return r.start=function(){this.setState(P.IDLE),this.boxCollider.on("onCollisionEnter",this.onCollisionEnter,this),this.boxCollider.on("onCollisionExit",this.onCollisionExit,this)},r.setState=function(t){var e=this;if(this.state!=t)switch(this.state=t,this.animation.play(this.animationMap.get(t)),clearInterval(this.idleInterval),clearInterval(this.walkInterval),clearInterval(this.eatInterval),t){case P.WALK:this.walkInterval=setInterval((function(){u.randomRangeInt(0,100)>40&&e.setState(P.IDLE)}),3e3);break;case P.FOLLOW:break;case P.IDLE:this.idleInterval=setInterval((function(){u.randomRangeInt(0,100)>70?e.setState(P.WALK):u.randomRangeInt(0,100)>40&&e.setState(P.EAT)}),3e3);break;case P.EAT:this.eatInterval=setInterval((function(){u.randomRangeInt(0,100)>70?e.setState(P.WALK):u.randomRangeInt(0,100)>40&&e.setState(P.IDLE)}),3e3)}},r.update=function(t){if(null!=this.target&&this.state!=P.FOLLOW){var e=this.target.worldPosition.clone().subtract(this.node.worldPosition).length();if(e<=this.outRange&&e>this.allowRange)return void this.setState(P.FOLLOW)}switch(this.state){case P.WALK:this.timeChangeDirection+=t,this.timeChangeDirection>=3&&(this.direction=this.randomDirection(),this.timeChangeDirection=0),this.move(this.walkSpeed,this.direction,t);break;case P.FOLLOW:if(null!=this.target){this.runDirection=this.target.worldPosition.clone().subtract(this.node.worldPosition).normalize();var i=this.target.worldPosition.clone().subtract(this.node.worldPosition).length();i>this.outRange?(this.setState(P.IDLE),f.emit(v.PLAY_SOUND,p.DOG)):i<=.7*this.allowRange?this.setState(P.IDLE):i>this.allowRange&&this.move(this.runSpeed,this.runDirection,t)}break;case P.IDLE:case P.EAT:if(this.rigidBody.clearVelocity(),null!=this.target){var n=this.target.worldPosition.clone().subtract(this.node.worldPosition).length();n>this.allowRange&&n<=this.outRange&&(this.setState(P.FOLLOW),f.emit(v.PLAY_SOUND,p.DOG))}}},r.move=function(t,e,i){this.rigidBody.setLinearVelocity(new d(e.x,0,e.z).multiplyScalar(i*t));var n=g.radiansToDegrees(Math.atan2(e.x,e.z));this.node.eulerAngles=new d(0,n,0)},r.randomDirection=function(){var t=u.randomRange(-1,1),e=u.randomRange(-1,1);return new d(t,0,e)},r.onCollisionEnter=function(t){t.otherCollider.node.layer==D.PLAYER&&(this.target||(this.target=t.otherCollider.node,I.addPet(this.petType),f.emit(v.PLAY_SOUND,p.DOG)),this.rigidBody.clearVelocity(),this.state!=P.FOLLOW&&this.setState(P.FOLLOW))},r.onCollisionExit=function(t){},r.setTarget=function(t){this.target=t,this.setState(P.FOLLOW)},a(e,[{key:"PetType",get:function(){return this.petType}}]),e}(L)).prototype,"animation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(b.prototype,"rigidBody",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(b.prototype,"boxCollider",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=b))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/Field.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./Define.ts"],(function(t){"use strict";var e,n,i,r,o,l,a,s,u,c,f,p,h,g,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Node,s=t.Prefab,u=t.instantiate,c=t.Vec3,f=t.randomRange,p=t.tween,h=t.Component},function(t){g=t.gameEvent,m=t.EventName},function(t){y=t.WorkerType}],execute:function(){var b,C,w,v,d,P,z,S,R,T,D,F,W,M,k,E,_,H,O,N,A,I,L,B,K,x,G,U,V,j,J;t("FieldType",void 0),o._RF.push({},"ed4fedB1QRFiouHJ3aoGu3k","Field",void 0);var Q,Y=l.ccclass,q=l.property;!function(t){t.corn="corn",t.tomato="tomato",t.sunflower="sunflower"}(Q||(Q=t("FieldType",{})));t("Field",(b=Y("Field"),C=q(a),w=q(s),v=q({type:a,group:"corn"}),d=q({type:s,group:"corn"}),P=q({type:s,group:"corn"}),z=q({type:s,group:"corn"}),S=q({type:a,group:"tomato"}),R=q({type:s,group:"tomato"}),T=q({type:s,group:"tomato"}),D=q({type:s,group:"tomato"}),F=q({type:a,group:"sunflower"}),W=q({type:s,group:"sunflower"}),M=q({type:s,group:"sunflower"}),k=q({type:s,group:"sunflower"}),b((H=e((_=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"fieldCellContainer",H,r(e)),i(e,"fieldCell",O,r(e)),e.fieldCellSize=.5,e.size=0,i(e,"cornContainer",N,r(e)),i(e,"cornPlantS",A,r(e)),i(e,"cornPlantM",I,r(e)),i(e,"cornDrop",L,r(e)),i(e,"tomatoContainer",B,r(e)),i(e,"tomatoPlantS",K,r(e)),i(e,"tomatoPlantM",x,r(e)),i(e,"tomatoDrop",G,r(e)),i(e,"sunflowerContainer",U,r(e)),i(e,"sunflowerPlantS",V,r(e)),i(e,"sunflowerPlantM",j,r(e)),i(e,"sunflowerDrop",J,r(e)),e.isPlanting=!1,e.isCanWatering=!1,e.isCanHarvest=!1,e.type=null,e}n(e,t);var o=e.prototype;return o.setInfo=function(t,e){void 0===e&&(e=5),this.type=t,this.size=e,this.initField()},o.initField=function(){for(var t=0;t<this.size;t++)for(var e=0;e<this.size;e++){var n=u(this.fieldCell);n.parent=this.fieldCellContainer,n.setPosition(t*this.fieldCellSize,0,e*this.fieldCellSize)}this.isPlanting=!1,this.isCanWatering=!1,this.isCanHarvest=!1},o.checkPlant=function(){return this.isPlanting},o.checkWater=function(){return this.isCanWatering},o.checkHarvest=function(){return this.isCanHarvest},o.getType=function(){return this.type},o.plant=function(){null!=this.type&&(this.isPlanting||(console.log("plant: "+Q[this.type]),this.isPlanting=!0,this.genPlantS()))},o.watering=function(){null!=this.type&&0!=this.isCanWatering&&(console.log("watering: "+Q[this.type]),this.isCanWatering=!1,this.genPlantM())},o.genPlantS=function(){var t=this,e=null,n=null;switch(this.type){case Q.corn:e=this.cornPlantS,n=this.cornContainer;break;case Q.tomato:e=this.tomatoPlantS,n=this.tomatoContainer;break;case Q.sunflower:e=this.sunflowerPlantS,n=this.sunflowerContainer}if(null!=e&&null!=n){n.active=!0,n.removeAllChildren();for(var i=0;i<this.size;i++)for(var r=0;r<this.size;r++){var o=u(e);o.parent=n,o.setPosition(i*this.fieldCellSize,0,r*this.fieldCellSize)}setTimeout((function(){t.isCanWatering=!0}),2e3)}},o.genPlantM=function(){var t=this,e=null,n=null;switch(this.type){case Q.corn:e=this.cornPlantM,n=this.cornContainer;break;case Q.tomato:e=this.tomatoPlantM,n=this.tomatoContainer;break;case Q.sunflower:e=this.sunflowerPlantM,n=this.sunflowerContainer}if(null!=e&&null!=n){n.removeAllChildren();for(var i=0;i<this.size;i++)for(var r=0;r<this.size;r++){var o=u(e);o.parent=n,o.setPosition(i*this.fieldCellSize,0,r*this.fieldCellSize)}setTimeout((function(){t.isCanHarvest=!0}),2e3)}},o.harvest=function(t){var e=this;void 0===t&&(t=!1),null!=this.type&&0!=this.isCanHarvest&&(console.log("harvest: "+Q[this.type]),this.isPlanting&&(this.isCanHarvest=!1,setTimeout((function(){e.isPlanting=!1,e.isCanWatering=!1}),4e3),setTimeout((function(){var n=null,i=null,r=null;switch(e.type){case Q.corn:n=e.cornDrop,i=e.cornContainer,r=y.WORKER_CORN;break;case Q.tomato:n=e.tomatoDrop,i=e.tomatoContainer,r=y.WORKER_TOMATO;break;case Q.sunflower:n=e.sunflowerDrop,i=e.sunflowerContainer,r=y.WORKER_SUNFLOWER}if(null!=n&&null!=i){if(!t)return i.destroyAllChildren(),void g.emit(m.FILL_BARN,r,e.size*e.size);var o=[];i.children.forEach((function(t){o.push(t.position.clone())})),i.removeAllChildren(),o.forEach((function(t){var e=u(n);e.parent=i;var o=new c(t.x,.5,t.z);e.setPosition(o),e.name=e.name.replace("Drop","");var l=f(1.5,2);p(e).to(1*l/3,{position:t}).delay(2*l/3).call((function(){g.emit(m.TWEEN_FRUIT_TO_INVENTORY,e,r)})).start()}))}}),2e3)))},e}(h)).prototype,"fieldCellContainer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(_.prototype,"fieldCell",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(_.prototype,"cornContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(_.prototype,"cornPlantS",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(_.prototype,"cornPlantM",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(_.prototype,"cornDrop",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(_.prototype,"tomatoContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(_.prototype,"tomatoPlantS",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(_.prototype,"tomatoPlantM",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(_.prototype,"tomatoDrop",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(_.prototype,"sunflowerContainer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(_.prototype,"sunflowerPlantS",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(_.prototype,"sunflowerPlantM",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(_.prototype,"sunflowerDrop",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=_))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/FlowEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,o,f,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,f=t.UITransform,r=t.tween,s=t.Component}],execute:function(){var c;i._RF.push({},"fc524hSodlC64yiQjPQ3Cd9","FlowEffect",void 0);var e=o.ccclass;o.property,t("FlowEffect",e("FlowEffect")(c=function(t){function i(){for(var n,i=arguments.length,o=new Array(i),f=0;f<i;f++)o[f]=arguments[f];return(n=t.call.apply(t,[this].concat(o))||this).myUITransform=null,n.fillEffect=null,n.onGoing=null,n.maxWidth=null,n}n(i,t);var o=i.prototype;return o.onLoad=function(){this.init()},o.onEnable=function(){this.myUITransform.width=0},o.init=function(){this.onGoing=!1,this.myUITransform=this.getComponent(f),this.maxWidth=this.myUITransform.width},o.play=function(){var t=this;this.onGoing||(this.onGoing=!0,this.fillEffect=r({width:0}).to(.7,{width:this.maxWidth},{onUpdate:function(n,i){t.myUITransform.width=n.width}}).call((function(){t.onGoing=!1})),this.fillEffect.start())},o.stop=function(){this.fillEffect.stop()},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/Fluxay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,a,o,s,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.CCFloat,l=e.Sprite,u=e.tween,c=e.Component}],execute:function(){var p,h,m,y,f,d,v;a._RF.push({},"819518WMadLLqdAR3Hj9//0","Fluxay",void 0);var b=o.ccclass,g=o.property;e("Fluxay",(p=b("Fluxay"),h=g(s),m=g(Number),p((d=t((f=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"speed",d,n(t)),r(t,"interval",v,n(t)),t.material=null,t.time=0,t.shine=null,t}i(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;this.material=this.getComponent(l).customMaterial,this.shine=u({time:-.9}).set({time:-.9}).to(5/this.speed,{time:2.5},{onUpdate:function(t,i){e.material.setProperty("time",t.time)},easing:"linear"}).delay(this.interval).union().repeatForever()},a.onEnable=function(){this.shine.start()},a.onDisable=function(){this.shine.stop(),this.material.setProperty("time",0)},t}(c)).prototype,"speed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),v=t(f.prototype,"interval",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(_){"use strict";var e,t;return{setters:[function(_){e=_.cclegacy,t=_.EventTarget}],execute:function(){_("EventName",void 0),e._RF.push({},"c0730SfM49GIq6TMLTVzLWh","GameEvent",void 0);var n;_("gameEvent",new t);!function(_){_.PLAY_MUSIC="play_music",_.STOP_MUSIC="stop_music",_.PLAY_SOUND="play_sound",_.STOP_SOUND="stop_sound",_.CONTINUE_MUSIC="continue_music",_.PLAY_SINGLE_SOUND_LOOP="play_single_sound_loop",_.STOP_SINGLE_SOUND_LOOP="stop_single_sound_loop",_.USER_PROFILE_UPDATE="user_profile_update",_.PLAYER_ON_FIELD="player_on_field",_.PLAYER_NEAR_TREE="player_near_tree",_.SHOW_SEED_BTN="show_seed_btn",_.SHOW_WATERING_BTN="show_watering_btn",_.SHOW_HARVEST_BTN="show_harvest_btn",_.SHOW_MILKING_BTN="show_milking_btn",_.HIDE_ACTION_BTN="hide_action_btn",_.TWEEN_UI_OBJECT="tween_ui_object",_.TWEEN_FRUIT_TO_INVENTORY="tween_fruit_to_inventory",_.TWEEN_APPLE_TO_INVENTORY="tween_apple_to_inventory",_.TWEEN_LAND_TO_INVENTORY="tween_land_to_inventory",_.TWEEN_EGG_TO_INVENTORY="tween_egg_to_inventory",_.TWEEN_MILK_TO_INVENTORY="tween_milk_to_inventory",_.UPDATE_COIN="update_coin",_.UPDATE_DIAMONS="update_diamons",_.UPDATE_LAND="update_land",_.UPDATE_FRUIT="update_fruit",_.UPDATE_FOOD="update_food",_.GAIN_NEW_LEVEL="gain_new_level",_.HIRE_WORKER="hire_worker",_.FILL_BARN="fill_barn",_.BARN_EMPTY="barn_empty",_.WORLD_UP="world_up"}(n||(n=_("EventName",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./CameraController.ts","./PlayerController.ts"],(function(e){"use strict";var r,t,n,o,a,i,l,s,c,u,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Component},function(e){s=e.gameEvent,c=e.EventName},function(e){u=e.CameraController},function(e){p=e.PlayerController}],execute:function(){var f,h,m,y,g,d,C,v;a._RF.push({},"958cfA37gdJoZkfgxK1d0XB","GameManager",void 0);var w=i.ccclass,b=i.property;e("GameManager",(f=w("GameManager"),h=b(p),m=b(u),f(((v=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return r=e.call.apply(e,[this].concat(a))||this,n(r,"playerController",d,o(r)),n(r,"cameras",C,o(r)),r}t(r,e);var a=r.prototype;return a.start=function(){r.Instance=this,s.on(c.WORLD_UP,this.worldUp,this),this.worldStart()},a.worldStart=function(){this.playerController.node.setPosition(1,0,1),this.playerController.node.active=!0,this.playerController.reset(),this.setTargetForCamera(this.playerController.node)},a.worldUp=function(){this.worldStart()},a.setTargetForCamera=function(e){this.cameras.forEach((function(r){r.setTarget(e)}))},r}(l)).Instance=null,d=r((g=v).prototype,"playerController",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(g.prototype,"cameras",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalDefine.ts",["cc","./Define.ts"],(function(e){"use strict";var n,o,i,c;return{setters:[function(e){n=e.cclegacy,o=e._decorator},function(e){i=e.ShopType,c=e.WorkerType}],execute:function(){var r;n._RF.push({},"3fc3cllGMBIBJvDgH0WWV5S","GlobalDefine",void 0);var t=o.ccclass,a=(o.property,(new Map).set(i.TOMATO_CORN_APPLE,[{id:"corn",name:"corn",icon:"corn",price:3},{id:"tomato",name:"tomato",icon:"tomato",price:4},{id:"apple",name:"apple",icon:"apple",price:20}]).set(i.EGG_MILK,[{id:"egg",name:"egg",icon:"egg",price:35},{id:"milk",name:"milk",icon:"milk",price:175},{id:"sunflower",name:"sunflower",icon:"sunflower",price:7}])),l=new Map;l.set(c.WORKER_CORN,"corn"),l.set(c.WORKER_TOMATO,"tomato"),l.set(c.WORKER_SUNFLOWER,"sunflower");var s=e("GlobalDefine",t("GlobalDefine")(r=function(){this.shopConfig=a,this.workerFruit=l})||r);e("globalDefine",new s);n._RF.pop()}}}));

System.register("chunks:///_virtual/HouseWorkerPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WorkerSlot.ts","./Profile.ts","./UIController.ts"],(function(r){"use strict";var e,o,t,n,i,u,c,l,a,s,p,f,k;return{setters:[function(r){e=r.applyDecoratedDescriptor,o=r.inheritsLoose,t=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){i=r.cclegacy,u=r._decorator,c=r.Node,l=r.Prefab,a=r.instantiate,s=r.Component},function(r){p=r.WorkerSlot},function(r){f=r.profile},function(r){k=r.UIName}],execute:function(){var h,b,w,P,d,y,g;i._RF.push({},"35023NgtXNFkbwJr2XAuEc6","HouseWorkerPopup",void 0);var C=u.ccclass,S=u.property;r("HouseWorkerPopup",(h=C("HouseWorkerPopup"),b=S(c),w=S(l),h((y=e((d=function(r){function e(){for(var e,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=r.call.apply(r,[this].concat(i))||this,t(e,"workerSlotContainer",y,n(e)),t(e,"workerSlotPrefab",g,n(e)),e.workerPrice=100,e}o(e,r);var i=e.prototype;return i.onLoad=function(){},i.start=function(){var r=this,e=f.getAllWorkersFromHouse(f.warehouse[0].type);Object.keys(e).forEach((function(o){var t=a(r.workerSlotPrefab);t.getComponent(p).setInfo(e[o]),r.workerSlotContainer.addChild(t)}))},i.checkInfo=function(){this.workerSlotContainer.children.forEach((function(r){r.getComponent(p).checkWorker()}))},i.close=function(){uiController.hide(k.HouseWorkerPopup)},e}(s)).prototype,"workerSlotContainer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(d.prototype,"workerSlotPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=d))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/Input.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,s,i,c,a;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){e=t.cclegacy,s=t._decorator,i=t.Vec2,c=t.Node,a=t.Component}],execute:function(){var h,u;t("TouchState",void 0),e._RF.push({},"c6076d9xaJIE69QP200khrJ","Input",void 0);var r,p=s.ccclass;s.property;!function(t){t[t.None=0]="None",t[t.Down=1]="Down",t[t.Press=2]="Press",t[t.Up=3]="Up"}(r||(r=t("TouchState",{})));t("Input",p("Input")(((u=function(t){function e(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).state=r.None,n.isTouchDown=!1,n.downPosition=new i,n.position=new i,n.delta=new i,n}n(e,t);var s=e.prototype;return s.onLoad=function(){e.instance=this,this.node.on(c.EventType.TOUCH_START,this.onTouchBegan,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnded,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchCancelled,this)},s.lateUpdate=function(){this.state==r.Down?this.state=r.Press:this.state==r.Up&&(this.state=r.None,this.delta.set(0,0))},s.onTouchBegan=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),this.downPosition=n[0].getUILocation(),i.subtract(this.delta,this.position,this.downPosition),this.isTouchDown=!0,this.state=r.Down,this.StopPropagation(t)},s.onTouchEnded=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),this.isTouchDown=!1,this.state=r.Up,this.StopPropagation(t)},s.onTouchCancelled=function(t){this.isTouchDown=!1,this.state=r.Up,this.StopPropagation(t)},s.onTouchMove=function(t){var n=t.getTouches();this.position=n[0].getUILocation(),i.subtract(this.delta,this.position,this.downPosition),this.isTouchDown=!0,this.state=r.Press,this.StopPropagation(t)},s.reset=function(){this.state=r.None,this.delta.set(0,0)},s.StopPropagation=function(t){},e.Reset=function(){e.instance.reset()},o(e,null,[{key:"Instance",get:function(){return e.instance}},{key:"State",get:function(){return e.instance.state}},{key:"IsTouchDown",get:function(){return e.instance.state==r.Down}},{key:"IsTouchUp",get:function(){return e.instance.state==r.Up}},{key:"IsTouchMove",get:function(){return e.instance.state==r.Press}},{key:"IsTouchNone",get:function(){return e.instance.state==r.None}}]),e}(a)).instance=null,h=u))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemManager.ts",["cc"],(function(e){"use strict";var r,t,c,a;return{setters:[function(e){r=e.cclegacy,t=e._decorator,c=e.resources,a=e.SpriteFrame}],execute:function(){var n;r._RF.push({},"dcb04y+kUpNApUFcI/I+8O4","ItemManager",void 0);var i=t.ccclass,o=(t.property,e("ItemManager",i("ItemManager")(n=function(){var e=this;this.fruitImgMap=new Map,c.loadDir("fruits",a,(function(r,t){r?console.error(r):t.forEach((function(r){e.fruitImgMap.set(r.name.replace("icon_",""),r)}))}))})||n));e("itemMgr",new o);r._RF.pop()}}}));

System.register("chunks:///_virtual/LedArrowEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,n,i,c,a,f,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,a=t.Sprite,f=t.tween,s=t.color,u=t.Component}],execute:function(){var p,l,h,d,E;i._RF.push({},"413eeCchcpMYpeUUUIpriS7","LedArrowEffect",void 0);var w=c.ccclass,y=c.property;t("LedArrowEffect",(p=w("LedArrowEffect"),l=y(a),p((E=e((d=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,o(e,"arrows",E,n(e)),e.fadeEffects=[],e}r(e,t);var i=e.prototype;return i.onLoad=function(){this.init()},i.init=function(){var t=this;this.arrows.forEach((function(e){t.fadeEffects.push(f({alpha:255}).set({alpha:255}).to(1,{alpha:0},{onUpdate:function(t,r){e.color=s(255,255,255,t.alpha)}}).union().repeatForever())}))},i.onEnable=function(){this.play()},i.onDisable=function(){this.stop()},i.play=function(){var t=this,e=0;this.fadeEffects.forEach((function(r){t.scheduleOnce((function(){r.start()}),e),e+=.3}))},i.stop=function(){this.fadeEffects.forEach((function(t){t.stop()})),this.arrows.forEach((function(t){t.color=s(255,255,255,0)}))},e}(u)).prototype,"arrows",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelUpEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Fluxay.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,c,u,s,f,p,b,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Sprite,c=t.Node,u=t.Label,s=t.tween,f=t.color,p=t.Vec3,b=t.UITransform,h=t.Component},function(t){g=t.Fluxay}],execute:function(){var d,y,v,w,m,I,E,B,O,z,C,L,x,U,q,T,G,N,S,k,F;r._RF.push({},"1aa2e9soGNOpbnV+wilZMYq","LevelUpEffect",void 0);var P=a.ccclass,R=a.property;t("LevelUpEffect",(d=P("LevelUpEffect"),y=R(l),v=R(c),w=R(c),m=R(c),I=R(u),E=R(l),B=R(c),O=R(c),z=R(c),d((x=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"background",x,o(e)),i(e,"titleBorder",U,o(e)),i(e,"titleIcon",q,o(e)),i(e,"aura",T,o(e)),i(e,"congratText",G,o(e)),i(e,"info",N,o(e)),i(e,"closeBtn",S,o(e)),i(e,"btnGroup",k,o(e)),i(e,"foreground",F,o(e)),e.botCoor=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.firstInit()},r.onEnable=function(){var t=this;this.enableInit(),s({alpha:0}).to(.5,{alpha:191},{easing:"quadOut",onUpdate:function(e,n){t.background.color=f(0,0,0,e.alpha)}}).delay(.3).call((function(){t.playEffect()})).start()},r.firstInit=function(){var t=this.foreground.position.y;this.botCoor=new p(0,-this.node.parent.getComponent(b).height-this.titleIcon.getComponent(b).height/2-t)},r.enableInit=function(){this.titleIcon.setScale(new p(1.1,1.1,1.1)),this.titleBorder.setScale(p.ZERO),this.aura.setScale(p.ZERO),this.titleIcon.setPosition(this.botCoor),this.info.node.setPosition(new p(0,this.info.node.position.y-20)),this.closeBtn.active=!1,this.btnGroup.active=!1,this.titleBorder.getComponent(g).enabled=!1,this.titleIcon.getComponent(g).enabled=!1,this.aura.active=!1,this.info.color=f(255,255,255,0),this.congratText.color=f(255,255,255,0)},r.playEffect=function(){var t=this;s(this.titleIcon).to(.5,{position:new p(0,-500)},{easing:"quintOut"}).call((function(){s(t.titleBorder).set({scale:new p(6,6,6)}).to(.2,{scale:new p(1.1,1.1,1.1)},{easing:"quadIn"}).call((function(){s(t.titleIcon).to(.2,{scale:p.ONE},{easing:"quartOut"}).start(),s(t.titleBorder).to(.2,{scale:p.ONE},{easing:"quartOut"}).start()})).delay(.5).call((function(){t.titleBorder.getComponent(g).enabled=!0,t.titleIcon.getComponent(g).enabled=!0,s(t.aura).set({active:!0}).to(1,{scale:p.ONE}).call((function(){t.playInfoEffect(),t.btnGroup.active=!0,t.closeBtn.active=!0})).start()})).start()})).start()},r.playInfoEffect=function(){var t=this;s(this.info.node).by(.5,{position:new p(0,20)},{easing:"sineOut"}).start(),s({alpha:0}).to(.5,{alpha:255},{easing:"sineOut",onUpdate:function(e,n){t.info.color=f(255,255,255,e.alpha),t.congratText.color=f(255,255,255,e.alpha)}}).start()},e}(h)).prototype,"background",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(L.prototype,"titleBorder",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(L.prototype,"titleIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(L.prototype,"aura",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(L.prototype,"congratText",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(L.prototype,"info",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(L.prototype,"closeBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(L.prototype,"btnGroup",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(L.prototype,"foreground",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=L))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/LightEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,a,o,i,c,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.Sprite,i=t.tween,c=t.color,s=t.Vec3,r=t.Component}],execute:function(){var l;n._RF.push({},"39ac9jpR8tIw48ND5G0BA/4","LightEffect",void 0);var f=a.ccclass;a.property,t("LightEffect",f("LightEffect")(l=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).mySprite=null,e.fadeEffect=null,e.scaleEffect=null,e}e(n,t);var a=n.prototype;return a.onLoad=function(){this.init()},a.onEnable=function(){this.play()},a.onDisable=function(){this.stop()},a.init=function(){var t=this;this.mySprite=this.getComponent(o),this.fadeEffect=i({alpha:0}).delay(3).to(6,{alpha:255},{easing:"quadOut",onUpdate:function(e,n){t.mySprite.color=c(255,255,255,e.alpha)}}).delay(12).to(4,{alpha:0},{easing:"quadIn",onUpdate:function(e,n){t.mySprite.color=c(255,255,255,e.alpha)}}).delay(5).union().repeatForever(),this.scaleEffect=i(this.node).delay(3).to(6,{scale:s.ONE},{easing:"quadOut"}).delay(12).to(4,{scale:s.ZERO},{easing:"quadIn"}).delay(5).union().repeatForever()},a.play=function(){this.mySprite.color=c(255,255,255,0),this.node.setScale(s.ZERO),this.fadeEffect.start(),this.scaleEffect.start()},a.stop=function(){this.fadeEffect.stop(),this.scaleEffect.stop()},n}(r))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/LongList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,i,r,a,c,s;return{setters:[function(t){n=t.inheritsLoose,o=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,i=t._decorator,r=t.ScrollView,a=t.UITransform,c=t.Layout,s=t.Component}],execute:function(){var u;e._RF.push({},"b6e6fCGMsVDqqEpWWq1bViy","LongList",void 0);var l=i.ccclass;i.property,t("LongList",l("LongList")(u=function(t){function e(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).min=0,n.max=0,n}n(e,t),e.updateLayout=function(t){var n=t.getComponent(c);n._childrenChanged(),n.updateLayout(!0),n.enabled=!1};var i=e.prototype;return i.set=function(t,n){this.min=t,this.max=n;var o=this.getComponent(r);e.updateLayout(o.content),this.onScroll(o,4)},i.onScroll=function(t,n){if(4==n){var e=t.content.children,i=t.getComponent(a).getBoundingBox(),r=t.content.position.clone();r.add(t.node.position);for(var c,s=o(e);!(c=s()).done;){var u=c.value,l=u.getSiblingIndex();if(!(l<this.min||l>this.max)){var p=u.getComponent(a).getBoundingBox();p.x+=r.x,p.y+=r.y,u.active=p.intersects(i)}}}},e}(s))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LedArrowEffect.ts","./TitleFlyUpEffect.ts","./UpArrowEffect.ts","./AppearEffect.ts","./BreathEffect.ts","./FlowEffect.ts","./LightEffect.ts","./SealEffect.ts","./LevelUpEffect.ts","./Fluxay.ts","./AudioMgr.ts","./Convert2DTo3D.ts","./Define.ts","./Field.ts","./GameEvent.ts","./GlobalDefine.ts","./Port.ts","./Profile.ts","./UIController.ts","./Utils.ts","./LongList.ts","./MyButton.ts","./SnapList.ts","./Storage.ts","./MapData.ts","./MapData2.ts","./WorldData.ts","./AppleTree.ts","./BusinessMan.ts","./CameraController.ts","./Chicken.ts","./Cow.ts","./Dog.ts","./Input.ts","./Plane.ts","./PlantDelay.ts","./PlayerAnimatorController.ts","./PlayerController.ts","./TweenManager.ts","./UI2DFollow3D.ts","./Worker.ts","./WorkerHouse.ts","./GameManager.ts","./ItemManager.ts","./MapGenerator.ts","./MapManager.ts","./WorkerSlot.ts","./BarnInfoItem.ts","./BarnInfoPopup.ts","./HouseWorkerPopup.ts","./MainScreen.ts","./ShopItem.ts","./ShopPopup.ts","./StartScreen.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./ItemManager.ts","./GameEvent.ts","./Profile.ts"],(function(t){"use strict";var n,e,i,o,r,a,c,u,l,s,m,h,p,d,g,f,C,F,N;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Label,u=t.Node,l=t.Sprite,s=t.Prefab,m=t.SpriteFrame,h=t.NodeEventType,p=t.instantiate,d=t.Component},function(t){g=t.GameManager},function(t){f=t.itemMgr},function(t){C=t.gameEvent,F=t.EventName},function(t){N=t.profile}],execute:function(){var b,A,y,B,v,P,S,I,_,E,D,T,M,w,k,O,H,U,L,R,z;r._RF.push({},"256e7gBDc9Hp6X+3VV7K3Sj","MainScreen",void 0);var W=a.ccclass,G=a.property;t("MainScreen",(b=W("MainScreen"),A=G(c),y=G(u),B=G(u),v=G(l),P=G(s),S=G(s),I=G(s),_=G(m),E=G(m),b((M=n((T=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"diamondNum",M,o(n)),i(n,"leftCorner",w,o(n)),i(n,"rightCorner",k,o(n)),i(n,"actionBtn",O,o(n)),i(n,"fruitItemPrefab",H,o(n)),i(n,"corn",U,o(n)),i(n,"tomato",L,o(n)),i(n,"harvestSpriteFrame",R,o(n)),i(n,"wateringSpriteFrame",z,o(n)),n.onActionClickFnc=null,n.onActionDoneFnc=null,n}e(n,t);var r=n.prototype;return r.onLoad=function(){C.on(F.USER_PROFILE_UPDATE,this.updateUI,this),C.on(F.PLAYER_ON_FIELD,this.onPlayerOnField,this),C.on(F.HIDE_ACTION_BTN,this.onHideActionBtn,this),C.on(F.UPDATE_DIAMONS,this.updateDiamond,this),C.on(F.UPDATE_FRUIT,this.updateFruits,this),C.on(F.UPDATE_FOOD,this.updateFood,this),C.on(F.PLAYER_NEAR_TREE,this.onPlayerNearTree,this),C.on(F.SHOW_MILKING_BTN,this.onShowMilkingBtn,this),this.actionBtn.node.getParent().on(h.TOUCH_START,this.onActionClick,this),this.actionBtn.node.getParent().on(h.TOUCH_END,this.onActionDone,this)},r.start=function(){this.updateUI()},r.updateCoin=function(){C.emit(F.UPDATE_COIN)},r.updateDiamond=function(){this.diamondNum.string=N.data.diamons.toString(),this.diamondNum.node.getParent().active=N.data.diamons>0},r.updateLand=function(){C.emit(F.UPDATE_LAND)},r.updateFood=function(){var t=this;N.data.food.forEach((function(n){var e=t.rightCorner.getChildByName(n.id);n.amount>0?e?(e.active=!0,e.getChildByName("Num").getComponent(c).string=n.amount.toString()):((e=p(t.fruitItemPrefab)).getChildByName("Icon").getComponent(l).spriteFrame=f.fruitImgMap.get(n.id),e.getChildByName("Num").getComponent(c).string=n.amount.toString(),e.name=n.id,t.rightCorner.addChild(e)):e&&(e.getChildByName("Num").getComponent(c).string="0",e.active=!1)}))},r.updateFruits=function(){var t=this;N.data.fruits.forEach((function(n){var e=t.rightCorner.getChildByName(n.id);n.amount>0?e?(e.active=!0,e.getChildByName("Num").getComponent(c).string=n.amount.toString()):((e=p(t.fruitItemPrefab)).getChildByName("Icon").getComponent(l).spriteFrame=f.fruitImgMap.get(n.id),e.getChildByName("Num").getComponent(c).string=n.amount.toString(),e.name=n.id,t.rightCorner.addChild(e)):e&&(e.active=!1)}))},r.updateUI=function(){this.updateCoin(),this.updateDiamond(),this.updateLand(),this.updateFruits(),this.updateFood()},r.onPlayerOnField=function(t,n){switch(t){case F.SHOW_SEED_BTN:this.actionBtn.spriteFrame=f.fruitImgMap.get(n.getType()),this.actionBtn.node.getParent().active=!0,this.onActionClickFnc=function(){n.plant(),g.Instance.playerController.setWateringAnimation()};break;case F.SHOW_WATERING_BTN:this.actionBtn.spriteFrame=this.wateringSpriteFrame,this.actionBtn.node.getParent().active=!0,this.onActionClickFnc=function(){n.watering(),g.Instance.playerController.setWateringAnimation()};break;case F.SHOW_HARVEST_BTN:this.actionBtn.spriteFrame=this.harvestSpriteFrame,this.actionBtn.node.getParent().active=!0,this.onActionClickFnc=function(){n.harvest(!0),g.Instance.playerController.setHarvestAnimation()}}},r.onPlayerNearTree=function(t){this.actionBtn.spriteFrame=f.fruitImgMap.get("apple"),this.actionBtn.node.getParent().active=!0,this.onActionClickFnc=function(){t.harvest()}},r.onShowMilkingBtn=function(t){this.actionBtn.spriteFrame=f.fruitImgMap.get("milk"),this.actionBtn.node.getParent().active=!0,this.onActionClickFnc=function(){t.harvest()}},r.onHideActionBtn=function(){this.actionBtn.node.getParent().active=!1},r.onActionClick=function(){this.onActionClickFnc&&this.onActionClickFnc()},r.onActionDone=function(){this.onActionDoneFnc&&this.onActionDoneFnc()},n}(d)).prototype,"diamondNum",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(T.prototype,"leftCorner",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(T.prototype,"rightCorner",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(T.prototype,"actionBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(T.prototype,"fruitItemPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(T.prototype,"corn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(T.prototype,"tomato",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(T.prototype,"harvestSpriteFrame",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(T.prototype,"wateringSpriteFrame",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=T))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/MapData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Field.ts"],(function(e){"use strict";var t,o,n,i,p,s,r,a,w;return{setters:[function(e){t=e.extends},function(e){o=e.cclegacy,n=e.Vec3},function(e){i=e.TreeType,p=e.ShopType,s=e.BridgeType,r=e.HouseType,a=e.PetType},function(e){w=e.FieldType}],execute:function(){o._RF.push({},"5a00cfQu1VDEJr0R5APBRXQ","MapData",void 0);var v=e("MapData",(function(){}));v.portInfo=(new Map).set(2,{level:2,coin:20,requireLevel:1}).set(3,{level:3,coin:30,requireLevel:2}).set(4,{level:4,coin:30,requireLevel:3}).set(5,{level:5,coin:100,requireLevel:4}).set(6,{level:6,coin:20,requireLevel:5}).set(7,{level:7,coin:25,requireLevel:6}).set(8,{level:8,coin:2400,land:18,requireLevel:6}).set(9,{level:9,coin:3e3,land:18,requireLevel:6}).set(10,{level:10,coin:100,requireLevel:7}).set(11,{level:11,coin:188,requireLevel:3}).set(12,{level:12,coin:20,land:7,requireLevel:11}).set(13,{level:13,coin:100,requireLevel:12}).set(14,{level:14,coin:140,requireLevel:13}).set(15,{level:15,coin:300,requireLevel:14}).set(16,{level:16,coin:716,requireLevel:14}).set(17,{level:17,coin:904,requireLevel:15}).set(18,{level:18,coin:904,requireLevel:14}).set(19,{level:19,coin:1e3,requireLevel:16}).set(20,{level:20,coin:904,requireLevel:17}).set(21,{level:21,coin:904,requireLevel:18}).set(22,{level:22,coin:1500,requireLevel:19}).set(23,{level:23,coin:84,requireLevel:14}).set(24,{level:24,coin:4100,requireLevel:9}).set(25,{level:25,coin:2200,land:24,requireLevel:24}).set(26,{level:26,coin:2500,requireLevel:25}).set(27,{level:27,coin:2700,requireLevel:26}).set(28,{level:28,coin:2800,requireLevel:27}).set(29,{level:29,coin:2900,requireLevel:28}).set(30,{level:30,coin:3e3,requireLevel:29}),v.mapLv1={position:n.ZERO,tiles:[[0,0,0,0,2,2,2,0],[2,1,1,1,1,1,1,0],[2,1,1,1,1,1,1,0],[2,1,1,1,1,1,1,0],[2,1,1,1,1,1,1,0],[2,1,1,1,1,1,1,0],[2,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],ports:[t({position:new n(7,0,2),rotation:new n(0,0,0)},v.portInfo.get(2)),t({position:new n(7,0,5),rotation:new n(0,0,0)},v.portInfo.get(3)),t({position:new n(0,0,2),rotation:new n(0,-180,0)},v.portInfo.get(11)),t({position:new n(2,0,7),rotation:new n(0,-90,0)},v.portInfo.get(12)),t({position:new n(5,0,7),rotation:new n(0,-90,0)},v.portInfo.get(23))],fields:[{position:new n(4,0,4),rotation:new n(0,0,0),type:w.corn}],trees:[{position:new n(3,0,1),rotation:new n(0,0,0),type:i.NONE}],flowers:[{position:new n(2.7,0,2),rotation:new n(0,0,0)}]},v.mapLv2={position:new n(6,0,0),tiles:[[0,0,0,0,0],[2,1,1,1,0],[2,1,1,1,0],[2,1,1,1,0],[0,2,2,0,0]],ports:[t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(3)),t({position:new n(4,0,4),rotation:new n(0,0,0)},v.portInfo.get(5))],shops:[{position:new n(2,0,2),rotation:new n(0,90,0),type:p.TOMATO_CORN_APPLE}]},v.mapLv3={position:new n(6,0,3),tiles:[[0,0,0,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,2,0]],ports:[t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(4))]},v.mapLv4={position:new n(6,0,6),tiles:[[0,0,0,0,0],[0,1,1,1,2],[0,1,1,1,2],[0,1,1,1,2],[0,2,2,2,0]],ports:[t({position:new n(0,0,2),rotation:new n(0,-180,0)},v.portInfo.get(23))],trees:[{position:new n(2,0,2),rotation:new n(0,0,0),type:i.APPLE}]},v.mapLv5={position:new n(9,0,3),ports:[t({position:new n(4,0,1),rotation:new n(0,0,0)},v.portInfo.get(6))],bridges:[{position:new n(2,0,1),rotation:new n(0,90,0),type:s.CURVE}]},v.mapLv6={position:new n(12,0,2),tiles:[[0,0,0,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,0,0]],ports:[t({position:new n(2,0,0),rotation:new n(0,90,0)},v.portInfo.get(7)),t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(8)),t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(9))]},v.mapLv7={position:new n(12,0,-1),tiles:[[0,2,2,2,0],[2,1,1,1,0],[2,1,1,1,0],[2,1,1,1,0],[0,0,0,0,0]],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(10))]},v.mapLv8={position:new n(15,0,2),tiles:[[0,0,0,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,0,0]],ports:[t({position:new n(2,0,0),rotation:new n(0,90,0)},v.portInfo.get(10)),t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(24)),t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(25))],cows:[{position:new n(2,0,2),rotation:new n(0,0,0)}]},v.mapLv9={position:new n(12,0,5),tiles:[[0,2,2,2,0],[0,1,1,1,2],[0,1,1,1,2],[0,1,1,1,2],[0,0,0,0,0]],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(24))],fields:[{position:new n(1,0,1),rotation:new n(0,0,0),type:w.tomato}]},v.mapLv10={position:new n(15,0,-1),tiles:[[0,0,0,0,0],[2,1,1,1,0],[2,1,1,1,0],[2,1,1,1,0],[0,2,2,2,0]],ports:[t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(8))],houses:[{position:new n(2,0,2),rotation:new n(0,90,0),type:r.HOUSE_WORKER}]},v.mapLv11={position:new n(-3,0,0),tiles:[[0,2,2,2,0],[2,1,1,1,2],[2,1,1,1,2],[2,1,1,1,2],[0,0,0,0,0]],fields:[{position:new n(1,0,1),rotation:new n(0,0,0),type:w.tomato}]},v.mapLv12={position:new n(0,0,6),tiles:[[0,2,2,2,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,0,0]],ports:[t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(13)),t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(23))]},v.mapLv13={position:new n(0,0,9),ports:[t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(14))],bridges:[{position:new n(2,0,2),rotation:new n(0,180,0),type:s.CURVE}]},v.mapLv14={position:new n(0,0,12),tiles:[[0,0,0,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,0,0]],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(15)),t({position:new n(0,0,2),rotation:new n(0,180,0)},v.portInfo.get(16)),t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(18))],chickens:[{position:new n(2,0,2),rotation:new n(0,0,0)}]},v.mapLv15={position:new n(3,0,12),tiles:[[0,0,0,0,0],[2,1,1,1,0],[2,1,1,1,0],[2,1,1,1,0],[0,2,2,2,0]],ports:[t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(17))],shops:[{position:new n(2,0,2),rotation:new n(0,90,0),type:p.EGG_MILK}]},v.mapLv16={position:new n(-3,0,12),tiles:[[0,2,2,2,0],[2,1,1,1,0],[2,1,1,1,0],[2,1,1,1,0],[0,0,0,0,0]],ports:[t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(19))],fields:[{position:new n(1,0,1),rotation:new n(0,0,0),type:w.sunflower}]},v.mapLv17={position:new n(3,0,15),tiles:[[0,0,0,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,2,2,2,0]],ports:[t({position:new n(0,0,2),rotation:new n(0,-180,0)},v.portInfo.get(18)),t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(20))],chickens:[{position:new n(2,0,2),rotation:new n(0,0,0)}]},v.mapLv18={position:new n(0,0,15),tiles:[[0,0,0,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,0,0]],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(17)),t({position:new n(0,0,2),rotation:new n(0,-180,0)},v.portInfo.get(19)),t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(21))]},v.mapLv19={position:new n(-3,0,15),tiles:[[0,2,2,2,0],[0,1,1,1,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,0,0]],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(18)),t({position:new n(2,0,4),rotation:new n(0,-90,0)},v.portInfo.get(22))],fields:[{position:new n(1,0,1),rotation:new n(0,0,0),type:w.sunflower}]},v.mapLv20={position:new n(3,0,18),tiles:[[0,0,0,0,0],[0,1,1,1,2],[0,1,1,1,2],[0,1,1,1,2],[0,2,2,2,0]],ports:[t({position:new n(0,0,2),rotation:new n(0,-180,0)},v.portInfo.get(21))],trees:[{position:new n(2.2,0,2.5),rotation:new n(0,20,0),type:i.LARGE}],dogs:[{position:new n(2,0,2),rotation:new n(0,0,0),type:a.DOG}]},v.mapLv21={position:new n(0,0,18),tiles:[[0,0,0,0,0],[0,1,1,1,2],[0,1,1,1,2],[0,1,1,1,2],[0,0,0,0,0]],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(20)),t({position:new n(0,0,2),rotation:new n(0,-180,0)},v.portInfo.get(22))]},v.mapLv22={position:new n(-3,0,18),tiles:[[0,2,2,2,0],[0,1,1,1,2],[0,1,1,1,2],[0,1,1,1,2],[0,0,0,0,0]],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(21))],fields:[{position:new n(1,0,1),rotation:new n(0,0,0),type:w.sunflower}]},v.mapLv23={position:new n(3,0,6),tiles:[[0,0,0,0,0],[0,1,1,1,2],[0,1,1,1,2],[0,1,1,1,2],[0,0,0,0,0]],ports:[],fields:[{position:new n(1,0,1),rotation:new n(0,0,0),type:w.corn}]},v.mapLv24={position:new n(15,0,5),tiles:[[0,0,0,0,0],[0,1,1,1,2],[0,1,1,1,2],[0,1,1,1,2],[0,2,2,2,0]],ports:[t({position:new n(2,0,0),rotation:new n(0,90,0)},v.portInfo.get(8))],fields:[{position:new n(1,0,1),rotation:new n(0,0,0),type:w.tomato}]},v.mapLv25={position:new n(18,0,2),ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(26))],bridges:[{position:new n(2,0,2),rotation:new n(0,0,0),type:s.STRAIGHT}]},v.mapLv26={position:new n(21,0,2),bridges:[{position:new n(2,0,2),rotation:new n(0,0,0),type:s.STRAIGHT}],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(27))]},v.mapLv27={position:new n(24,0,2),bridges:[{position:new n(2,0,2),rotation:new n(0,0,0),type:s.STRAIGHT}],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(28))]},v.mapLv28={position:new n(27,0,2),bridges:[{position:new n(2,0,2),rotation:new n(0,0,0),type:s.STRAIGHT}],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(29))]},v.mapLv29={position:new n(30,0,2),bridges:[{position:new n(2,0,2),rotation:new n(0,0,0),type:s.STRAIGHT}],ports:[t({position:new n(4,0,2),rotation:new n(0,0,0)},v.portInfo.get(30))]},v.mapLv30={position:new n(33,0,.5),tiles:[[0,2,2,0,0,2,2,0],[0,1,1,1,1,1,1,2],[0,1,1,1,1,1,1,2],[2,1,1,1,1,1,1,2],[2,1,1,1,1,1,1,2],[2,1,1,1,1,2,2,0],[2,1,1,1,1,2,0,0],[0,2,2,2,2,0,0,0]],trees:[{position:new n(2,0,5),rotation:new n(0,20,0),type:i.LARGE}],bridges:[{position:new n(1.5,0,-1),rotation:new n(0,90,0),type:s.STRAIGHT}],planes:[{position:new n(-1,0,-2),rotation:new n(0,90,0)}]},v.MapData=(new Map).set(1,v.mapLv1).set(2,v.mapLv2).set(3,v.mapLv3).set(4,v.mapLv4).set(5,v.mapLv5).set(6,v.mapLv6).set(7,v.mapLv7).set(8,v.mapLv8).set(9,v.mapLv9).set(10,v.mapLv10).set(11,v.mapLv11).set(12,v.mapLv12).set(13,v.mapLv13).set(14,v.mapLv14).set(15,v.mapLv15).set(16,v.mapLv16).set(17,v.mapLv17).set(18,v.mapLv18).set(19,v.mapLv19).set(20,v.mapLv20).set(21,v.mapLv21).set(22,v.mapLv22).set(23,v.mapLv23).set(24,v.mapLv24).set(25,v.mapLv25).set(26,v.mapLv26).set(27,v.mapLv27).set(28,v.mapLv28).set(29,v.mapLv29).set(30,v.mapLv30),e("MapData2",(function(){})).MapData=(new Map).set(1,v.mapLv1).set(2,v.mapLv2).set(3,v.mapLv3).set(4,v.mapLv4).set(5,v.mapLv5).set(6,v.mapLv6).set(7,v.mapLv7).set(8,v.mapLv8).set(9,v.mapLv9).set(10,v.mapLv10).set(11,v.mapLv11).set(12,v.mapLv12).set(13,v.mapLv13).set(14,v.mapLv14).set(15,v.mapLv15).set(16,v.mapLv16).set(17,v.mapLv17).set(18,v.mapLv18).set(19,v.mapLv19).set(20,v.mapLv20).set(21,v.mapLv21).set(22,v.mapLv22).set(23,v.mapLv23).set(24,v.mapLv24).set(25,v.mapLv25).set(26,v.mapLv26).set(27,v.mapLv27).set(28,v.mapLv28).set(29,v.mapLv29).set(30,v.mapLv30),o._RF.pop()}}}));

System.register("chunks:///_virtual/MapData2.ts",["cc","./MapData.ts"],(function(a){"use strict";var t,e;return{setters:[function(a){t=a.cclegacy},function(a){e=a.MapData}],execute:function(){t._RF.push({},"63d0fNuhSBI+JgMky6aTNVO","MapData2",void 0),a("MapData2",(function(){})).MapData=(new Map).set(1,e.mapLv1).set(2,e.mapLv2).set(3,e.mapLv3).set(4,e.mapLv4).set(5,e.mapLv5).set(6,e.mapLv6).set(7,e.mapLv7).set(8,e.mapLv8).set(9,e.mapLv9).set(10,e.mapLv10).set(11,e.mapLv11).set(12,e.mapLv12).set(13,e.mapLv13).set(14,e.mapLv14).set(15,e.mapLv15).set(16,e.mapLv16).set(17,e.mapLv17).set(18,e.mapLv18).set(19,e.mapLv19).set(20,e.mapLv20).set(21,e.mapLv21).set(22,e.mapLv22).set(23,e.mapLv23).set(24,e.mapLv24).set(25,e.mapLv25).set(26,e.mapLv26).set(27,e.mapLv27).set(28,e.mapLv28).set(29,e.mapLv29).set(30,e.mapLv30),t._RF.pop()}}}));

System.register("chunks:///_virtual/MapGenerator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WorldData.ts","./Define.ts","./Field.ts","./Port.ts","./Profile.ts","./Dog.ts","./GameManager.ts"],(function(e){"use strict";var r,t,i,o,n,a,s,l,u,f,p,c,b,h,g,d,P,v,w,y,m,C,A;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.Prefab,l=e.Node,u=e.NodePool,f=e.instantiate,p=e.Vec3,c=e.Component},function(e){b=e.WorldData},function(e){h=e.TreeType,g=e.BridgeType,d=e.ShopType,P=e.HouseType,v=e.PetType},function(e){w=e.Field},function(e){y=e.Port},function(e){m=e.profile},function(e){C=e.Dog},function(e){A=e.GameManager}],execute:function(){var M,z,T,G,E,k,F,S,D,R,L,H,W,B,I,N,_,O,V,x,K,U,j,q,Q,J,X,Y,Z,$,ee,re,te,ie,oe,ne,ae,se,le;n._RF.push({},"552d5todW5Ifpgd2odQvkeV","MapGenerator",void 0);var ue=a.ccclass,fe=a.property,pe=a.executeInEditMode;e("MapGenerator",(M=ue("MapGenerator"),z=fe(s),T=fe(s),G=fe(s),E=fe(s),k=fe({type:s,group:"Tree"}),F=fe({type:s,group:"Tree"}),S=fe({type:s,group:"Tree"}),D=fe(s),R=fe({type:s,group:"Shop"}),L=fe({type:s,group:"Shop"}),H=fe({type:s,group:"Bridge"}),W=fe({type:s,group:"Bridge"}),B=fe({type:s,group:"House"}),I=fe(s),N=fe(s),_=fe(s),O=fe(l),V=fe(s),M(x=pe((U=r((K=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"grassPrefab",U,o(r)),i(r,"borderGrassPrefab",j,o(r)),r.grassPool=new u,i(r,"portPrefab",q,o(r)),i(r,"fieldPrefab",Q,o(r)),i(r,"treeNormalPrefab",J,o(r)),i(r,"treeLargePrefab",X,o(r)),i(r,"treeApplePrefab",Y,o(r)),r.treePrefabs=void 0,i(r,"flowerPrefab",Z,o(r)),i(r,"shopTomatoCornApplePrefab",$,o(r)),i(r,"shopEggMilkPrefab",ee,o(r)),r.shopPrefabs=new Map,i(r,"bridgeCurvePrefab",re,o(r)),i(r,"bridgeStraightPrefab",te,o(r)),r.bridgePrefabs=void 0,i(r,"houseWorker",ie,o(r)),r.housePrefabs=void 0,i(r,"chickenPrefab",oe,o(r)),i(r,"cowPrefab",ne,o(r)),i(r,"dogPrefab",ae,o(r)),i(r,"dogSpawnPoint",se,o(r)),i(r,"planePrefab",le,o(r)),r.fields=new Map,r}t(r,e);var n=r.prototype;return n.onLoad=function(){this.treePrefabs=(new Map).set(h.NONE,this.treeNormalPrefab).set(h.LARGE,this.treeLargePrefab).set(h.APPLE,this.treeApplePrefab),this.bridgePrefabs=(new Map).set(g.CURVE,this.bridgeCurvePrefab).set(g.STRAIGHT,this.bridgeStraightPrefab),this.shopPrefabs=(new Map).set(d.TOMATO_CORN_APPLE,this.shopTomatoCornApplePrefab).set(d.EGG_MILK,this.shopEggMilkPrefab),this.housePrefabs=(new Map).set(P.HOUSE_WORKER,this.houseWorker)},n.startWorld=function(){this.node.removeAllChildren();for(var e=0;e<100;e++)this.grassPool.put(f(this.grassPrefab))},n.onEnable=function(){},n.getMapData=function(e,r){return b.WorldData.get(e).get(r)},n.createMap=function(e,r,t){void 0===t&&(t=!1),console.log("[Map Generator] create map level: "+r);var i=this.getMapData(e,r);if(null!=i){var o=new l;o.name="map"+r,this.node.addChild(o),o.setPosition(i.position);for(var n=i.tiles?i.tiles:[],a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++){if(1==n[a][s]){var u=this.createGrass();u.setPosition(new p(a,0,s)),o.addChild(u)}if(2==n[a][s]){var f=this.createBorderGrass();f.setPosition(new p(a,0,s)),o.addChild(f),0==a&&f.setRotationFromEuler(new p(0,90,0)),s==n[a].length-1&&f.setRotationFromEuler(new p(0,180,0)),a==n.length-1&&f.setRotationFromEuler(new p(0,-90,0)),0==s&&f.setRotationFromEuler(new p(0,0,0))}}for(var c=i.ports?i.ports:[],b=0;b<c.length;b++){var h=this.createPort(),g=c[b];h.setPosition(g.position),h.eulerAngles=g.rotation,o.addChild(h),h.getComponent(y).setInfo(g.level,g.coin,g.land,g.requireLevel,t)}for(var d=i.fields?i.fields:[],P=0;P<d.length;P++){var v=d[P],C=this.createField();C.setPosition(v.position),C.eulerAngles=v.rotation,o.addChild(C);var A=C.getComponent(w);A.setInfo(v.type),this.addField(v.type,A)}for(var M=i.trees?i.trees:[],z=0;z<M.length;z++){var T=this.createTree(M[z].type);T.setPosition(M[z].position),T.eulerAngles=M[z].rotation,o.addChild(T)}for(var G=i.flowers?i.flowers:[],E=0;E<G.length;E++){var k=this.createFlower();k.setPosition(G[E].position),k.eulerAngles=G[E].rotation,o.addChild(k)}for(var F=i.shops?i.shops:[],S=0;S<F.length;S++){var D=F[S],R=this.createShop(D.type);R.setPosition(D.position),R.eulerAngles=D.rotation,o.addChild(R)}for(var L=i.bridges?i.bridges:[],H=0;H<L.length;H++){var W=L[H],B=this.createBridge(W.type);B.setPosition(W.position),B.eulerAngles=W.rotation,o.addChild(B)}for(var I=i.houses?i.houses:[],N=0;N<I.length;N++){var _=I[N],O=this.createHouse(_.type);O.setPosition(_.position),O.eulerAngles=_.rotation,o.addChild(O)}for(var V=i.chickens?i.chickens:[],x=0;x<V.length;x++){var K=this.createChicken();K.setPosition(V[x].position),K.eulerAngles=V[x].rotation,o.addChild(K)}for(var U=i.cows?i.cows:[],j=0;j<U.length;j++){var q=this.createCow();q.setPosition(U[j].position),q.eulerAngles=U[j].rotation,o.addChild(q)}for(var Q=i.dogs?i.dogs:[],J=0;J<Q.length;J++){var X=Q[J];if(!m.isHavePet(X.type)){var Y=this.createDog();Y.setPosition(X.position),Y.eulerAngles=X.rotation,o.addChild(Y)}}for(var Z=i.planes?i.planes:[],$=0;$<Z.length;$++){var ee=this.createPlane();ee.setPosition(Z[$].position),ee.eulerAngles=Z[$].rotation,o.addChild(ee)}}},n.createPort=function(){return f(this.portPrefab)},n.createGrass=function(){return this.grassPool.size()>0?this.grassPool.get():f(this.grassPrefab)},n.createBorderGrass=function(){return f(this.borderGrassPrefab)},n.createField=function(){return f(this.fieldPrefab)},n.createTree=function(e){return f(this.treePrefabs.get(e))},n.createFlower=function(){return f(this.flowerPrefab)},n.createShop=function(e){return f(this.shopPrefabs.get(e))},n.createBridge=function(e){return f(this.bridgePrefabs.get(e))},n.createHouse=function(e){return f(this.housePrefabs.get(e))},n.createChicken=function(){return f(this.chickenPrefab)},n.createCow=function(){return f(this.cowPrefab)},n.createDog=function(){return f(this.dogPrefab)},n.createPlane=function(){return f(this.planePrefab)},n.getField=function(e){return this.fields.get(e)},n.addField=function(e,r){var t=this.fields.get(e);t?(t.push(r),this.fields.set(e,t)):this.fields.set(e,[r])},n.checkHasField=function(e){return this.fields.has(e)},n.genPet=function(e){switch(e){case v.DOG:var r=this.createDog();r.setPosition(this.dogSpawnPoint.position),r.eulerAngles=this.dogSpawnPoint.eulerAngles,this.dogSpawnPoint.parent.addChild(r),r.getComponent(C).setTarget(A.Instance.playerController.node)}},r}(c)).prototype,"grassPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(K.prototype,"borderGrassPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=r(K.prototype,"portPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=r(K.prototype,"fieldPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=r(K.prototype,"treeNormalPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=r(K.prototype,"treeLargePrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=r(K.prototype,"treeApplePrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=r(K.prototype,"flowerPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=r(K.prototype,"shopTomatoCornApplePrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=r(K.prototype,"shopEggMilkPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=r(K.prototype,"bridgeCurvePrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=r(K.prototype,"bridgeStraightPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=r(K.prototype,"houseWorker",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=r(K.prototype,"chickenPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=r(K.prototype,"cowPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=r(K.prototype,"dogPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=r(K.prototype,"dogSpawnPoint",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=r(K.prototype,"planePrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=K))||x)||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/MapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WorldData.ts","./Define.ts","./Field.ts","./GameEvent.ts","./Profile.ts","./MapGenerator.ts"],(function(e){"use strict";var n,t,r,o,l,a,i,c,s,d,u,p,h,f,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,i=e.math,c=e.Component},function(e){s=e.WorldData},function(e){d=e.WorkerType},function(e){u=e.FieldType},function(e){p=e.gameEvent,h=e.EventName},function(e){f=e.profile},function(e){v=e.MapGenerator}],execute:function(){var g,m,G,k,W,w;l._RF.push({},"05ddbQ1ToRJKohgiz8rsa1h","MapManager",void 0);var F=a.ccclass,M=a.property;e("MapManager",(g=F("MapManager"),m=M(v),g(((w=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return n=e.call.apply(e,[this].concat(l))||this,r(n,"mapGenerator",W,o(n)),n.levelGaineds=[],n}t(n,e);var l=n.prototype;return l.start=function(){n.Instance=this,this.initWorld(),p.on(h.WORLD_UP,this.worldUp,this)},l.initWorld=function(){var e=this;this.mapGenerator.startWorld(),0==f.levelUnlocked.length&&(f.levelUnlocked.push(1),f.levelUnlocked.push(30)),f.levelUnlocked.forEach((function(n){e.levelGaineds.push(n),e.gainNewLevel(n,!0)})),f.pet.forEach((function(n){e.mapGenerator.genPet(n)}))},l.worldUp=function(){f.world<s.maxWorld&&(f.world+=1),f.clearForWorldUp(),this.levelGaineds=[],console.log("worldUp",f.world),console.log("land",f.land),console.log("levelUnlocked",f.levelUnlocked),this.initWorld()},l.gainNewLevel=function(e,n){return void 0===n&&(n=!1),!(e<1)&&(-1==this.levelGaineds.indexOf(e)||n?(n||(this.levelGaineds.push(e),f.addlevelUnlocked(e)),this.mapGenerator.createMap(f.world,e),p.emit(h.GAIN_NEW_LEVEL,e),!0):void 0)},l.checkLevelGained=function(e){return-1!=this.levelGaineds.indexOf(e)},l.getField=function(e){var n=this.mapGenerator.getField(e);return 0==n.length?null:n[i.randomRangeInt(0,n.length)]},l.checkHasField=function(e){switch(console.log("checkHasField",e),e){case d.WORKER_CORN:return this.mapGenerator.checkHasField(u.corn);case d.WORKER_TOMATO:return this.mapGenerator.checkHasField(u.tomato);case d.WORKER_SUNFLOWER:return this.mapGenerator.checkHasField(u.sunflower)}},n}(c)).Instance=null,W=n((k=w).prototype,"mapGenerator",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=k))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/MyButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,c,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,c=t.Vec3,r=t.tween,s=t.Button}],execute:function(){var u;e._RF.push({},"fcc4bPxkp9Fmp1myyVfWiGJ","MyButton",void 0);var i=o.ccclass;o.property,t("MyButton",i("MyButton")(u=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){var t=this;this.node.on("click",(function(){t.node.setScale(new c(.5,.5,.5)),r(t.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start()}))},e}(s))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/Plane.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./GameManager.ts"],(function(e){"use strict";var t,r,i,n,a,o,l,c,s,u,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,c=e.tween,s=e.Vec3,u=e.Component},function(e){p=e.gameEvent,f=e.EventName},function(e){h=e.GameManager}],execute:function(){var v,m,y,g,b,P,d;a._RF.push({},"450ec6bYpZBzZBhm2nPZXjA","Plane",void 0);var x=o.ccclass,k=o.property;e("Plane",(v=x("Plane"),m=k(l),y=k(l),v((P=t((b=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"fireWork",P,n(t)),i(t,"helix",d,n(t)),t}r(t,e);var a=t.prototype;return a.startPlane=function(){var e=this;this.fireWork.active=!0,this.rollHeilix(),h.Instance.setTargetForCamera(this.node),c(this.node).by(5,{position:new s(0,0,-7)}).call((function(){e.fireWork.active=!1,p.emit(f.WORLD_UP)})).start()},a.rollHeilix=function(){this.helix.active=!0,c(this.helix).repeatForever(c().by(.5,{angle:360})).start()},t}(u)).prototype,"fireWork",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(b.prototype,"helix",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlantDelay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,i,a,o,s,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Vec3,c=e.tween,l=e.Component}],execute:function(){var u,p,y,f,h;a._RF.push({},"0b7c1sfQFdLTKXRTSA5C9Ge","PlantDelay",void 0);var S=o.ccclass,d=o.property;e("PlantDelay",(u=S("PlantDelay"),p=d(Boolean),u((h=t((f=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"isSizeS",h,i(t)),t}return n(t,e),t.prototype.start=function(){var e=this.isSizeS?0:.5;this.node.setScale(new s(e,e,e)),c(this.node).to(1.8,{scale:new s(1,1,1)}).start()},t}(l)).prototype,"isSizeS",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerAnimatorController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,r,a,o,s,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.animation,l=t.Component}],execute:function(){var c,m,u,h,p;a._RF.push({},"449ecGCuSJMVZKyc3jTJfEv","PlayerAnimatorController",void 0);var v=o.ccclass,A=o.property;t("PlayerAnimatorController",(c=v("PlayerAnimatorController"),m=A(s.AnimationController),c((p=i((h=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,e(i,"animationController",p,r(i)),i.isHarvesting=!1,i.isWatering=!1,i}n(i,t);var a=i.prototype;return a.setAnimationParam=function(t,i){this.animationController.setValue(t,i)},a.setSpeedAnimation=function(t){this.isHarvesting||this.isWatering||this.setAnimationParam("MoveSpeed",t)},a.setIdleAnimation=function(){this.isHarvesting||this.isWatering||this.setAnimationParam("MoveSpeed",0)},a.setWateringAnimation=function(){var t=this;this.isWatering=!0,this.setAnimationParam("MoveSpeed",8),setTimeout((function(){t.endWateringAnimation()}),2e3)},a.endWateringAnimation=function(){this.isWatering=!1,this.setIdleAnimation()},a.setHarvestAnimation=function(){var t=this;this.isHarvesting=!0,this.setAnimationParam("MoveSpeed",6),setTimeout((function(){t.endHarverstAnimation()}),2e3)},a.endHarverstAnimation=function(){this.isHarvesting=!1,this.setIdleAnimation()},i}(l)).prototype,"animationController",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=h))||u));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Field.ts","./GameEvent.ts","./Port.ts","./UIController.ts","./UI2DFollow3D.ts","./Input.ts","./Profile.ts","./AppleTree.ts","./BusinessMan.ts","./ShopPopup.ts","./HouseWorkerPopup.ts","./Cow.ts","./WorkerHouse.ts","./Plane.ts","./PlayerAnimatorController.ts","./AudioMgr.ts"],(function(e){"use strict";var o,i,t,n,r,l,a,s,d,h,u,c,C,p,m,g,S,f,y,E,_,v,P,I,N,T,O,A,B,L,R,W;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.RigidBody,s=e.BoxCollider,d=e.find,h=e.Camera,u=e.Vec3,c=e.math,C=e.misc,p=e.Component},function(e){m=e.Layer},function(e){g=e.Field},function(e){S=e.gameEvent,f=e.EventName},function(e){y=e.Port},function(e){E=e.UIName},function(e){_=e.UI2DFollow3D},function(e){v=e.Input},function(e){P=e.profile},function(e){I=e.AppleTree},function(e){N=e.BusinessMan},function(e){T=e.ShopPopup},function(e){O=e.HouseWorkerPopup},function(e){A=e.Cow},function(e){B=e.WorkerHouse},function(e){L=e.Plane},function(e){R=e.PlayerAnimatorController},function(e){W=e.SoundName}],execute:function(){var D,H,b,k,x,w,F,U,G;r._RF.push({},"beebfdGdkhMEp2H5VRBovmZ","PlayerController",void 0);var V=l.ccclass,M=l.property;e("PlayerController",(D=V("PlayerController"),H=M(R),b=M(a),k=M(s),D((F=o((w=function(e){function o(){for(var o,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return o=e.call.apply(e,[this].concat(r))||this,t(o,"animationController",F,n(o)),t(o,"rigidBody",U,n(o)),t(o,"boxCollider",G,n(o)),o.moveSpeed=0,o.normalSpeed=1,o.fastSpeed=2,o.harverstSpeed=.75,o.mainCam=null,o.isWalkingSound=!1,o.isRunningSound=!1,o}i(o,e);var r=o.prototype;return r.start=function(){this.boxCollider.on("onCollisionEnter",this.onCollisionEnter,this),this.boxCollider.on("onCollisionStay",this.onCollisionStay,this),this.boxCollider.on("onCollisionExit",this.onCollisionExit,this),this.boxCollider.on("onTriggerEnter",this.onTriggerEnter,this),this.boxCollider.on("onTriggerExit",this.onTriggerExit,this),this.boxCollider.on("onTriggerStay",this.onTriggerStay,this),this.mainCam=d("3D-Camera").getComponent(h)},r.reset=function(){this.animationController.setIdleAnimation(),this.isWalkingSound=!1,this.isRunningSound=!1,S.emit(f.STOP_SINGLE_SOUND_LOOP)},r.update=function(e){if(v.IsTouchMove){var o=v.Instance.delta.clone().normalize(),i=new u(o.y,0,o.x);this.animationController.isHarvesting||this.animationController.isWatering?this.moveSpeed=this.harverstSpeed:(this.moveSpeed+=.25*e,this.moveSpeed=c.clamp(this.moveSpeed,this.normalSpeed,this.fastSpeed)),this.move(i,this.moveSpeed,e),0==this.isWalkingSound&&(S.emit(f.PLAY_SINGLE_SOUND_LOOP,W.WALKING),this.isWalkingSound=!0),this.moveSpeed>1.5&&0==this.isRunningSound&&(S.emit(f.PLAY_SINGLE_SOUND_LOOP,W.FAST_RUN),this.isRunningSound=!0)}v.IsTouchUp&&(this.moveSpeed=0,this.rigidBody.clearVelocity(),this.animationController.setIdleAnimation(),this.isWalkingSound&&this.isRunningSound&&(S.emit(f.STOP_SINGLE_SOUND_LOOP),this.isWalkingSound=!1,this.isRunningSound=!1))},r.move=function(e,o,i){this.rigidBody.setLinearVelocity(e.clone().multiplyScalar(o*i*75));var t=C.radiansToDegrees(Math.atan2(-e.z,e.x));this.node.eulerAngles=new u(0,t,0),this.animationController.setSpeedAnimation(o)},r.setWateringAnimation=function(){this.animationController.setWateringAnimation()},r.setHarvestAnimation=function(){this.animationController.setHarvestAnimation()},r.onCollisionEnter=function(e){if(e.otherCollider.node.layer==m.PORT){var o=e.otherCollider.node.getComponent(y);o.unlockable&&o.playerGain()}if(e.otherCollider.node.layer==m.WORKER_HOUSE){this.rigidBody.clearVelocity();var i=e.otherCollider.node.getComponent(B);i.canCollectFruit?i.collectFruit():uiController.show(E.HouseWorkerPopup).then((function(e){e.getComponent(O).checkInfo()}))}if(e.otherCollider.node.layer==m.COW){var t=e.otherCollider.node.getComponent(A);t.checkHarvest()?S.emit(f.SHOW_MILKING_BTN,t):S.emit(f.HIDE_ACTION_BTN)}if(e.otherCollider.node.layer==m.PLANE){this.rigidBody.clearVelocity();var n=e.otherCollider.node.getComponent(L);this.node.active=!1,null==n||n.startPlane()}e.otherCollider.node.layer==m.DOG&&this.rigidBody.clearVelocity()},r.onCollisionStay=function(e){e.otherCollider.node.layer==m.WORKER_HOUSE&&this.rigidBody.clearVelocity(),e.otherCollider.node.layer==m.COW&&this.rigidBody.clearVelocity()},r.onCollisionExit=function(e){e.otherCollider.node.layer!=m.BORDER&&e.otherCollider.node.layer!=m.CHICKEN||this.rigidBody.clearVelocity(),e.otherCollider.node.layer==m.COW&&S.emit(f.HIDE_ACTION_BTN)},r.onTriggerEnter=function(e){if(e.otherCollider.node.layer==m.BUSINESS_MAN){var o=e.otherCollider.node.getComponent(N).getType();if(P.canSell(o))P.sell(o);else{var i=e.otherCollider.node;uiController.show(E.ShopPopup).then((function(e){e.getComponent(_).set(i,new u(0,300,0)),e.getComponent(T).show(o)}))}}},r.onTriggerExit=function(e){switch(e.otherCollider.node.layer){case m.BUSINESS_MAN:uiController.hide(E.ShopPopup);break;case m.FIELD:this.animationController.isHarvesting=!1,this.animationController.isWatering=!1;default:S.emit(f.HIDE_ACTION_BTN)}},r.onTriggerStay=function(e){if(e.otherCollider.node.layer==m.FIELD){var o=e.otherCollider.node.getComponent(g);o.checkPlant()?o.checkWater()?S.emit(f.PLAYER_ON_FIELD,f.SHOW_WATERING_BTN,o):o.checkHarvest()&&S.emit(f.PLAYER_ON_FIELD,f.SHOW_HARVEST_BTN,o):S.emit(f.PLAYER_ON_FIELD,f.SHOW_SEED_BTN,o)}if(e.otherCollider.node.layer==m.APPLE_TREE){var i=e.otherCollider.node.getComponent(I);i.checkHarvest()?S.emit(f.PLAYER_NEAR_TREE,i):S.emit(f.HIDE_ACTION_BTN)}},o}(p)).prototype,"animationController",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(w.prototype,"rigidBody",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=o(w.prototype,"boxCollider",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=w))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/Port.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MapManager.ts","./GameEvent.ts","./Profile.ts"],(function(e){"use strict";var i,n,t,r,a,l,o,c,s,u,h,p,d,f,b,v,L;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,o=e._decorator,c=e.Node,s=e.Label,u=e.Prefab,h=e.BoxCollider,p=e.instantiate,d=e.Component},function(e){f=e.MapManager},function(e){b=e.gameEvent,v=e.EventName},function(e){L=e.profile}],execute:function(){var g,G,y,E,N,P,m,w,I,_,z,D,k,A,q,R,S,M,T;l._RF.push({},"34f3cnK8S9LzKifP918l8es","Port",void 0);var U=o.ccclass,C=o.property;e("Port",(g=U("Port"),G=C(c),y=C(c),E=C(c),N=C(s),P=C(s),m=C(u),w=C(u),I=C(h),g((D=i((z=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,t(i,"container",D,r(i)),t(i,"coinGroup",k,r(i)),t(i,"landGroup",A,r(i)),t(i,"coinLabel",q,r(i)),t(i,"landLabel",R,r(i)),t(i,"coinDropPrefab",S,r(i)),t(i,"landDropPrefab",M,r(i)),t(i,"collider",T,r(i)),i.level=0,i.coin=0,i.land=0,i.requireLevel=-1,i.isEnable=!0,i}n(i,e);var l=i.prototype;return l.start=function(){b.on(v.GAIN_NEW_LEVEL,this.onGainNewLevel,this),b.on(v.UPDATE_LAND,this.updateLand,this),this.checkUIRequireActive()},l.setInfo=function(e,i,n,t,r){if(void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=!1),this.level=e,this.requireLevel=t,0!=i&&(this.coin=i,this.coinLabel.string=this.coin.toString(),this.coinGroup.active=!0),!r&&0!=n){this.land=n,this.landLabel.string=L.land.toString()+"/"+this.land.toString();var a=L.land>=this.land;this.landGroup.active=!a,this.coinGroup.active=a}this.checkUIRequireActive(r)},l.playerGain=function(){if(this.isEnable){f.Instance.gainNewLevel(this.level),L.coin-=this.coin;var e=p(this.landDropPrefab);e.parent=this.node,this.collider.enabled=!1,b.emit(v.TWEEN_LAND_TO_INVENTORY,e)}},l.onGainNewLevel=function(e){this.checkUIRequireActive(),e==this.level&&(this.collider.enabled=!1,this.container.active=!1,b.off(v.GAIN_NEW_LEVEL,this.onGainNewLevel,this))},l.updateLand=function(){if(0!=this.land){var e=L.land>=this.land;this.landGroup.active=!e,this.coinGroup.active=e,this.landLabel.string=L.land.toString()+"/"+this.land.toString()}},l.checkUIRequireActive=function(e){void 0===e&&(e=!1),this.isEnable=e||f.Instance.checkLevelGained(this.requireLevel)&&!f.Instance.checkLevelGained(this.level),this.container.active=this.isEnable,this.collider.enabled=e||!f.Instance.checkLevelGained(this.level)},a(i,[{key:"unlockable",get:function(){return L.coin>=this.coin&&L.land>=this.land}}]),i}(d)).prototype,"container",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(z.prototype,"coinGroup",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(z.prototype,"landGroup",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(z.prototype,"coinLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(z.prototype,"landLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(z.prototype,"coinDropPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(z.prototype,"landDropPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(z.prototype,"collider",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=z))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/Profile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./Storage.ts","./Define.ts","./GameEvent.ts","./GlobalDefine.ts"],(function(t){"use strict";var e,i,n,a,o,s,r,u,d;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t._decorator},function(t){a=t.SoundName},function(t){o=t.storage},function(t){s=t.ShopType},function(t){r=t.gameEvent,u=t.EventName},function(t){d=t.globalDefine}],execute:function(){var c;i._RF.push({},"d7747VkZ5FJyobaBxTjL0aq","Profile",void 0);var f=n.ccclass,h=(n.property,t("profileData",{version:3,world:1,levelUnlocked:[],coin:20,diamons:0,land:1,fruits:[{id:"corn",name:"corn",icon:"icon_corn",price:1,amount:0},{id:"tomato",name:"tomato",icon:"icon_tomato",price:2,amount:0},{id:"apple",name:"apple",icon:"icon_apple",price:3,amount:0}],food:[{id:"egg",name:"egg",icon:"icon_egg",price:5,amount:0},{id:"milk",name:"milk",icon:"icon_milk",price:5,amount:0},{id:"sunflower",name:"sunflower",icon:"icon_sunflower",price:4,amount:0}],workers:[{type:0,house:0,level:1,price:100,isHired:!1},{type:1,house:0,level:1,price:100,isHired:!1},{type:2,house:0,level:1,price:100,isHired:!1}],warehouse:[{type:0,level:1,fruits:[{name:"corn",amount:0,capacity:100},{name:"tomato",amount:0,capacity:100},{name:"sunflower",amount:0,capacity:100}]}],pet:[]})),l=t("Profile",f("Profile")(c=function(){function t(){this.info=["coin","diamons","levelUnlocked","land","fruits","food","warehouse","workers","pet","world"],this.data=h}var i=t.prototype;return i.load=function(){var t=this,e=o.load("version"),i=null==e||e!==this.data.version;this.info.forEach((function(e){var n=o.load(e);n&&!i?t.data[e]=n:(t.data[e]=h[e],o.save(e,t.data[e]))})),o.save("version",this.data.version),r.emit(u.USER_PROFILE_UPDATE)},i.save=function(){o.save("profile",this.data)},i.addlevelUnlocked=function(t){t<=0||-1==this.data.levelUnlocked.indexOf(t)&&(this.data.levelUnlocked.push(t),o.save("levelUnlocked",this.data.levelUnlocked))},i.getFruit=function(t){return this.data.fruits.find((function(e){return e.id===t}))},i.setFruit=function(t,e,i){var n=this;void 0===i&&(i=!0);var a=this.getFruit(t);a?(i?a.amount+=e:a.amount=e,this.data.fruits.forEach((function(e,i){e.id===t&&(n.data.fruits[i]=e)})),o.save("fruits",this.data.fruits),r.emit(u.UPDATE_FRUIT)):this.setFood(t,e,i)},i.isHaveFruit=function(t){return this.data.fruits.find((function(e){return e.id===t})).amount>0},i.getFood=function(t){return this.data.food.find((function(e){return e.id===t}))},i.setFood=function(t,e,i){var n=this;void 0===i&&(i=!0);var a=this.getFood(t);i?a.amount+=e:a.amount=e,this.data.food.forEach((function(e,i){e.id===t&&(n.data.food[i]=e)})),o.save("food",this.data.food),r.emit(u.UPDATE_FOOD)},i.isHaveFood=function(t){return this.data.food.find((function(e){return e.id===t})).amount>0},i.canSell=function(t){var e=d.shopConfig.get(t),i=!1,n=[];switch(t){case s.TOMATO_CORN_APPLE:n=this.data.fruits;break;case s.EGG_MILK:n=this.data.food}return n.find((function(t){e.find((function(e){t.id===e.id&&t.amount>0&&(i=!0)}))})),i},i.sell=function(t){var e,i=this,n=d.shopConfig.get(t),o=[];switch(t){case s.TOMATO_CORN_APPLE:o=this.data.fruits,e=function(t,e){i.setFruit(t,e,!1)};break;case s.EGG_MILK:o=this.data.food,e=function(t,e){i.setFood(t,e,!1)}}o.forEach((function(t){n.forEach((function(n){t.id===n.id&&t.amount>0&&(i.coin+=t.amount*n.price,e(t.id,0,!1))}))})),r.emit(u.UPDATE_FRUIT),r.emit(u.UPDATE_FOOD),r.emit(u.PLAY_SOUND,a.COLLECT_COIN)},i.getWarehouse=function(t){return this.data.warehouse.findIndex((function(e){return e.type===t}))},i.setWarehouse=function(t){var e=this.getWarehouse(t.type);-1==e?this.data.warehouse.push(t):this.data.warehouse[e]=t,o.save("warehouse",this.data.warehouse)},i.getWorker=function(t,e){return this.data.workers.findIndex((function(i){return i.type===t&&i.house===e}))},i.getAllWorkersFromHouse=function(t){return this.data.workers.filter((function(e){return e.house===t}))},i.setWorker=function(t){var e=this.getWorker(t.type,t.house);-1==e?this.data.workers.push(t):this.data.workers[e]=t,o.save("workers",this.data.workers)},i.addPet=function(t){this.data.pet.find((function(e){return e===t}))||(this.data.pet.push(t),o.save("pet",this.data.pet))},i.removePet=function(t){this.data.pet=this.data.pet.filter((function(e){return e!==t})),o.save("pet",this.data.pet)},i.isHavePet=function(t){return this.data.pet.find((function(e){return e===t}))},i.clearForWorldUp=function(){this.coin=0,this.land=0,this.diamons=0,this.levelUnlocked=[],this.data.fruits.forEach((function(t){t.amount=0})),this.data.food.forEach((function(t){t.amount=0})),this.data.warehouse.forEach((function(t){t.level=0,t.fruits.forEach((function(t){t.amount=0,t.capacity=100}))})),this.data.workers.forEach((function(t){t.level=0,t.isHired=!1})),this.data.pet=[]},e(t,[{key:"world",get:function(){return this.data.world},set:function(t){this.data.world=t,o.save("world",this.data.world)}},{key:"coin",get:function(){return this.data.coin},set:function(t){null==t||t<0||(this.data.coin=t,o.save("coin",this.data.coin),r.emit(u.UPDATE_COIN))}},{key:"diamons",get:function(){return this.data.diamons},set:function(t){null==t||t<0||(this.data.diamons=t,o.save("diamons",this.data.diamons),r.emit(u.UPDATE_DIAMONS))}},{key:"fruits",get:function(){return this.data.fruits},set:function(t){t&&(this.data.fruits=t,o.save("fruits",this.data.fruits))}},{key:"land",get:function(){return this.data.land},set:function(t){null==t||t<0||(this.data.land=t,o.save("land",this.data.land),r.emit(u.UPDATE_LAND))}},{key:"levelUnlocked",get:function(){return this.data.levelUnlocked},set:function(t){this.data.levelUnlocked=t,o.save("levelUnlocked",this.data.levelUnlocked)}},{key:"warehouse",get:function(){return this.data.warehouse},set:function(t){t&&(this.data.warehouse=t,o.save("warehouse",this.data.warehouse))}},{key:"workers",get:function(){return this.data.workers}},{key:"pet",get:function(){return this.data.pet},set:function(t){t&&(this.data.pet=t,o.save("pet",this.data.pet))}}]),t}())||c);t("profile",new l);i._RF.pop()}}}));

System.register("chunks:///_virtual/SealEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,c,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.tween,c=t.Vec3,s=t.Component}],execute:function(){var a;e._RF.push({},"37b5a1BZQ9MYLS0z4aVik8c","SealEffect",void 0);var l=o.ccclass;o.property,t("SealEffect",l("SealEffect")(a=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).scaleEffect=null,n.onGoing=null,n}n(e,t);var o=e.prototype;return o.onLoad=function(){this.init()},o.init=function(){var t=this;this.onGoing=!1,this.scaleEffect=i(this.node).parallel(i(this.node).by(.4,{position:new c(0,25,0)},{easing:"quadOut"}),i(this.node).to(.4,{scale:new c(1.2,1.2,1.2)},{easing:"quadOut"})).delay(.2).parallel(i(this.node).by(.1,{position:new c(0,-25,0)}),i(this.node).to(.1,{scale:new c(1,1,1)})).call((function(){t.onGoing=!1}))},o.play=function(){this.onGoing||(this.onGoing=!0,this.scaleEffect.start())},o.stop=function(){this.scaleEffect.stop()},e}(s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/ShopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemManager.ts"],(function(e){"use strict";var t,r,i,n,o,c,a,p,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Sprite,p=e.Label,u=e.Component},function(e){l=e.itemMgr}],execute:function(){var s,f,h,m,g,b,y;o._RF.push({},"04bb2ryFFpKda26MbmCxGJB","ShopItem",void 0);var I=c.ccclass,S=c.property;e("ShopItem",(s=I("ShopItem"),f=S(a),h=S(p),s((b=t((g=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"icon",b,n(t)),i(t,"price",y,n(t)),t}return r(t,e),t.prototype.set=function(e,t){this.icon.spriteFrame=l.fruitImgMap.get(e),this.price.string=t.toString()},t}(u)).prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(g.prototype,"price",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./GameEvent.ts","./GlobalDefine.ts","./ShopItem.ts"],(function(e){"use strict";var t,o,n,i,r,p,s,a,u,c,h,l,f,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){p=e.cclegacy,s=e._decorator,a=e.Prefab,u=e.instantiate,c=e.Component},function(e){h=e.SoundName},function(e){l=e.gameEvent,f=e.EventName},function(e){m=e.globalDefine},function(e){v=e.ShopItem}],execute:function(){var P,d,y,g,b;p._RF.push({},"41628oHg7NFJpYOvrwysGa4","ShopPopup",void 0);var I=s.ccclass,S=s.property;e("ShopPopup",(P=I("ShopPopup"),d=S(a),P((b=t((g=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),p=0;p<o;p++)r[p]=arguments[p];return t=e.call.apply(e,[this].concat(r))||this,n(t,"shopItemPrefab",b,i(t)),t.shopItemPool=[],t.shopType=null,t}o(t,e);var p=t.prototype;return p.onEnable=function(){l.emit(f.PLAY_SOUND,h.SHOP_BELL)},p.show=function(e){var t=this;this.shopType!=e&&(this.shopType=e,this.node.removeAllChildren(),m.shopConfig.get(e).forEach((function(e){var o=t.shopItem;o.getComponent(v).set(e.icon,e.price),t.node.addChild(o)})))},r(t,[{key:"shopItem",get:function(){var e=this.shopItemPool.find((function(e){return!e.parent}));return e||(e=u(this.shopItemPrefab),this.shopItemPool.push(e)),e}}]),t}(c)).prototype,"shopItemPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));p._RF.pop()}}}));

System.register("chunks:///_virtual/SnapList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,o,r,s,a,c,h,d,u,l,p,f,v,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,c=t.Node,h=t.Layout,d=t.Vec3,u=t.Vec2,l=t.UITransform,p=t.view,f=t.math,v=t.tween,g=t.Component}],execute:function(){var m,T,w,N,C,y,x;s._RF.push({},"f629dTp7JZNXJcCcecsGBkW","SnapList",void 0);var M=a.ccclass,P=a.property;t("SnapList",(m=M("SnapList"),T=P(c),w=P(h),m((y=n((C=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,e(n,"container",y,o(n)),e(n,"layout",x,o(n)),n.listNode=[],n.currentNode=null,n.centerPos=null,n.temp=new d,n.delta=new u,n.isTouchDown=!1,n.width=0,n.isMove=!1,n.uiTransform=null,n.isTweenMainCard=!1,n}i(n,t);var s=n.prototype;return s.removeAllChildren=function(){this.container.removeAllChildren()},s.onLoad=function(){this.uiTransform=this.getComponent(l)},s.start=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.centerPos=this.node.worldPosition.clone().add3f(this.uiTransform.width/2,0,0),this.width=p.getVisibleSizeInPixel().width,this.layout.enabled=!1,this.snap()},s.update=function(t){},s.onTouchStart=function(t){this.isTouchDown=!0,this.isMove=!1,this.delta=u.ZERO},s.onTouchMove=function(t){if(this.isTouchDown){this.isMove||(this.isMove=!0,this.node.emit("onMoveBegin")),this.delta=t.touch.getDelta(),this.container.position=this.container.position.add3f(this.delta.x,0,0);var n=t.touch.getLocationX();(n<-10||n>=this.width+10)&&(this.isTouchDown=!1,this.isMove=!1,this.snap(null,!0))}},s.onTouchEnd=function(t){if(this.currentNode){this.isMove=!1;var n=this.currentNode.getSiblingIndex(),i=n,e=this.currentNode,o=t.touch.getStartLocation().x-t.touch.getLocationX();Math.abs(o)>50&&(i=o>0?n+1:n-1,i=f.clamp(i,0,this.container.children.length-1),e=this.container.children[i]),this.snap(e,!0,!1,!0)}},s.getSnapItem=function(){var t=this,n=Number.MAX_VALUE,i=null;return this.container.children.forEach((function(e){var o=d.distance(t.centerPos,e.worldPosition);o<n&&(n=o,i=e)})),i},s.snap=function(t,n,i,e){var o=this;if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.centerPos&&(t||(t=this.getSnapItem()),t)){var r=this.getNextPos(t),s=!1;s=!(!this.currentNode||this.currentNode.name==t.name),this.currentNode=t;var a=function(){o.container.getPosition().x=o.getNextPos(t).x;var i=o.currentNode.getSiblingIndex(),e=o.container.children[i-1],r=o.container.children[i+1];s&&(null==e||e.setPosition(e.getPosition().x,0,0),null==r||r.setPosition(r.getPosition().x,0,0),o.tweenMainCard(t)),o.container.children.forEach((function(t,n){t.active=n>=i-1&&n<=i+1})),n&&o.node.emit("onSnapItem",o.currentNode,e,r)};i?a():v(this.container).to(.2,{position:new d(r.x,0,0)}).call((function(){a()})).start()}},s.snapFirstNode=function(t){void 0===t&&(t=!1),this.container.children.length>0&&this.snap(this.container.children[0],t)},s.snapNode=function(t,n,i,e){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===e&&(e=!1);var o=this.findChild(t);return this.currentNode&&o&&o.name==this.currentNode.name||(o?this.snap(o,n,i,e):this.snapFirstNode(!0)),o},s.addChild=function(t){if(this.container.addChild(t),this.container.children.length<=1)return t.active=!0,this.currentNode=t,void(t.position=new d(this.layout.paddingLeft+t.getComponent(l).width/2,0,0));var n=this.container.children[t.getSiblingIndex()-1],i=n.position.clone();if(i.add3f(this.layout.spacingX+(n.getComponent(l).width+t.getComponent(l).width)/2,0,0),t.position=i,this.currentNode){var e=this.currentNode.getSiblingIndex();t.getSiblingIndex()-e>1&&(t.active=!1)}},s.removeChild=function(t){this.container.children.forEach((function(n){n.name==t&&n.removeFromParent()})),this.snap()},s.findChild=function(t){return this.container.children.find((function(n){return n.name==t}))},s.clearCurrentNode=function(){this.currentNode=null},s.getNextPos=function(t){var n=t.position.clone();return n.x=-n.x+this.uiTransform.width/2,n},s.tweenMainCard=function(t){var n=this;this.isTweenMainCard||(this.isTweenMainCard=!0,v(t).to(.2,{position:new d(t.getPosition().x,25,0)},{easing:"elasticOut"}).call((function(){n.isTweenMainCard=!1})).start())},r(n,[{key:"children",get:function(){return this.container.children}}]),n}(g)).prototype,"container",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(C.prototype,"layout",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=C))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/StartScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./GameEvent.ts","./UIController.ts"],(function(t){"use strict";var e,n,r,o,i,a,c,u,s,l,p,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.Button,u=t.Component},function(t){s=t.SoundName},function(t){l=t.gameEvent,p=t.EventName},function(t){S=t.UIName}],execute:function(){var f,d,v,y,h;i._RF.push({},"d3f261cEu9DU5GO8MLqerDx","StartScreen",void 0);var m=a.ccclass,C=a.property;t("StartScreen",(f=m("StartScreen"),d=C(c),f((h=e((y=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,r(e,"btnStart",h,o(e)),e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.btnStart.node.on(c.EventType.CLICK,(function(){uiController.show(S.MainScreen),l.emit(p.PLAY_MUSIC,s.BACKGROUND),t.node.destroy(),uiController.removeScreenStack(S.StartScreen)}))},e}(u)).prototype,"btnStart",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/Storage.ts",["cc"],(function(t){"use strict";var e,r,o;return{setters:[function(t){e=t.cclegacy,r=t.sys,o=t.log}],execute:function(){e._RF.push({},"ada23ApMppHiZ4hsGyKYdkz","Storage",void 0);var a=t("Storage",function(){function t(){}var e=t.prototype;return e.save=function(t,e){r.localStorage.setItem(t,JSON.stringify(e))},e.load=function(t){var e=r.localStorage.getItem(t);if(o("[StorageMgr] load key:",t,"value:",e),e)return JSON.parse(e)},t}());t("storage",new a);e._RF.pop()}}}));

System.register("chunks:///_virtual/TitleFlyUpEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,o,s,f,c;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,o=t.UITransform,s=t.tween,f=t.Vec3,c=t.Component}],execute:function(){var l;i._RF.push({},"366feAUn/JLFLBNyVoDOLRW","TitleFlyUpEffect",void 0);var r=e.ccclass;e.property,t("TitleFlyUpEffect",r("TitleFlyUpEffect")(l=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).hidingY=null,n.flyUpEffect=null,n.floatingEffect=null,n}n(i,t);var e=i.prototype;return e.onLoad=function(){this.init()},e.init=function(){this.hidingY=-this.getComponent(o).height-4-120},e.onEnable=function(){var t=this;this.flyUpEffect=s(this.node).set({position:new f(0,this.hidingY)}).delay(.5).to(4,{position:new f(0,-100)},{easing:"backOut"}).call((function(){t.floatingEffect.start()})),this.floatingEffect=s(this.node).by(1.5,{position:new f(0,20)},{easing:"sineOut"}).by(1.5,{position:new f(0,-20)},{easing:"sineInOut"}).union().repeatForever(),this.play()},e.onDisable=function(){this.stop()},e.play=function(){this.flyUpEffect.start()},e.stop=function(){this.flyUpEffect.stop(),this.floatingEffect.stop()},i}(c))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/TweenManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./GameEvent.ts","./Profile.ts"],(function(n){"use strict";var e,t,i,o,a,r,s,l,u,c,d,w,m,g,h,p,T,y,C;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Label,l=n.Node,u=n.find,c=n.Camera,d=n.Vec3,w=n.tween,m=n.math,g=n.easing,h=n.Component},function(n){p=n.WorkerType},function(n){T=n.gameEvent,y=n.EventName},function(n){C=n.profile}],execute:function(){var f,N,v,b,O,I,E,_,L,P,S;a._RF.push({},"fa5bd3q11FNhpgkJ5E70w/1","TweenManager",void 0);var F=r.ccclass,U=r.property;n("TweenManager",(f=F("TweenManager"),N=U(s),v=U(s),b=U(s),O=U(l),f((_=e((E=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this).mainCam=null,e.uiCam=null,i(e,"coinNum",_,o(e)),i(e,"landNum",L,o(e)),i(e,"diamondNum",P,o(e)),i(e,"rightCorner",S,o(e)),e.tweenCoinNum=null,e.tweenCoinScale=null,e.tweenLandNum=null,e.tweenLandScale=null,e}t(e,n);var a=e.prototype;return a.onLoad=function(){this.mainCam=u("3D-Camera").getComponent(c),this.uiCam=u("Canvas/Camera").getComponent(c),T.on(y.TWEEN_FRUIT_TO_INVENTORY,this.onTweenFruitToInventory,this),T.on(y.TWEEN_APPLE_TO_INVENTORY,this.onTweenAppleToInventory,this),T.on(y.UPDATE_COIN,this.onTweenCoinUpdate,this),T.on(y.UPDATE_LAND,this.onTweenLandUpdate,this),T.on(y.TWEEN_LAND_TO_INVENTORY,this.onTweenLandToInventory,this),T.on(y.TWEEN_EGG_TO_INVENTORY,this.onTweenEggToInventory,this),T.on(y.TWEEN_MILK_TO_INVENTORY,this.onTweenMilkToInventory,this)},a.onTweenFruitToInventory=function(n,e){var t;void 0===e&&(e=p.WORKER_CORN),t=function(n,t){e==p.WORKER_SUNFLOWER?C.setFood(n,t):C.setFruit(n,t)};var i=!1,o=null;(o=o||this.rightCorner.getChildByName(n.name))?o.active=!0:(t(n.name,1),i=!0,o=this.rightCorner);var a=this.uiCam.worldToScreen(o.worldPosition),r=this.mainCam.screenToWorld(new d(a.x-90,a.y-10,.5));w(n).to(1.5,{worldPosition:r,scale:new d(20,20,20)},{easing:"sineIn"}).call((function(){!i&&t(n.name,1),w(o).to(.4,{scale:new d(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.15,{scale:new d(1,1,1)},{easing:"circOut"}).start(),n.destroy()})).start()},a.onTweenAppleToInventory=function(n,e,t){void 0===t&&(t=null);var i=!1;(t=t||this.rightCorner.getChildByName(n.name))||(C.setFruit(n.name,1),i=!0,t=this.rightCorner);var o=this.uiCam.worldToScreen(t.worldPosition),a=this.mainCam.screenToWorld(new d(o.x-90,o.y-10,.5));w(n).to(1.5,{worldPosition:a,scale:new d(20,20,20)},{easing:"sineIn"}).call((function(){!i&&C.setFruit(n.name,1),w(t).to(.4,{scale:new d(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.15,{scale:new d(1,1,1)},{easing:"circOut"}).start(),n.destroy()})).union().start()},a.onTweenCoinUpdate=function(){this.tweenLabelUpdate(this.coinNum,C.coin,this.tweenCoinNum,this.tweenCoinScale)},a.onTweenLandUpdate=function(){this.tweenLabelUpdate(this.landNum,C.land,this.tweenLandNum,this.tweenLandScale)},a.tweenLabelUpdate=function(n,e,t,i){if(n.node&&null!=e){t&&t.stop(),i&&i.stop();var o=parseInt(n.string),a=.2,r=m.clamp(.5,1.2,.05*(e-o));t=w({num:o}).to(r,{num:e},{easing:"sineOut",onUpdate:function(e){n.string=Math.round(e.num).toString()}}).start(),this.tweenCoinScale&&this.tweenCoinScale.stop(),i=w({scale:1}).to(.1,{scale:1.2},{easing:"elasticOut",onUpdate:function(e){n.node.setScale(e.scale,e.scale)}}).delay(r-a).to(.1,{scale:1},{easing:"elasticOut",onUpdate:function(e){n.node.setScale(e.scale,e.scale)}}).start()}else console.log("tweenLabelUpdate error")},a.onTweenLandToInventory=function(n){var e=this.landNum.node.parent,t=this.uiCam.worldToScreen(e.worldPosition),i=this.mainCam.screenToWorld(new d(t.x+40,t.y+10,.5));w(n).by(.1,{position:new d(0,.4,.2)},{easing:g.quadOut}).by(.2,{position:new d(0,-.4,.2)},{easing:g.quadIn}).by(.3,{position:new d(0,.3,.2)},{easing:g.quadOut}).by(.3,{position:new d(0,-.3,.2)},{easing:g.quadIn}).to(1.5,{worldPosition:i},{easing:"sineIn"}).call((function(){C.land++,w(e).to(.4,{scale:new d(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.15,{scale:new d(1,1,1)},{easing:"circOut"}).start(),n.parent.destroy()})).start()},a.onTweenEggToInventory=function(n){var e=null,t=!1;(e=e||this.rightCorner.getChildByName(n.name))&&e.active||(C.setFood(n.name,1),t=!0,e=this.rightCorner);var i=this.uiCam.worldToScreen(e.worldPosition),o=this.mainCam.screenToWorld(new d(i.x-90,i.y-10,.5));w(n).by(.1,{position:new d(0,.4,.2)},{easing:g.quadOut}).by(.2,{position:new d(0,-.4,.2)},{easing:g.quadIn}).by(.3,{position:new d(0,.3,.2)},{easing:g.quadOut}).by(.3,{position:new d(0,-.3,.2)},{easing:g.quadIn}).to(1.5,{worldPosition:o},{easing:"sineIn"}).call((function(){!t&&C.setFood(n.name,1),w(e).to(.4,{scale:new d(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.15,{scale:new d(1,1,1)},{easing:"circOut"}).start(),n.destroy()})).start()},a.onTweenMilkToInventory=function(n){var e=null,t=!1;(e=e||this.rightCorner.getChildByName(n.name))&&e.active||(C.setFood(n.name,1),t=!0,e=this.rightCorner);var i=this.uiCam.worldToScreen(e.worldPosition),o=this.mainCam.screenToWorld(new d(i.x-90,i.y-10,.5));w(n).by(.1,{position:new d(0,.4,.2)},{easing:g.quadOut}).by(.2,{position:new d(0,-.4,.2)},{easing:g.quadIn}).by(.3,{position:new d(0,.3,.2)},{easing:g.quadOut}).by(.3,{position:new d(0,-.3,.2)},{easing:g.quadIn}).to(1.5,{worldPosition:o},{easing:"sineIn"}).call((function(){!t&&C.setFood(n.name,1),w(e).to(.4,{scale:new d(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.15,{scale:new d(1,1,1)},{easing:"circOut"}).start(),n.destroy()})).start()},e}(h)).prototype,"coinNum",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(E.prototype,"landNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(E.prototype,"diamondNum",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(E.prototype,"rightCorner",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=E))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/UI2DFollow3D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,n,r,s,i,a;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.find,s=t.Camera,i=t.Vec3,a=t.Component}],execute:function(){var c;e._RF.push({},"20314mGMAVDd7zaO0K1jaCO","UI2DFollow3D",void 0);var l=n.ccclass;n.property,t("UI2DFollow3D",l("UI2DFollow3D")(c=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).target=null,o.camera=null,o.offset=new i(0,0,0),o.pos=new i,o}o(e,t);var n=e.prototype;return n.onLoad=function(){this.camera=r("3D-Camera").getComponent(s)},n.set=function(t,o){this.target=t,this.offset=o},n.update=function(){if(this.target){var t=this.target.worldPosition;this.camera.convertToUINode(t,this.node.parent,this.pos),this.pos.add(this.offset),this.node.setPosition(this.pos)}},e}(a))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Profile.ts"],(function(e){"use strict";var t,n,r,i,s,a,o,c,u,p,h,l;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,o=e.resources,c=e.Prefab,u=e.Component,p=e.find,h=e.instantiate},function(e){l=e.profile}],execute:function(){var f;e("UIName",void 0),s._RF.push({},"ec17bSIBSFAPZG34QuGKdIZ","UIController",void 0);var d,v=a.ccclass;a.property;!function(e){e[e.StartScreen=0]="StartScreen",e[e.MainScreen=1]="MainScreen",e[e.ExitPopup=2]="ExitPopup",e[e.ShopPopup=3]="ShopPopup",e[e.HouseWorkerPopup=4]="HouseWorkerPopup",e[e.BarnInfoPopup=5]="BarnInfoPopup"}(d||(d=e("UIName",{})));e("UIController",v("UIController")(f=function(e){function s(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).screen=null,t.loadRequest=new Map,t.prefabs=new Map,t.stack=[],t.uiNodeContainer=new Map,t}t(s,e);var a=s.prototype;return a.start=function(){var e=r(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.uiController=this,l.load(),this.screen=p("Screen",this.node),this.setListenDeviceBackBtn(),this.loadAll();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadAll=function(){var e=r(i().mark((function e(){var t,r,s,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.keys(d).filter((function(e){return isNaN(Number(e))})),r=n(t);case 2:if((s=r()).done){e.next=12;break}if((a=s.value)!=d[d.StartScreen]&&a!=d[d.MainScreen]){e.next=6;break}return e.abrupt("continue",10);case 6:return e.next=8,this.loadPrefab(a);case 8:(o=e.sent)&&this.prefabs.set(a,o);case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadPrefab=function(e){var t=this;return new Promise((function(n,r){o.load("ui/"+e,c,(function(r,i){i&&t.prefabs.set(e,i),n(i)}))}))},a.loadRes=function(){var e=r(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loadRequest.has(t)){e.next=2;break}return e.abrupt("return");case 2:return this.loadRequest.set(t,!0),e.next=5,this.loadPrefab(t);case 5:return n=e.sent,this.loadRequest.delete(t),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.requestLoad=function(){var e=r(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.prefabs.get(t),this.prefabs.delete(t),n){e.next=6;break}return e.next=5,this.loadRes(t);case 5:n=e.sent;case 6:if(n){e.next=8;break}return e.abrupt("return");case 8:return n.data.active=!1,r=h(n),t.includes("Popup")?this.node.addChild(r):this.screen.addChild(r),r.name=t,r.active=!1,e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.getUiNode=function(e){return e.includes("Popup")?this.node.children.find((function(t){return t.name==e})):this.screen.children.find((function(t){return t.name==e}))},a.show=function(){var e=r(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d[t],!(r=this.getUiNode(n))||!r.active){e.next=4;break}return e.abrupt("return",r);case 4:if(r){e.next=10;break}return e.next=7,this.requestLoad(n);case 7:if(r=e.sent){e.next=10;break}return e.abrupt("return");case 10:return r.active=!0,this.sortUI(n),t==d.MainScreen&&(this.stack=[]),this.stack.push(r),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.hide=function(e,t){var n=d[e],r=this.getUiNode(n);r&&(r.active=!1,n.includes("Popup")&&(this.stack=this.stack.filter((function(e){return e!=r}))))},a.hideAll=function(){for(var e,t=n(this.node.children);!(e=t()).done;){e.value.active=!1}},a.back=function(){console.log("[UIController] back",this.stack),this.stack.length<=1||(this.stack.pop().active=!1,this.stack[this.stack.length-1].active=!0)},a.setListenDeviceBackBtn=function(e){void 0===e&&(e=!0),1==e?window.addEventListener("message",this.onBackDevicePress.bind(this)):window.removeEventListener("message",this.onBackDevicePress)},a.onBackDevicePress=function(e){e&&"onBackPress"==e.data&&(this.stack.length<=1?uiController.show(d.ExitPopup):this.back())},a.sortUI=function(e){for(var t,r=e.includes("Popup")?this.node:this.screen,i=0,s=n(r.children);!(t=s()).done;){var a=t.value;a.name==e?a.setSiblingIndex(r.children.length-1):a.setSiblingIndex(i++)}},a.removeScreenStack=function(e){var t=d[e];this.stack=this.stack.filter((function(e){return e.name!=t}))},s}(u))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/UpArrowEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,i,e,r,s,c,p;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.Sprite,r=t.tween,s=t.Vec3,c=t.color,p=t.Component}],execute:function(){var a;n._RF.push({},"80b5bAgEOdCdYmL+uwkZQpp","UpArrowEffect",void 0);var f=i.ccclass;i.property,t("UpArrowEffect",f("UpArrowEffect")(a=function(t){function n(){for(var o,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(o=t.call.apply(t,[this].concat(i))||this).mySprite=null,o.originalPos=null,o.upEffect=null,o.fadeEffect=null,o}o(n,t);var i=n.prototype;return i.onLoad=function(){this.init()},i.init=function(){this.mySprite=this.getComponent(e),this.originalPos=this.mySprite.node.position.clone()},i.onEnable=function(){var t=this;this.upEffect=r(this.node).by(2,{position:new s(0,200,0)}).set({position:this.originalPos}).union().repeatForever(),this.fadeEffect=r({alpha:0}).to(1,{alpha:255},{easing:"cubicIn",onUpdate:function(o,n){t.mySprite.color=c(255,255,255,o.alpha)}}).to(1,{alpha:0},{easing:"cubicIn",onUpdate:function(o,n){t.mySprite.color=c(255,255,255,o.alpha)}}).union().repeatForever(),this.play()},i.onDisable=function(){this.stop(),this.node.setPosition(this.originalPos)},i.play=function(){this.upEffect.start(),this.fadeEffect.start()},i.stop=function(){this.upEffect.stop(),this.fadeEffect.stop()},n}(p))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var s,c;return{setters:[function(t){s=t.cclegacy,c=t._decorator}],execute:function(){var e;s._RF.push({},"e44adsok7xOHIM/6znNiSyF","Utils",void 0);var i=c.ccclass,r=(c.property,t("Utils",i("Utils")(e=function(){})||e));t("utils",new r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Worker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./Field.ts","./GameEvent.ts","./MapManager.ts","./PlayerAnimatorController.ts"],(function(t){"use strict";var e,r,o,n,i,a,s,c,l,h,u,k,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,s=t.Component},function(t){c=t.WorkerType},function(t){l=t.FieldType},function(t){h=t.gameEvent,u=t.EventName},function(t){k=t.MapManager},function(t){p=t.PlayerAnimatorController}],execute:function(){var m,f,g,y,v;i._RF.push({},"69cdbPdK1ZPyYfDQR3TD8zN","Worker",void 0);var T,w=a.ccclass,d=a.property;!function(t){t[t.None=0]="None",t[t.Move=1]="Move",t[t.Plant=2]="Plant",t[t.Water=3]="Water",t[t.Harvest=4]="Harvest",t[t.Back=5]="Back"}(T||(T={}));t("Worker",(m=w("Worker"),f=d(p),m((v=e((y=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"playerAnimatorController",v,n(e)),e.workerType=null,e.state=T.None,e.target=null,e.originPos=null,e.workerHouse=null,e.workerTime=2500,e}r(e,t);var i=e.prototype;return i.onLoad=function(){h.on(u.BARN_EMPTY,this.onBarnEmpty,this)},i.setInfo=function(t,e){this.workerType=t,this.workerHouse=e,this.originPos=this.node.worldPosition.clone(),this.setState(T.None)},i.setState=function(t){var e=this;switch(this.state=t,this.state){case T.None:switch(this.workerType){case c.WORKER_CORN:this.target=k.Instance.getField(l.corn);break;case c.WORKER_TOMATO:this.target=k.Instance.getField(l.tomato);break;case c.WORKER_SUNFLOWER:this.target=k.Instance.getField(l.sunflower)}setTimeout((function(){e.workerHouse.checkFullCapacity(e.workerType)||e.setState(T.Move)}),this.workerTime);break;case T.Move:this.node.setWorldPosition(this.target.node.worldPosition),setTimeout((function(){e.setState(T.Plant)}),this.workerTime);break;case T.Plant:this.target.checkPlant()?this.setState(T.Water):(this.target.plant(),this.playerAnimatorController.setWateringAnimation(),setTimeout((function(){e.setState(T.Water)}),this.workerTime));break;case T.Water:this.target.checkWater()?(this.target.watering(),this.playerAnimatorController.setWateringAnimation(),setTimeout((function(){e.setState(T.Harvest)}),this.workerTime)):this.setState(T.Harvest);break;case T.Harvest:this.target.checkHarvest()?(this.target.harvest(),this.playerAnimatorController.setHarvestAnimation(),setTimeout((function(){e.setState(T.Back)}),this.workerTime)):this.setState(T.None);break;case T.Back:this.node.setWorldPosition(this.originPos.clone()),setTimeout((function(){e.setState(T.None)}),this.workerTime)}},i.onBarnEmpty=function(){this.state==T.None&&this.setState(T.Move)},e}(s)).prototype,"playerAnimatorController",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/WorkerHouse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./GameEvent.ts","./Profile.ts","./BarnInfoPopup.ts","./UIController.ts","./MapManager.ts","./UI2DFollow3D.ts","./Worker.ts"],(function(n){"use strict";var t,r,o,e,i,a,s,u,c,l,f,p,h,g,m,b,w,k,I,d,P,y;return{setters:[function(n){t=n.applyDecoratedDescriptor,r=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized,i=n.createClass},function(n){a=n.cclegacy,s=n._decorator,u=n.Node,c=n.Prefab,l=n.Vec3,f=n.find,p=n.instantiate,h=n.Component},function(n){g=n.WorkerType},function(n){m=n.gameEvent,b=n.EventName},function(n){w=n.profile},function(n){k=n.BarnInfoPopup},function(n){I=n.UIName},function(n){d=n.MapManager},function(n){P=n.UI2DFollow3D},function(n){y=n.Worker}],execute:function(){var v,F,B,C,W,R,E,H,D;a._RF.push({},"78088B+KBdMGraaNyaUdVfP","WorkerHouse",void 0);var M=s.ccclass,A=s.property;n("WorkerHouse",(v=M("WorkerHouse"),F=A(u),B=A(c),C=A(u),v((E=t((R=function(n){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i))||this,o(t,"bagFarmContainer",E,e(t)),o(t,"workerPrefab",H,e(t)),o(t,"workerPositions",D,e(t)),t.workersRespawn=[],t.maxBagFarm=16,t.currentBagFarm=0,t.barnInfo=null,t.player=null,t.pos=new l,t.distance=3,t.barnInfoPopup=null,t}r(t,n);var a=t.prototype;return a.onLoad=function(){var n=this;m.on(b.HIRE_WORKER,this.spawnWorker,this),m.on(b.FILL_BARN,this.fillBarn,this),this.init(w.warehouse[0]),this.player=f("player"),console.log(this.player),this.pos=this.node.worldPosition.clone(),uiController.show(I.BarnInfoPopup).then((function(t){n.barnInfoPopup=t.getComponent(k),n.barnInfoPopup.node.active=!1,n.barnInfoPopup.node.getComponent(P).set(n.node,new l(0,300,0)),n.barnInfoPopup.node.getComponent(k).setInfo(n.barnInfo)}))},a.init=function(n){var t=this;this.barnInfo=n;var r=w.getAllWorkersFromHouse(n.type);r=r.filter((function(n){return n.isHired})),Object.keys(r).forEach((function(n){t.spawnWorker(r[n].type)}))},a.getCurrentAmount=function(n){return this.barnInfo.fruits[n].amount},a.getCapacity=function(n){return this.barnInfo.fruits[n].capacity},a.fillBagFarm=function(n){var t=this;void 0===n&&(n=1),this.currentBagFarm+=n,this.currentBagFarm>this.maxBagFarm&&(this.currentBagFarm=this.maxBagFarm),this.bagFarmContainer.children.forEach((function(n,r){r<t.currentBagFarm?n.active=!0:n.active=!1}))},a.fillBarn=function(n,t){console.log("fillbarn",t);var r=this.getCapacity(n),o=this.getCurrentAmount(n);(o+=t)>r&&(o=r,console.log("Barn is full")),this.barnInfo.fruits[n].amount=o,w.setWarehouse(this.barnInfo);var e=Math.floor(t/25);this.fillBagFarm(e)},a.checkFullCapacity=function(n){var t=this.getCapacity(n);return this.getCurrentAmount(n)>=t},a.spawnWorker=function(n){console.log("Spawn worker "+this.workerPositions);var t=this.workerPositions[n];if(t&&(console.log("Spawn worker "+g[n]),!this.checkWorkerRespawn(n)&&(console.log("Spawn worker "+g[n]),d.Instance.checkHasField(n)))){console.log("Spawn worker "+g[n]),this.workersRespawn.push(n);var r=t.worldPosition.clone(),o=p(this.workerPrefab);o.parent=this.node.parent,o.setWorldPosition(r),o.getComponent(y).setInfo(n,this)}},a.checkWorkerRespawn=function(n){return-1!=this.workersRespawn.indexOf(n)},a.collectFruit=function(){this.barnInfo.fruits.forEach((function(n){w.setFruit(n.name,n.amount),n.amount=0})),w.setWarehouse(this.barnInfo),this.reset(),m.emit(b.BARN_EMPTY)},a.reset=function(){this.currentBagFarm=0,this.bagFarmContainer.children.forEach((function(n,t){n.active=!1}))},a.update=function(){this.player&&this.barnInfoPopup&&(this.player.worldPosition.clone().subtract(this.pos).length()<this.distance?(this.barnInfoPopup.node.active=!0,this.barnInfoPopup.updateInfo(this.barnInfo)):this.barnInfoPopup.node.active=!1)},i(t,[{key:"canCollectFruit",get:function(){var n=!1;return this.barnInfo.fruits.forEach((function(t){t.amount>0&&(n=!0)})),n}}]),t}(h)).prototype,"bagFarmContainer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(R.prototype,"workerPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(R.prototype,"workerPositions",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=R))||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/WorkerSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts","./GlobalDefine.ts","./Profile.ts","./UIController.ts","./ItemManager.ts","./MapManager.ts"],(function(e){"use strict";var t,r,i,n,o,a,u,l,c,s,h,p,f,d,m,b,k,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Button,l=e.Sprite,c=e.Node,s=e.SpriteFrame,h=e.Component},function(e){p=e.gameEvent,f=e.EventName},function(e){d=e.globalDefine},function(e){m=e.profile},function(e){b=e.UIName},function(e){k=e.itemMgr},function(e){g=e.MapManager}],execute:function(){var v,B,F,I,w,y,S,D,W,M,z,R,H;o._RF.push({},"bf7c9g6RnBDJZFReaOQmxPe","WorkerSlot",void 0);var C=a.ccclass,E=a.property;e("WorkerSlot",(v=C("WorkerSlot"),B=E(u),F=E(l),I=E(c),w=E(s),y=E(s),v((W=t((D=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"hireButton",W,n(t)),i(t,"icon",M,n(t)),i(t,"needField",z,n(t)),i(t,"hireButtonSpriteFrame",R,n(t)),i(t,"hireButtonDisable",H,n(t)),t.workerInfo=null,t}r(t,e);var o=t.prototype;return o.start=function(){var e=this;this.hireButton.node.on("click",(function(){e.hireButton.node.active=!1,e.workerInfo.isHired=!0,m.coin-=e.workerInfo.price,m.setWorker(e.workerInfo),p.emit(f.HIRE_WORKER,e.workerInfo.type),uiController.hide(b.HouseWorkerPopup)}))},o.setInfo=function(e){this.workerInfo=e;var t=d.workerFruit.get(e.type);this.icon.spriteFrame=k.fruitImgMap.get(t),this.checkWorker()},o.checkWorker=function(){if(this.workerInfo.isHired)return this.hireButton.node.active=!1,void(this.needField.active=!1);g.Instance.checkHasField(this.workerInfo.type)?(this.hireButton.node.active=!0,this.needField.active=!1,m.coin>=this.workerInfo.price?(this.hireButton.interactable=!0,this.hireButton.getComponent(l).spriteFrame=this.hireButtonSpriteFrame):(this.hireButton.interactable=!1,this.hireButton.getComponent(l).spriteFrame=this.hireButtonDisable)):(this.needField.active=!0,this.hireButton.node.active=!1)},t}(h)).prototype,"hireButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"icon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"needField",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"hireButtonSpriteFrame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(D.prototype,"hireButtonDisable",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=D))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorldData.ts",["cc","./MapData.ts","./MapData2.ts"],(function(a){"use strict";var t,r,o;return{setters:[function(a){t=a.cclegacy},function(a){r=a.MapData},function(a){o=a.MapData2}],execute:function(){t._RF.push({},"64428zwaedF3bcPBk2CRbeu","WorldData",void 0);var e=a("WorldData",(function(){}));e.world1=r.MapData,e.world2=o.MapData,e.maxWorld=2,e.WorldData=(new Map).set(1,e.world1).set(2,e.world2),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});